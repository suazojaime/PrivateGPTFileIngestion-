<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="onboardFiles.xsl"?>

<!-- Copyright (c) 2020 Caterpillar -->

<Messages xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns="http://www.minestar.au.cat.com/namespace/onboardFiles"
          xsi:schemaLocation="http://www.minestar.au.cat.com/namespace/onboardFiles onboardFiles.xsd">

    <Type name="FileHeader">
        <Field name="fileType" format="Enum" length="8">
            <Enum value="0x00" name="notvalid"/>
            <Enum value="0x01" name="machine"/>
            <Enum value="0x03" name="material"/>
            <Enum value="0x04" name="activity"/>
            <Enum value="0x05" name="jobcode"/>
            <Enum value="0x06" name="gradeblock"/>
            <Enum value="0x07" name="delay"/>
            <Enum value="0x08" name="beacon"/>
            <Enum value="0x09" name="operator"/>
            <Enum value="0x0a" name="message"/>
            <Enum value="0x0b" name="truck"/>
            <Enum value="0x0c" name="kpi"/>
            <Enum value="0x0d" name="safetychecklist"/>
            <Enum value="0x0e" name="reserved"/>
            <Enum value="0x0f" name="fluid"/>
            <Enum value="0x10" name="lane"/>
            <Enum value="0x11" name="zone"/>
            <Enum value="0x12" name="script"/>
            <Enum value="0x13" name="machinetype"/>
            <Enum value="0x14" name="machineicon"/>
            <Enum value="0x15" name="terrainfeatures"/>
            <Enum value="0x16" name="machineperformanceproperties"/>
            <Enum value="0x17" name="orepass"/>
            <Enum value="0x18" name="operatingstatus"/>
            <Enum value="0x19" name="consumable"/>
            <Enum value="0x1a" name="fixedinfrastructure"/>
            <Enum value="0x1b" name="usereventreactions"/>
            <Enum value="0x1c" name="chute"/>
            <Enum value="0x1d" name="proxydelay"/>
            <Enum value="0x1e" name="autologgersnapshot"/>
        </Field>
        <Field name="fileVersion" format="U32" littleEndian="true"/>
    </Type>

    <Message name="onboardFile" id="0x00">
        <Field name="header" format="UserDefined" type="FileHeader"/>
    </Message>

    <Type name="DataPoint">
        <Field name="dataPointDataIndicators0" format="BitMask" length="8"
               description="BitMask used to indicate presence or absence of optional fields in the message.">
            <BitField bit="0" name="zIncluded"/>
            <BitField bit="1" name="headingIncluded"/>
            <BitField bit="2" name="pitchIncluded"/>
            <BitField bit="3" name="rollIncluded"/>
            <BitField bit="4" name="positionToleranceIncluded"/>
            <BitField bit="5" name="headingToleranceIncluded"/>
            <BitField bit="7" name="reserved" description="Reserved for future use."/>
        </Field>
        <Field name="x" format="I32" scale="0.01" units="metre" unitType="length" littleEndian="true"/>
        <Field name="y" format="I32" scale="0.01" units="metre" unitType="length" littleEndian="true"/>
        <Field name="z" format="I32" scale="0.01" units="metre" unitType="length" littleEndian="true"
               indicator="dataPointDataIndicators0" indicatorBit="0"/>
        <Field name="heading" format="U16" scale="0.0001" units="radian" unitType="plane angle" littleEndian="true"
               indicator="dataPointDataIndicators0" indicatorBit="1"/>
        <Field name="pitch" format="I16" scale="0.0001" units="radian" unitType="plane angle" littleEndian="true"
               indicator="dataPointDataIndicators0" indicatorBit="2"/>
        <Field name="roll" format="I16" scale="0.0001" units="radian" unitType="plane angle" littleEndian="true"
               indicator="dataPointDataIndicators0" indicatorBit="3"/>
        <Field name="positionTolerance" format="U16" scale="0.01" units="metre" unitType="length" littleEndian="true"
               indicator="dataPointDataIndicators0" indicatorBit="4"
               description="This represents the radius, in centimeters with the scale factor, around the data point that may be viewed as the data point in order to achieve this as a destination"/>
        <Field name="headingTolerance" format="I16" scale="0.0001" units="radian" unitType="plane angle"
               littleEndian="true"
               indicator="dataPointDataIndicators0" indicatorBit="5"
               description="the tolerance, measured in absolute radians, that the machine must be within to have achieved the data point"/>
    </Type>

    <Type name="CoordinatePosition">
        <Description>
            <![CDATA[
             2D coordinate used in the list of points to define the edges and path of a lane and to define the boundaries for Machine types.
            ]]>
        </Description>
        <Field name="x" format="I32" scale="0.01" units="metre" unitType="length" littleEndian="true"
               description="The x position of this point in meters specified in the mine coordinate system"/>
        <Field name="y" format="I32" scale="0.01" units="metre" unitType="length" littleEndian="true"
               description="The y position of this point in meters specified in the mine coordinate system"/>
    </Type>

    <Type name="MapText">
        <Description>
            <![CDATA[
             Text for lanes and zones.  The text can be scaled and rotated.
            ]]>
        </Description>
        <Field name="textIndicators0" format="BitMask" length="8">
            <BitField bit="0" name="heightIncluded" description="Default is to not scale text based on zoom"/>
            <BitField bit="1" name="angleIncluded" description="Default is horizontal"/>
            <BitField bit="2" name="colorIncluded" description="Default is black"/>
            <BitField bit="3" name="styleIncluded" description="If not set, this text has no style. Use the normal style text"/>
        </Field>
        <Field name="text" format="LongUnicode" littleEndian="true" description="Text to display"/>
        <Field name="position" format="UserDefined" type="CoordinatePosition" description="Location to display text"/>
        <Field name="height" format="U32" units="metre" unitType="length" scale="0.01" littleEndian="true"
               indicator="textIndicators0" indicatorBit="0" description="Text Height in real units"/>
        <Field name="angle" format="U16" units="radian" unitType="plane angle" scale="0.0001" littleEndian="true"
               indicator="textIndicators0" indicatorBit="1"/>
        <Field name="color" format="U32" littleEndian="true" indicator="textIndicators0" indicatorBit="2"/>
        <Field name="style" format="BitMask" length="8" indicator="textIndicators0" indicatorBit="3">
            <BitField bit="0" name="Bold"/>
            <BitField bit="1" name="Italic"/>
            <BitField bit="2" name="Underline"/>
            <BitField bit="3" name="Strikeout"/>
        </Field>
    </Type>

    <Type name="CoordinatePoint">
        <Description>
            <![CDATA[
 			3D coordinate used in the list of points to define the edges and path of a lane.
            ]]>
        </Description>
        <Field name="x" format="I32" scale="0.01" units="metre" unitType="length" littleEndian="true"
               description="The x position of this point in meters specified in the mine coordinate system"/>
        <Field name="y" format="I32" scale="0.01" units="metre" unitType="length" littleEndian="true"
               description="The y position of this point in meters specified in the mine coordinate system"/>
        <Field name="z" format="I32" scale="0.01" units="metre" unitType="length" littleEndian="true"
               description="The elevation  of this point in meters specified in the mine coordinate system. The value -2^31 is reserved to mean uncertain value at this point"/>
    </Type>

    <Type name="PathPolyline">
        <Description>
            <![CDATA[
 			Used to define lanes and data collection for zones
            ]]>
        </Description>
        <Field name="pathPointCount" format="U16" littleEndian="true" description="Count of points in the record"/>
        <Field name="pathPointList" format="Block" count="pathPointCount"
               description="List of points in the path">
            <Field name="point" format="UserDefined" type="CoordinatePoint"/>
        </Field>
    </Type>

    <Type name="SpotReference">
        <Description>
            <![CDATA[
        For autonomous trucks, all machine reference points are on the centerline of the vehicle from front to back.
        IDs 1-16, reserved for Autonomous trucks
        IDs
        ]]>
        </Description>
        <Field name="referenceID" format="Enum" length="8">
            <Enum value="0" name="positionReportingLocation"
                  description="this is the location that the machine will report in its position report"/>
            <Enum value="1" name="truckFrontCenterBumper"/>
            <Enum value="2" name="truckLoadCenter"/>
            <Enum value="3" name="truckCenterRearAxle"/>
            <Enum value="4" name="truckCenterRearTray"/>
        </Field>
    </Type>

    <Type name="AlarmLevels">
        <Description>
            <![CDATA[

                    ]]>
        </Description>
        <Field name="alarmLevel" format="Enum" length="8">
            <Enum value="0" name="alarmLevel0"
                  description="No message to the office. No audible/visual to the operator.  This is equivalent to having no alarm."/>
            <Enum value="1" name="alarmLevel1"
                  description="Message to the office.  Single beep to the operator that never repeats.  It could be snoozed, but most of these are for momentary events and so the snooze option will not make sense. "/>
            <Enum value="2" name="alarmLevel2"
                  description="Message to the office.  Single beep but witha longer duration than level 1.  This will repeat until it is snoozed.  "/>
            <Enum value="3" name="alarmLevel3"
                  description="Message to the office.  A series of 3 quick bursts followed by a pause and then continuing that pattern until it is snoozed."/>
            <Enum value="4" name="alarmLevel4"
                  description="Message to the office.  Constant audible tone, really annoying."/>
        </Field>
    </Type>

    <Type name="ZonePolygon">
        <Description>
            <![CDATA[
                <b>polygonPoints</b> are absolute coordinates used to define the simple polygon that represents the perimeter of all defined zones.
                </br><b>ref_point</b> was included to allow for a closer modeling to the MineStar waypoint geometry.
                Its purpose is to provide a single point so that the object can snap to the grid.  If used for marking
                objects, the ref_point may be used to mark a significant point of the object within the zone.
                </br><b>z_min and z_max</b> allow for a simple 3-D model using the zone.  z_max is never less than the maximum z
                value in the polygonPoints and z-min is never greater than the minimum z value in the polygonPoints.  Z_max may be greater
                than the max z in the polygonPoints and similarly z_min may be less than the minimum polygonPointValue.  z_min and max
                allow a zone to be extended vertically to account for tall objects or to be suspended in the air to mark overhangs.

                ]]>
        </Description>
        <Field name="indicators0" format="BitMask" length="8" description="">
            <BitField bit="0" name="z_minIncluded"/>
            <BitField bit="1" name="z_maxIncluded"/>
        </Field>
        <Field name="x_refPoint" format="I32" scale="0.01" units="metre" unitType="length" littleEndian="true"/>
        <Field name="y_refPoint" format="I32" scale="0.01" units="metre" unitType="length" littleEndian="true"/>
        <Field name="z_refPoint" format="I32" scale="0.01" units="metre" unitType="length" littleEndian="true"/>
        <Field name="z_min" format="I32" scale="0.01" units="metre" unitType="length" littleEndian="true"
               indicator="indicators0" indicatorBit="0"/>
        <Field name="z_max" format="I32" scale="0.01" units="metre" unitType="length" littleEndian="true"
               indicator="indicators0" indicatorBit="1"/>
        <Field name="pointCount" format="U16" littleEndian="true"/>
        <Field name="polygonPoints" format="Block" count="pointCount">
            <Field name="point" format="UserDefined" type="CoordinatePoint"/>
        </Field>
    </Type>

    <Type name="ZoneData">
        <Description>
            <![CDATA[

                    ]]>
        </Description>
        <Field name="zoneDataIndicators0" format="BitMask" length="8">
            <BitField bit="0" name="speedIncluded" description=""/>
            <BitField bit="1" name="tractionLevelIncluded" description=""/>
            <BitField bit="2" name="machineTypesIncluded" description=""/>
            <BitField bit="3" name="displayMessageOnEntry" description=""/>
            <BitField bit="4" name="displayMessageOnExit" description=""/>
            <BitField bit="7" name="reserved" description="Reserved for future use."/>
        </Field>
        <Field name="zoneDataFlags0" format="BitMask" length="16" littleEndian="true" description="">
            <BitField bit="0" name="bedDown" description=""/>
            <BitField bit="1" name="level1EntryIncident"
                      description="When a machine enters this zone it will generate an event that will be recorded and communicated with a another TMAC message"/>
            <BitField bit="2" name="level1ExitIncident"
                      description="When a machine exits this zone it will generate an event that will be recorded and communicated with a another TMAC message"/>
            <BitField bit="3" name="beepIfOtherMachinesEnter"
                      description="Once in the zone, if other machines enter, provide audible tone to the operator"/>
            <BitField bit="4" name="beepIfOtherMachinesArePresent"
                      description="if another machine is present on entry to this zone, provide audible tone to the operator"/>
            <BitField bit="5" name="silenceProximityAlarms"
                      description="Audible alarms for proximity events will be suppressed in this zone."/>
            <BitField bit="6" name="silenceRadarAlarms"
                      description="Audible alarms for radar events will be suppressed in this zone."/>
            <BitField bit="7" name="mannedExclusionZone" description="No manned equipment is allowed in here."/>
            <BitField bit="8" name="cleanUp"
                      description="Searchable property that allows one button operation for selection and locking of a zone."/>
            <BitField bit="9" name="canBeRemovedByPanel"
                      description="panels will filter for this property and if set the user may request the zone be deleted"/>
            <BitField bit="10" name="autonomousInclusionZone"
                      description="This is the autonomous zone.  Autonomous equipment may not operate outside of here and manned equipment with bad pose or comms here will be marked at risk"/>
            <BitField bit="11" name="autonomousExclusionZone"
                      description="Autonomous equipment not allowed and any manned equipment in here will not be marked at risk in Site awareness if it has a comm or pose problem"/>
            <BitField bit="12" name="multicastUpdateZone"
                      description="Used for multicast update of dynamic mine model parameters in this zone"/>
            <BitField bit="13" name="passable"
                      description="Autonomous only.  A zone that is not passable projects its property across the width of the lane"/>
            <BitField bit="15" name="reserved"/>
        </Field>
        <Field name="speedLimit" format="U8" scale="0.1" units="metres per second" unitType="speed"
               indicator="zoneDataIndicators0" indicatorBit="0"/>
        <Field name="tractionLevel" format="U8" scale="0.5" units="percent" unitType="ratio" indicator="zoneDataIndicators0"
               indicatorBit="1"
               description="This is used to setup a reduced traction zone.  Traction of the zone given in percent with 0% meaning no traction and 100% meaning full traction"/>
        <Field name="includedMachineTypeCount" format="U8" indicator="zoneDataIndicators0" indicatorBit="2"/>
        <Field name="includedMachineTypes" format="Block" count="includedMachineTypeCount"
               indicator="zoneDataIndicators0" indicatorBit="2">
            <Field name="includedMachineTypeId" format="U16" littleEndian="true"/>
        </Field>
        <Field name="messageOnEntry" format="LongUnicode" littleEndian="true" indicator="zoneDataIndicators0"
               indicatorBit="3" description=""/>
        <Field name="messageOnExit" format="LongUnicode" littleEndian="true" indicator="zoneDataIndicators0"
               indicatorBit="4" description=""/>
        <Field name="zoneName" format="UserDefined" type="MapText"/>
        <Field name="zoneColor" format="U32" littleEndian="true"/>
    </Type>

    <Type name="MachineRectangle">
        <Description>
            <![CDATA[
        Defines the four corners of a rectangle.  One usage is to represent the avoidance region of a machine.
        The positive x value defines the heading of the machine.  Corners will always be defined successively
        to create a simple polygon / rectangle.
            ]]>
        </Description>
        <Field name="corner1" format="UserDefined" type="CoordinatePosition"/>
        <Field name="corner2" format="UserDefined" type="CoordinatePosition"/>
        <Field name="corner3" format="UserDefined" type="CoordinatePosition"/>
        <Field name="corner4" format="UserDefined" type="CoordinatePosition"/>
    </Type>

    <Type name="Rectangle">
        <Description>
            <![CDATA[
        Defines the the dimensions of a rectangle.  Always positive values with 0,0, being the lower left corner
            ]]>
        </Description>
        <Field name="length" format="U32" scale="0.01" units="metre" unitType="length" littleEndian="true"/>
        <Field name="width" format="U32" scale="0.01" units="metre" unitType="length" littleEndian="true"/>
    </Type>

    <!--
      These following type definitions are all defined for the scripting of accessory controls
      Some accessory controls can be executed while moving.  Each one is specifically defined to allow or not allow for this.
      -->
    <Type name="AccessoryControl_HeadLight">
        <Description>
            <![CDATA[
             Accessory Controls are allowed to put the headlights into one of three modes:
              <br>Off
              <br>	Low Beam
              <br>High Beam
              <br><br> •	If the electrical system does not allow for autonomous
              control of Low/High beams the headlights will simply be turned ON for LowBeam or HighBeam mode
              <br><br>  <b>THIS CONTROL MAY EXECUTE WHILE IN MOTION.</b>
            ]]>
        </Description>
        <Field name="headlightMode" format="Enum" length="8">
            <Enum name="Off" value="0"/>
            <Enum name="lowBeam" value="1"/>
            <Enum name="highBeam" value="2"/>
        </Field>
    </Type>

    <Type name="AccessoryControl_Horn">
        <Description>
            <![CDATA[
          Accessory Controls are allowed to sound the horn for a specific amount of time
          <br><br>  <b>THIS CONTROL MAY EXECUTE WHILE IN MOTION.</b>
          ]]>
        </Description>
        <Field name="hornControl" format="U8" units="second" unitType="duration" scale="0.5"
               description="this defines the number of half-second intervals the horn will sound for"/>
    </Type>

    <Type name="AccessoryControl_HazardLights">
        <Description>
            <![CDATA[
          Accessory Controls are allowed to turn the flashing of the hazard lights on or off.
          <br><br>Once turned on, they may stay on after the script is deemed complete
          <br><br>  <b>THIS CONTROL MAY EXECUTE WHILE IN MOTION.</b>
          ]]>
        </Description>
        <Field name="hazardLightMode" format="Enum" length="8">
            <Enum name="undefined" value="0"/>
            <Enum name="off" value="1"/>
            <Enum name="on" value="2"/>
        </Field>
    </Type>

    <Type name="AccessoryControl_BedPosition">
        <Description>
            <![CDATA[
               The bed will automatically be put in float when an Accessory Control ends and the position is zero.  Otherwise it will be placed in hold.
              <br/>The velocity parameter in the "Bed Position Control" Accessory Control element will be ignored whenever the bed is moving in the down direction.
              <br/>Any active diagnostic on the bed system will cause this Accessory Control to fail.
              <br/>MineStar will know about the failure via events and diagnostics that are passed
              <br/><br/>  <b>THIS CONTROL MAY NOT EXECUTE WHILE IN MOTION.</b>
              ]]>
        </Description>
        <Field name="bedDesiredPosition" format="U8" units="percent" unitType="ratio"
               description="0% = Fully Lowered, 100% = Fully Raised.  0 will be treated the same as 'no command' and anything greater than 100% will be treated as 100%"/>
        <Field name="bedVelocity" format="U8" units="percent" unitType="ratio"
               description="1% = Slow as possible, 100% = Full speed.  0 will be treated the same as 'no command' and anything greater than 100% will be treated as 100%"/>
    </Type>

    <Type name="AccessoryControl_BedPositionWithMachineMotion">
        <Description>
            <![CDATA[
               This script will start to execute the specified bed movement, notify the office that the control is complete, then continue the action in the background.  The intent is for a "Move Forward" action to be placed after this script, allowing the bed movement to continue through the truck motion.  A normal "BedPosition" action is required after the movement action in order to terminate the bed control and ensure success or failure.
              <br/>The velocity parameter in the "Bed Position Control" Accessory Control element will be ignored whenever the bed is moving in the down direction.
              <br/>Any active diagnostic on the bed system will cause this Accessory Control to fail.
              <br/>MineStar will know about the failure via events and diagnostics that are passed
              <br/><br/>  <b>THIS CONTROL WILL EXECUTE WHILE IN MOTION.  The truck will "complete" the script element immediately, and continue to execute it in parallel with the following actions.</b>
              ]]>
        </Description>
        <Field name="bedDesiredPosition" format="U8" units="percent" unitType="ratio"
               description="0% = Fully Lowered, 100% = Fully Raised.  0 will be treated the same as 'no command' and anything greater than 100% will be treated as 100%"/>
        <Field name="bedVelocity" format="U8" units="percent" unitType="ratio"
               description="1% = Slow as possible, 100% = Full speed.  0 will be treated the same as 'no command' and anything greater than 100% will be treated as 100%"/>
    </Type>

    <Type name="AccessoryControl_RunTriggeredScript">
        <Description>
            <![CDATA[
          • This accessory control is intended to trigger the execution of a triggered script from an assignable one.  The Script will not wait for the actions in
          <br> the specified script to complete before running the remaining elements (or considering the script complete).
          <br><br>  <b>THIS CONTROL MAY NOT EXECUTE WHILE IN MOTION.</b>
          ]]>
        </Description>
        <Field name="id" format="U32" littleEndian="true" description="ID of the triggered script to be run"/>
        <Field name="version" format="U16" littleEndian="true" description="Version of the triggered script to be run"/>
    </Type>

    <Type name="AccessoryControl_Pause">
        <Description>
            <![CDATA[
          This will force the machine to pause in whatever state it was previously in.  e.g. if the tray was up, a pause will force the machine to hold the tray where it is for the duration of the pause.
          ]]>
        </Description>
        <Field name="pauseLength" format="U8" units="second" unitType="duration" scale="0.5"
               description="integer represents the number of 1/2 second intervals the machine must wait."/>
    </Type>

    <Type name="AccessoryControl_PauseDistance">
        <Description>
            <![CDATA[
          This will force the machine to pause in whatever state it was previously in until the truck has travelled the specified distance.  This is only valid for triggered scripts since the truck cannot
          <br>move during an assignable script.  This control will be considered complete if the distance has been travelled or the timeout has been reached.
          ]]>
        </Description>
        <Field name="pauseDistance" format="U16" units="metre" unitType="length" scale="0.5"
               description="Distance the machine must travel before this action is cosidered complete"/>
        <Field name="timeoutTime" format="U8" units="second" unitType="duration" scale="0.5"
               description="The amount of time to allow the pauseDistance to be travelled before continuing with the remainder of the script"/>
    </Type>

    <Type name="AccessoryControl_TurnSignal">
        <Description>
            <![CDATA[
            This is only defined in order to create reserved script.  There should be no reason for a user to configure the use of the turn signals.
            ]]>
        </Description>
        <Field name="turnSignalState" format="Enum" length="8">
            <Enum name="off" value="0"/>
            <Enum name="left" value="1"/>
            <Enum name="right" value="2"/>
            <Enum name="both" value="3"/>
        </Field>
    </Type>

    <Type name="AccessoryControl_Engine">
        <Description>
            <![CDATA[

                    ]]>
        </Description>
        <Field name="engineMode" format="Enum" length="8">
            <Enum name="start" value="0"/>
            <Enum name="off" value="1" description="always results in the key in the off"/>
            <Enum name="accessoryOn" value="2" description="not sure this is reaslly possible"/>
        </Field>
    </Type>

    <Type name="AccessoryControl_MachineMotion">
        <Description>
            <![CDATA[
              This will run as a triggered script and will impede the machine's ability to move.
              ]]>
        </Description>
        <Field name="motionControl" format="Enum" length="8">
            <Enum name="undefined" value="0"/>
            <Enum name="halt" value="1"/>
            <Enum name="move" value="2"/>
        </Field>
    </Type>

    <Type name="AccessoryControl">
        <Description>
          <![CDATA[
           This is the list of all supported accessory controls.  Each type of control is a unique type definition and this is just the list that is called sequentially in the file.
            ]]>
        </Description>
        <Field name="controlType" format="Enum" length="8">
            <Enum name="undefined" value="0"/>
            <Enum name="AccessoryControl_HeadLight" value="1"/>
            <Enum name="AccessoryControl_Horn" value="2"/>
            <Enum name="AccessoryControl_HazardLights" value="3"/>
            <Enum name="AccessoryControl_Bed" value="6"/>
            <Enum name="AccessoryControl_Pause" value="7"/>
            <Enum name="AccessoryControl_PauseDistance" value="8"/>
            <Enum name="AccessoryControl_RunTriggeredScript" value="9"/>
            <Enum name="AccessoryControl_TurnSignal" value="10"/>
            <Enum name="AccessoryControl_Engine" value="11"/>
            <Enum name="AccessoryControl_MachineMotion" value="12"/>
            <Enum name="AccessoryControl_BedPositionWithMachineMotion" value="13"/>
        </Field>
        <Field name="headlight" format="UserDefined" type="AccessoryControl_HeadLight" indicator="controlType"
               indicatorValue="1"/>
        <Field name="horn" format="UserDefined" type="AccessoryControl_Horn" indicator="controlType"
               indicatorValue="2"/>
        <Field name="hazardLights" format="UserDefined" type="AccessoryControl_HazardLights" indicator="controlType"
               indicatorValue="3"/>
        <Field name="bed" format="UserDefined" type="AccessoryControl_BedPosition" indicator="controlType"
               indicatorValue="6"/>
        <Field name="pause" format="UserDefined" type="AccessoryControl_Pause" indicator="controlType"
               indicatorValue="7"/>
        <Field name="pauseDistance" format="UserDefined" type="AccessoryControl_PauseDistance" indicator="controlType"
               indicatorValue="8"/>
        <Field name="runTriggeredScript" format="UserDefined" type="AccessoryControl_RunTriggeredScript"
               indicator="controlType" indicatorValue="9"/>
        <Field name="turnSignal" format="UserDefined" type="AccessoryControl_TurnSignal" indicator="controlType"
               indicatorValue="10"/>
        <Field name="engine" format="UserDefined" type="AccessoryControl_Engine" indicator="controlType"
               indicatorValue="11"/>
        <Field name="controlMotion" format="UserDefined" type="AccessoryControl_MachineMotion" indicator="controlType"
               indicatorValue="12"/>
        <Field name="bedPositionWithMachineMotion" format="UserDefined" type="AccessoryControl_BedPositionWithMachineMotion" indicator="controlType"
               indicatorValue="13"/>
    </Type>

    <Message name="machine" id="0x01">
        <Field name="header" format="UserDefined" type="FileHeader"/>
        <Field name="recordCount" format="U16" littleEndian="true"/>
        <Field name="records" format="Block" count="recordCount">
            <Field name="record" format="Block">
                <Field name="id" format="U16" littleEndian="true"
                       description="The ID used to identify this machine - embedded in various messages"/>
                <Field name="ipAddress" format="IPAddress" littleEndian="true"/>
                <Field name="port" format="U16" littleEndian="true"/>
                <Field name="machineTypeID" format="U16" littleEndian="true"
                       description="points to a reference in the machineType to define the bounding zones"/>
                <Field name="name" format="LongUnicode" littleEndian="true" description="The name of the machine"/>
            </Field>
        </Field>
    </Message>

    <Message name="material" id="0x03">
        <Field name="header" format="UserDefined" type="FileHeader"/>
        <Field name="recordCount" format="U16" littleEndian="true"/>
        <Field name="records" format="Block" count="recordCount">
            <Field name="record" format="Block">
                <Field name="id" format="U32" littleEndian="true"
                       description="The ID used to identify this material - embedded in various messages"/>
                <Field name="name" format="LongUnicode" littleEndian="true" description="The name of the material"/>
            </Field>
        </Field>
    </Message>

    <Message name="activity" id="0x04">
        <Field name="header" format="UserDefined" type="FileHeader"/>
        <Field name="recordCount" format="U16" littleEndian="true"/>
        <Field name="records" format="Block" count="recordCount">
            <Field name="record" format="Block">
                <Field name="id" format="U32" littleEndian="true"
                       description="The ID used to identify this activity - embedded in various messages"/>
                <Field name="name" format="LongUnicode" littleEndian="true" description="The name of the activity"/>
            </Field>
        </Field>
    </Message>

    <Message name="jobcode" id="0x05">
        <Field name="header" format="UserDefined" type="FileHeader"/>
        <Field name="recordCount" format="U16" littleEndian="true"/>
        <Field name="records" format="Block" count="recordCount">
            <Field name="record" format="Block">
                <Field name="id" format="U32" littleEndian="true"
                       description="The ID used to identify this job code - embedded in various messages"/>
                <Field name="name" format="LongUnicode" littleEndian="true" description="The name of the job code"/>
            </Field>
        </Field>
    </Message>

    <Message name="gradeblock" id="0x06">
        <Field name="header" format="UserDefined" type="FileHeader"/>
        <Field name="recordCount" format="U16" littleEndian="true"/>
        <Field name="records" format="Block" count="recordCount">
            <Field name="record" format="Block">
                <Field name="id" format="U16" littleEndian="true"
                       description="The ID used to identify this grade block - embedded in various messages"/>
                <Field name="version" format="U16" littleEndian="true"/>
                <Field name="name" format="LongUnicode" littleEndian="true" description="The name of the grade block"/>
                <Field name="material ID" format="U16" littleEndian="true"
                       description="The material associated with this grade block"/>
                <Field name="flags" format="U8" littleEndian="true"/>
            </Field>
        </Field>
    </Message>

    <Message name="delay" id="0x07">
        <Field name="header" format="UserDefined" type="FileHeader"/>
        <Field name="recordCount" format="U16" littleEndian="true"/>
        <Field name="records" format="Block" count="recordCount">
            <Field name="record" format="Block">
                <Field name="id" format="U16" littleEndian="true"
                       description="The ID used to identify this delay - embedded in various messages"/>
                <Field name="level" format="U16" littleEndian="true"/>
                <Field name="duration (minutes)" format="U16" littleEndian="true"
                       description="The expected duration of the delay"/>
                <Field name="name" format="LongUnicode" littleEndian="true" description="The name of the delay"/>
            </Field>
        </Field>
    </Message>

    <Message name="waypoint" id="0x08">
        <Field name="header" format="UserDefined" type="FileHeader"/>
        <Field name="recordCount" format="U16" littleEndian="true"/>
        <Field name="records" format="Block" count="recordCount">
            <Field name="record" format="Block">
                <Field name="id" format="U16" littleEndian="true"
                       description="The ID used to identify this waypoint - embedded in various messages"/>
                <Field name="version" format="U16" littleEndian="true"/>
                <Field name="flags" format="U8" littleEndian="true"/>
                <Field name="type" format="U8" littleEndian="true"/>
                <Field name="machine ID" format="U16" littleEndian="true"/>
                <Field name="colour" format="U8" littleEndian="true"/>
                <Field name="min Z" format="I32" scale="0.01" units="metre" unitType="length" littleEndian="true"/>
                <Field name="max Z" format="I32" scale="0.01" units="metre" unitType="length" littleEndian="true"/>
                <Field name="route X" format="I32" scale="0.01" units="metre" unitType="length" littleEndian="true"/>
                <Field name="route Y" format="I32" scale="0.01" units="metre" unitType="length" littleEndian="true"/>
                <Field name="name" format="LongUnicode" littleEndian="true"/>
                <Field name="polygon" format="Block">
                    <Field name="pointCount" format="U16" littleEndian="true"/>
                    <Field name="points" format="Block" count="pointCount">
                        <Field name="point" format="Block">
                            <Field name="X" format="I32" scale="0.01" units="metre" unitType="length"
                                   littleEndian="true"/>
                            <Field name="Y" format="I32" scale="0.01" units="metre" unitType="length"
                                   littleEndian="true"/>
                            <Field name="Z" format="I32" scale="0.01" units="metre" unitType="length"
                                   littleEndian="true"/>
                        </Field>
                    </Field>
                </Field>
            </Field>
        </Field>
    </Message>

    <Message name="operator" id="0x09">
        <Field name="header" format="UserDefined" type="FileHeader"/>
        <Field name="recordCount" format="U16" littleEndian="true"/>
        <Field name="records" format="Block" count="recordCount">
            <Field name="record" format="Block">
                <Field name="id" format="U32" littleEndian="true"
                       description="The ID used to identify this operator - embedded in various messages  (0=category)"/>
                <Field name="level" format="U16" littleEndian="true"/>
                <Field name="name" format="LongUnicode" littleEndian="true" description="The name of the operator"/>
            </Field>
        </Field>
    </Message>

    <Message name="message" id="0x0A">
        <Field name="header" format="UserDefined" type="FileHeader"/>
        <Field name="recordCount" format="U16" littleEndian="true"/>
        <Field name="records" format="Block" count="recordCount">
            <Field name="record" format="Block">
                <Field name="id" format="U16" littleEndian="true" description="The ID used to identify this message"/>
                <Field name="title" format="LongUnicode" littleEndian="true"/>
                <Field name="text" format="LongUnicode" littleEndian="true"/>
                <Field name="responseType" format="Enum" length="8" littleEndian="true">
                    <Enum value="0" name="None"/>
                    <Enum value="1" name="OK"/>
                    <Enum value="2" name="OK_Cancel"/>
                    <Enum value="3" name="Yes_No"/>
                    <Enum value="128" name="None"/>
                    <Enum value="129" name="OK"/>
                    <Enum value="130" name="OK_Cancel"/>
                    <Enum value="131" name="Yes_No"/>
                </Field>
                <Field name="flags" format="BitMask" length="16" littleEndian="true">
                    <BitField bit="0" name="machine allowed to send"/>
                    <BitField bit="1" name="truck allowed to send"/>
                    <BitField bit="2" name="shovel allowed to send"/>
                    <BitField bit="3" name="loader allowed to send"/>
                    <BitField bit="4" name="dozer allowed to send"/>
                    <BitField bit="5" name="soilcompactor allowed to send"/>
                    <BitField bit="6" name="grader allowed to send"/>
                    <BitField bit="7" name="reserved - always true"/>
                    <BitField bit="8" name="scraper allowed to send"/>
                    <BitField bit="9" name="compactor allowed to send"/>
                    <BitField bit="10" name="wheeldozer allowed to send"/>
                    <BitField bit="11" name="drill allowed to send"/>
                    <BitField bit="12" name="dragline allowed to send"/>
                    <BitField bit="13" name="watertruck allowed to send"/>
                    <BitField bit="14" name="lightvehicle allowed to send"/>
                    <BitField bit="15" name="reserved - always false"/>
                </Field>
            </Field>
        </Field>
    </Message>

    <Message name="truck" id="0x0B">
        <Field name="header" format="UserDefined" type="FileHeader"/>
        <Field name="recordCount" format="U16" littleEndian="true"/>
        <Field name="records" format="Block" count="recordCount">
            <Field name="record" format="Block">
                <Field name="id" format="U16" littleEndian="true"
                       description="The ID used to identify this truck - embedded in various messages"/>
                <Field name="group" format="U16" littleEndian="true"/>
                <Field name="Dipper Info" format="U32" littleEndian="true"/>
                <Field name="payload" format="U16" scale="0.1" units="tonne" unitType="mass" littleEndian="true"
                       description="t x 10"/>
                <Field name="flags" format="U16" littleEndian="true"/>
            </Field>
        </Field>
    </Message>

    <Message name="kpi" id="0x0C">
        <Field name="header" format="UserDefined" type="FileHeader"/>
        <Field name="recordCount" format="U16" littleEndian="true"/>
        <Field name="records" format="Block" count="recordCount">
            <Field name="record" format="Block">
                <Field name="id" format="U32" littleEndian="true" description="The ID used to identify this kpi type"/>
                <Field name="name" format="LongUnicode" littleEndian="true" description="The title of the kpi"/>
            </Field>
        </Field>
    </Message>

    <Message name="safetychecklist" id="0x0D" version="1">
        <Field name="header" format="UserDefined" type="FileHeader"/>
        <Field name="recordCount" format="U16" littleEndian="true"/>
        <Field name="records" format="Block" count="recordCount">
            <Field name="record" format="Block">
                <Field name="id" format="U32" littleEndian="true"
                       description="The ID used to identify this item - used in SendChecklist message  (0=category)"/>
                <Field name="safety item (,action)" format="LongUnicode" littleEndian="true"
                       description="The name of the safety item (and optional action)"/>
            </Field>
        </Field>
    </Message>

    <Message name="safetychecklist" id="0x0D" version="2">
        <Field name="header" format="UserDefined" type="FileHeader"/>
        <Field name="recordCount" format="U16" littleEndian="true"/>
        <Field name="records" format="Block" count="recordCount">
            <Field name="record" format="Block">
                <Field name="id" format="U32" littleEndian="true"
                       description="The ID used to identify this item - used in SendChecklist message  (0=category)"/>
                <Field name="flags" format="U8" invert="true"
                       littleEndian="true"/>
                <Field name="safety item (,action)" format="LongUnicode" littleEndian="true"
                       description="The name of the safety item (and optional action)"/>
            </Field>
        </Field>
    </Message>

    <Message name="fluid" id="0x0F">
        <Field name="header" format="UserDefined" type="FileHeader"/>
        <Field name="recordCount" format="U16" littleEndian="true"/>
        <Field name="records" format="Block" count="recordCount">
            <Field name="record" format="Block">
                <Field name="id" format="U32" littleEndian="true"
                       description="The ID used to identify this fluid - embedded in various messages  (0=category)"/>
                <Field name="name" format="LongUnicode" littleEndian="true" description="The name of the fluid"/>
            </Field>
        </Field>
    </Message>

    <Message name="lane" id="0x10">
        <Description>
            <![CDATA[
            </br>The order of the array indices implies the direction of travel
			</br>All lists do not need an equal number of points
			</br> Lane width is defined by the minimum distance between the leftEdge and rightEdge
            ]]>
        </Description>
        <Field name="header" format="UserDefined" type="FileHeader"/>
        <Field name="recordCount" format="U16" littleEndian="true"/>
        <Field name="records" format="Block" count="recordCount">
            <Field name="record" format="Block">
                <Field name="indicators0" format="BitMask" length="8"
                       description="This bitmask is only used to indicate the presence or absence of variables in the message.">
                    <BitField bit="0" name="laneNameIncluded"/>
                    <BitField bit="7" name="reserved" description="Reserved for future use."/>
                </Field>
                <Field name="id" format="U32" littleEndian="true"/>
                <Field name="version" format="U16" littleEndian="true"/>
                <Field name="speedLimit" format="U8" scale="0.1" units="metres per second" unitType="speed"
                       description=""/>
                <Field name="leftEdgePoints" format="UserDefined" type="PathPolyline"
                       description="Points that define the left edge of the lane."/>
                <Field name="rightEdgePoints" format="UserDefined" type="PathPolyline"
                       description="Points that define the left edge of the lane."/>
                <Field name="intendedPathPoints" format="UserDefined" type="PathPolyline"
                       description="Points that define the travel path of the lane."/>
                <Field name="laneName" format="UserDefined" type="MapText" indicator="indicators0" indicatorBit="0"
                       description="Name of the lane.  This may be displayed in manned machines."/>
                <Field name="flags" format="BitMask" length="8" littleEndian="true">
                    <BitField bit="0" name="dynamic"
                              description="If this is set, the lane is a dynamically managed lane.  Otherwise, it is a static lane."/>
                    <BitField bit="1" name="unusualPath"
                              description="DEPRECATED - This flag was proposed but never implemented."/>
                    <BitField bit="2" name="uncertainSurfaceLaneStart"
                              description="The lane starts with points that have no specific z values. e.g. A floating lane extension for highwall/crusher dumping"/>
                    <BitField bit="3" name="uncertainSurfaceLaneEnd"
                              description="The lane ends with points that have no specific z values. e.g. A floating lane extension for highwall/crusher dumping"/>
                    <BitField bit="4" name="mannedTraffic"
                              description="These lanes represent paths travelled by manned vehicles. AMTs will use these lanes to help predict travel paths of manned vehicles"/>
                    <BitField bit="5" name="autonomousTraffic"
                              description="These lanes represent paths travelled by autonomous vehicles. AMTs will not travel on lanes unless this flag is set"/>
                    <BitField bit="6" name="display"
                              description="This flag indicates that this lane should be displayed onboard regardless of whether it is currently beign used by a machine"/>
                    <BitField bit="7" name="useMaxCurvature"
                              description="This flag indicates that this lane can be traversed by the truck with a maximum curvature turn"/>
                </Field>
            </Field>
        </Field>
    </Message>

    <Message name="zone" id="0x11">
        <Field name="header" format="UserDefined" type="FileHeader"/>
        <Field name="recordCount" format="U16" littleEndian="true"/>
        <Field name="records" format="Block" count="recordCount">
            <Field name="record" format="Block">
                <Field name="id" format="U32" littleEndian="true"/>
                <Field name="version" format="U16" littleEndian="true"/>
                <Field name="polygon" format="UserDefined" type="ZonePolygon"/>
                <Field name="zoneData" format="UserDefined" type="ZoneData"/>
            </Field>
        </Field>
    </Message>

    <Message name="script" id="0x12">
        <Description>
            <![CDATA[
           The following IDs are reserved for use:  Reserved IDs may still be built in the office for user custom configuration.
                  </br> 0x00  - A-Stop test Routine
                  </br> 0x01  - Engine start - When the engine starts
                  </br> 0x02  - Left Turn Signal ON
                  </br> 0x03  - Right Turn Signal ON
                  </br> 0x04  - Both Turn OFF
                  </br> 0x05  - Both Turn ON
                  </br> 0x06  - Start of Forward Motion directly following mode change
                  </br> 0x07  - Start of Reverse Motion directly following mode change
                  </br> 0x08  - Start of Forward Motion any other time
                  </br> 0x09  - Start of Reverse Motion any other time
                  </br> 0x0A  - Hard Stop
                  </br> 0x0B  - Level 4 Proximity Stop
        ]]>
        </Description>

        <Field name="header" format="UserDefined" type="FileHeader"/>
        <Field name="recordCount" format="U16" littleEndian="true"/>
        <Field name="records" format="Block" count="recordCount">
            <Field name="record" format="Block">
                <Field name="id" format="U32" littleEndian="true"
                       description="See File Type description for reserved Script IDs. The lowest User configurable script ID will Ox80"/>
                <Field name="version" format="U16" littleEndian="true"/>
                <Field name="count" format="U16" littleEndian="true"/>
                <Field name="controls" format="Block" count="count">
                    <Field name="accessoryControls" format="UserDefined" type="AccessoryControl"
                           description="The sequenced order of accessory controls, built by a site to align with their practices"/>
                </Field>
            </Field>
        </Field>
    </Message>

    <Message name="machinetype" id="0x13" version="1">
      <Field name="header" format="UserDefined" type="FileHeader"/>
      <Field name="recordCount" format="U16" littleEndian="true"/>
      <Field name="records" format="Block" count="recordCount">
        <Field name="record" format="Block">
          <Field name="id" format="U16" littleEndian="true"
                   description="The ID used to identify this definition - used in the machine file to further define a machine's properties"/>
          <Field name="categoryId" format="Enum" length="8">
            <Enum value="0" name="TrackDozer"/>
            <Enum value="1" name="WheelLoader"/>
            <Enum value="2" name="CableShovel"/>
            <Enum value="3" name="Compactor"/>
            <Enum value="4" name="Grader"/>
            <Enum value="5" name="Scraper"/>
            <Enum value="6" name="Reserved" description="Not Used"/>
            <Enum value="7" name="SoilCompactor"/>
            <Enum value="8" name="Reserved" description="Not Used"/>
            <Enum value="9" name="Reserved" description="Not Used"/>
            <Enum value="10" name="WheelDozer"/>
            <Enum value="11" name="Drill"/>
            <Enum value="12" name="OtherWithHeading"/>
            <Enum value="13" name="HaulTruck"/>
            <Enum value="14" name="WaterTruck"/>
            <Enum value="15" name="TrackExcavator"/>
            <Enum value="16" name="HydraulicShovel"/>
            <Enum value="17" name="ArticulatedTruck"/>
            <Enum value="18" name="Dragline"/>
            <Enum value="19" name="FuelTruck"/>
            <Enum value="20" name="Tractor"/>
            <Enum value="21" name="WheelExcavator"/>
            <Enum value="22" name="TrackLoader"/>
            <Enum value="23" name="Reserved" description="Officially deprecated but still in use onboard"/>
            <Enum value="24" name="Reserved" description="Officially deprecated but still in use onboard"/>
            <Enum value="25" name="LightVehicle"/>
            <Enum value="26" name="Infrastructure"/>
            <Enum value="27" name="SurfaceMiner"/>
            <Enum value="28" name="UndergroundTruck"/>
            <Enum value="29" name="UndergroundLHD"/>
            <Enum value="30" name="TerrainLeveler"/>
            <Enum value="31" name="PerceptionBasedLocalization"/>
            <Enum value="32" name="PerceptionCalibrationVerification"/>
            <Enum value="33" name="AutomaticObjectDetectionVerification"/>
            <Enum value="34" name="UndergroundSBU"/>
            <Enum value="35" name="InpitCrusher"/>
            <Enum value="36" name="RopeShovel"/>
            <Enum value="99" name="OtherNoHeading"/>
          </Field>
          <Field name="iconId" format="U16" littleEndian="true" description="The ID of the icon to be used to display the machine type (reserved for future use)"/>
          <Field name="flags" format="BitMask" length="8"
                  description="This bitmask is used to control message routing for the machine type.">
              <BitField bit="0" name="externalMachine" description="External Machine. Do not send direct peer-to-peer messages"/>
              <BitField bit="1" name="routeOperatorMessages" description="Route operator (text) messages"/>
              <BitField bit="2" name="routeAllMessages" description="Route all messages including operator (text) messages"/>
              <BitField bit="3" name="avoidanceCircleIncluded" description="Use a circular avoidance area instead of a polygon."/>
          </Field>
          <Field name="name" format="LongUnicode" littleEndian="true" />
          <Field name="bodyPointCount" format="U16" littleEndian="true"
                 description="This defines the parts of a machine that must not overlap when spotting."/>
          <Field name="bodyPolygonPoints" format="Block" count="bodyPointCount">
            <Field name="bodyPoint" format="UserDefined" type="CoordinatePosition"/>
          </Field>
          <Field name="avoidancePointCount" format="U16" littleEndian="true" indicator="flags" indicatorBit="3" invert="true"
                 description="This surrounds the machine with extra buffer space.  Unless  a machine is spotting to another machine, no machine's
                 avoidance boundary should ever overlap another machine's avoidance boundary."/>
          <Field name="avoidancePolygonPoints" format="Block" count="avoidancePointCount" indicator="flags" indicatorBit="3" invert="true">
            <Field name="avoidancePoint" format="UserDefined" type="CoordinatePosition"/>
          </Field>
          <Field name="avoidanceCircle" format="U16" scale="0.01" units="metre" unitType="length" littleEndian="true"
                 indicator="flags" indicatorBit="3" description="This is a radius for a circular buffer space. Normally used for shovels and
                 draglines to mark the furthest reach of their booms. Set to zero (0) where not applicable."/>
          </Field>
      </Field>
    </Message>

    <Message name="machinetype" id="0x13" version="2">
        <Field name="header" format="UserDefined" type="FileHeader"/>
        <Field name="recordCount" format="U16" littleEndian="true"/>
        <Field name="records" format="Block" count="recordCount">
            <Field name="record" format="Block">
                <Field name="id" format="U16" littleEndian="true"
                       description="The ID used to identify this definition - used in the machine file to further define a machine's properties"/>
                <Field name="indicators0" format="BitMask" length="8"
                       description="maps the additional included information in the file">
                    <BitField bit="0" name="pathRegionIncluded"/>
                    <BitField bit="1" name="bodyCircleIncluded"
                              description="Use a circular avoidance area instead of a polygon."/>
                    <BitField bit="2" name="machinePerformancePropertiesIncluded"
                              description="these represent specific properties of the machine performance limits allowing for estimation of future positions"/>
                    <BitField bit="3" name="avoidanceCircleIncluded"
                              description="Use a circular avoidance area instead of a polygon."/>
                    <BitField bit="4" name="centerOfRotationOffsetIncluded"
                              description="This bit must be included for proper representation of machines whose body and/or avoidance is defined by a circle."/>
                    <BitField bit="5" name="iconIncluded"
                              description="True if there is an icon associated with the machine type"/>
                    <BitField bit="7" name="reserved"/>
                </Field>
                <Field name="flags" format="BitMask" length="8"
                       description="This bitmask is used to control message routing for the machine type.">
                    <BitField bit="0" name="externalMachine"
                              description="External Machine. Do not send direct peer-to-peer messages"/>
                    <BitField bit="1" name="routeOperatorMessages" description="Route operator (text) messages"/>
                    <BitField bit="2" name="routeAllMessages"
                              description="Route all messages including operator (text) messages"/>
                    <BitField bit="3" name="infrastructure"
                              description="this flag is set as a property that tells a panel that this infrastructure item can be transported i.e. lightplant, accesspoint, etc."/>
                    <BitField bit="4" name="canBeTowed"
                              description="tells a panel that this is a selectable item to be towed and the panel will report a position for this item in SiteAwareness"/>
                    <BitField bit="5" name="serverProximityExempt"
                              description="A machine (typically a loader or crusher) that has the bit set will ignore the avoidance zone of any machine that has bit 6 set to true"/>
                    <BitField bit="6" name="avoidanceProximityExempt"
                              description="A machine (typically a truck) that has this bit set will ignore the avoidance zone of any machine that has bit 5 set to true"/>
                    <BitField bit="7" name="reserved"/>
                </Field>
                <Field name="categoryId" format="Enum" length="8">
                    <Enum value="0" name="TrackDozer"/>
                    <Enum value="1" name="WheelLoader"/>
                    <Enum value="2" name="CableShovel"/>
                    <Enum value="3" name="Compactor"/>
                    <Enum value="4" name="Grader"/>
                    <Enum value="5" name="Scraper"/>
                    <Enum value="6" name="Reserved" description="Not Used"/>
                    <Enum value="7" name="SoilCompactor"/>
                    <Enum value="8" name="Reserved" description="Not Used"/>
                    <Enum value="9" name="Reserved" description="Not Used"/>
                    <Enum value="10" name="WheelDozer"/>
                    <Enum value="11" name="Drill"/>
                    <Enum value="12" name="OtherWithHeading"/>
                    <Enum value="13" name="HaulTruck"/>
                    <Enum value="14" name="WaterTruck"/>
                    <Enum value="15" name="TrackExcavator"/>
                    <Enum value="16" name="HydraulicShovel"/>
                    <Enum value="17" name="ArticulatedTruck"/>
                    <Enum value="18" name="Dragline"/>
                    <Enum value="19" name="FuelTruck"/>
                    <Enum value="20" name="Tractor"/>
                    <Enum value="21" name="WheelExcavator"/>
                    <Enum value="22" name="TrackLoader"/>
                    <Enum value="23" name="Reserved" description="Officially deprecated but still in use onboard"/>
                    <Enum value="24" name="Reserved" description="Officially deprecated but still in use onboard"/>
                    <Enum value="25" name="LightVehicle"/>
                    <Enum value="26" name="Infrastructure"/>
                    <Enum value="27" name="SurfaceMiner"/>
                    <Enum value="28" name="UndergroundTruck"/>
                    <Enum value="29" name="UndergroundLHD"/>
                    <Enum value="30" name="TerrainLeveler"/>
                    <Enum value="31" name="PerceptionBasedLocalization"/>
                    <Enum value="32" name="PerceptionCalibrationVerification"/>
                    <Enum value="33" name="AutomaticObjectDetectionVerification"/>
                    <Enum value="34" name="UndergroundSBU"/>
                    <Enum value="35" name="InpitCrusher"/>
                    <Enum value="36" name="RopeShovel"/>
                    <Enum value="99" name="OtherNoHeading"/>
                </Field>
                <Field name="machineIconId" format="U16" littleEndian="true" indicator="indicators0" indicatorBit="5"
                       description="The machine icon is optional.  If it is not provided, the categoryId may be used to determine a default icon."/>
                <Field name="name" format="LongUnicode" littleEndian="true"/>
                <Field name="bodyRectangle" format="UserDefined" type="MachineRectangle" indicator="indicators0"
                       indicatorBit="1" invert="true"/>
                <Field name="bodyCircle" format="U16" scale="0.01" units="metre" unitType="length" littleEndian="true"
                       indicator="indicators0" indicatorBit="1"
                       description="This is a radius for a circular buffer space. Normally used for shovels and draglines to mark the furthest reach of their booms. Set to zero (0) where not applicable."/>
                <Field name="avoidanceRectangle" format="UserDefined" type="MachineRectangle" indicator="indicators0"
                       indicatorBit="3" invert="true"/>
                <Field name="avoidanceCircle" format="U16" scale="0.01" units="metre" unitType="length"
                       littleEndian="true"
                       indicator="indicators0" indicatorBit="3"
                       description="This is a radius for a circular buffer space. Normally used for shovels and draglines to mark the furthest reach of their booms. Set to zero (0) where not applicable."/>
                <Field name="centerOfRotationOffset" format="UserDefined" type="CoordinatePosition" indicator="indicators0"
                       indicatorBit="4"
                       description="When this is included and a machine has a circular representation, this represents the offset of the position reference from the origin to the center of rotation.  If this is included for a machine defined by a rectangle, this value is ignored. If a circle is used and this point is not included, then the position reference is assumed to be the center of rotation."/>
                <Field name="pathRegionParameters" format="Block" indicator="indicators0" indicatorBit="0"
                       description="Path Region is used to extended a machine boundary beyond the avoidance boundary.  Following formula is used to create the extent of the boundaries for each machine x = x0 + ks + e where: 'x' is the projected length of the path region, 'x0' is a point on current avoidance zone boundary for that machine, 'k' is a constant set below as 'pathRegionScalar', 's' is the machine's current linear speed, and uses the current heading, and 'e' is the pathRegionExtension.">
                    <Field name="pathRegionScalar" format="I32" scale="0.01" littleEndian="true"
                           description="This scalar represents units of time and defines the look ahead distance used for each machine type."/>
                    <Field name="pathRegionExtension" format="I32" scale="0.01" littleEndian="true"
                           description="Fixed distance to be added to the calculated look-ahead distance for all machines."/>
                </Field>
                <Field name="machinePerformanceProperties" format="Block" indicator="indicators0" indicatorBit="2"
                       description="">
                    <Field name="mPPIndicators0" format="BitMask" length="8" description="">
                        <BitField bit="0" name="maxDecelIncluded"/>
                        <BitField bit="1" name="maxAccelIncluded"/>
                        <BitField bit="2" name="maxForwardSpeedIncluded"/>
                        <BitField bit="3" name="maxReverseSpeedIncluded"/>
                        <BitField bit="4" name="minTurningRadiusIncluded"/>
                    </Field>
                    <Field name="maxDeceleration" format="U16" units="metres per second squared" unitType="acceleration"
                           scale="0.01" littleEndian="true" indicator="mPPIndicators0" indicatorBit="0"
                           description="This value represents the max deceleration value of a specific machineType"/>
                    <Field name="maxAcceleration" format="U16" units="metres per second squared" unitType="acceleration"
                           scale="0.01" littleEndian="true" indicator="mPPIndicators0" indicatorBit="1"
                           description="This value represents the max Acceleration value of a specific machineType"/>
                    <Field name="maxForwardSpeed" format="U8" scale="0.1" units="metres per second" unitType="speed"
                           indicator="mPPIndicators0" indicatorBit="2"
                           description="Used by self to monitor max allowed speed, used by others to calculate rate of growth of avoidance region between comm messages and during out of comms or bad position conditions and used by others to establish possible paths."/>
                    <Field name="maxReverseSpeed" format="U8" scale="0.1" units="metres per second" unitType="speed"
                           indicator="mPPIndicators0" indicatorBit="3"
                           description="Used by self to monitor max allowed speed, ..used by others to calculate rate of growth of avoidance region between comm messages and during out of comms or bad position conditions."/>
                    <Field name="minTurningRadius" format="U16" scale="0.1" units="metre" unitType="radius" littleEndian="true"
                           indicator="mPPIndicators0" indicatorBit="4"
                           description="defines the minimum turning radius that can be achieved by this vehicle."/>
                </Field>
            </Field>
        </Field>
    </Message>

    <Message name="machineicon" id="0x14">
        <Field name="header" format="UserDefined" type="FileHeader"/>
        <Field name="recordCount" format="U16" littleEndian="true" />
        <Field name="records" format="Block" count="recordCount">
            <Field name="record" format="Block">
                <Field name="id" format="U16" littleEndian="true"
                       description="The ID used to identify this icon."/>
                <Field name="numResolutionRanges" format="U8"
                       description="This defines how many different icons are defined per machine type to appear at the different resolutions.  Resoultions will defined as pixels per meter."/>
                <Field name="icons" format="Block" count="numResolutionRanges" description="">
                    <Field name="icon" format="Block">
                        <Field name="rangeMinimum" format="U16" scale="0.01" units="pixels per metre"
                               unitType="screenResolution"
                               description="this value is defined in Pixels per meter. This sets up the icons so the default is always the highest resolution definition."/>
                        <Field name="iconObjectCount" format="U16" littleEndian="true"
                               description="The icon objects are ordered such that the zero indexed object is disoplyed as the lowest layer"/>
                        <Field name="iconObjects" format="Block" count="iconObjectCount"
                               description="This is the collection of icon objects that make up the icon.  The layers of display are that that the lowest index object in this file will be the one painted the furthest to the back">
                            <Field name="iconObject" format="Block" description="">
                                <Field name="iconObjectType" format="Enum" length="8">
                                    <Enum name="polygon" value="0" description="Closed polygon"/>
                                    <Enum name="polyline" value="1"/>
                                    <Enum name="circle" value="2"/>
                                </Field>
                                <Field name="lineColorFunction" format="Enum" length="8"
                                       description="Line color function for the object.">
                                    <Enum name="noColor" value="0" description="Do not fill the object"/>
                                    <Enum name="absoluteColor" value="1" description="Use the included RGB color"/>
                                    <Enum name="truckColor" value="2"
                                          description="Use the color of material in the current truck load"/>
                                    <Enum name="bucketColor" value="3"
                                          description="Use the color of material in the current bucket"/>
                                </Field>
                                <Field name="lineColor" format="Block" indicator="lineColorFunction" indicatorValue="1">
                                    <Field name="red" format="U8"/>
                                    <Field name="green" format="U8"/>
                                    <Field name="blue" format="U8"/>
                                </Field>
                                <Field name="iconPolygon" format="Block" indicator="iconObjectType" indicatorValue="0"
                                       description="Describes a polygon.  The polygon is always closed.  If the first and last points do not match, the application will still close the polygon">
                                    <Field name="fillColorFunction" format="Enum" length="8"
                                           description="Fill color for icon object.  Only applies to polygon and ellipse, will be ignored for polyline">
                                        <Enum name="noColor" value="0" description="Do not fill the object"/>
                                        <Enum name="absoluteColor" value="1" description="Use the included RGB color"/>
                                        <Enum name="truckColor" value="2"
                                              description="Use the color of material in the current truck load"/>
                                        <Enum name="bucketColor" value="3"
                                              description="Use the color of material in the current bucket"/>
                                    </Field>
                                    <Field name="fillColor" format="Block" indicator="fillColorFunction"
                                           indicatorValue="1">
                                        <Field name="red" format="U8"/>
                                        <Field name="green" format="U8"/>
                                        <Field name="blue" format="U8"/>
                                    </Field>
                                    <Field name="iconPolygonPointCount" format="U16"/>
                                    <Field name="iconPolygonPoints" format="Block" count="iconPolygonPointCount">
                                        <Field name="iconPoint" format="UserDefined" type="CoordinatePoint"/>
                                    </Field>
                                </Field>
                                <Field name="iconPolyline" format="Block" indicator="iconObjectType" indicatorValue="1">
                                    <Field name="iconPolylineWidth" format="U8" units="pixel" unitType="screenWidth"/>
                                    <Field name="iconPolylinePointCount" format="U16"/>
                                    <Field name="iconPolylinePoints" format="Block" count="iconPolylinePointCount">
                                        <Field name="iconPoint" format="UserDefined" type="CoordinatePoint"/>
                                    </Field>
                                </Field>
                                <Field name="iconCircle" format="Block" indicator="iconObjectType" indicatorValue="2">
                                    <Field name="fillColorFunction" format="Enum" length="8"
                                           description="Fill color for icon object.  Only applies to polygon and ellipse, will be ignored for polyline">
                                        <Enum name="noColor" value="0" description="Do not fill the object"/>
                                        <Enum name="absoluteColor" value="1" description="Use the included RGB color"/>
                                        <Enum name="truckColor" value="2"
                                              description="Use the color of material in the current truck load"/>
                                        <Enum name="bucketColor" value="3"
                                              description="Use the color of material in the current bucket"/>
                                    </Field>
                                    <Field name="fillColor" format="Block" indicator="fillColorFunction"
                                           indicatorValue="1">
                                        <Field name="red" format="U8"/>
                                        <Field name="green" format="U8"/>
                                        <Field name="blue" format="U8"/>
                                    </Field>
                                    <Field name="circleCenterPoint" format="UserDefined" type="CoordinatePoint"/>
                                    <Field name="circleRadius" format="U16" scale="0.01" units="metre"
                                           unitType="length"/>
                                </Field>
                            </Field>
                        </Field>
                    </Field>
                </Field>
            </Field>
        </Field>
    </Message>

    <Message name="terrainfeatures" id="0x15">
        <Description>
            <![CDATA[
          This definition is used by the field equipment to display a list of different types of topographical features for a user to choose from.  It will also be
          pointed to the zone file in order to have a zone cross reference in the case of hazards.  Since this file can be used for both hazard-like features as well
          as expected terrain features such as berms it contains options that allow for the differentiation of these two.
          The user in the office will build a series of possible features and this will populate a list that is to be displayed by the panel to the user
          when submitting one of these features.  On the office side, these hazards should already have a predefined set of zoneData that will
          apply based on the type of feature.  This relationship will have to be built at the time the user creates the hazard in the office.
          If these features are used to define the characteristic of the raw data collected by panels, such as CAES collecting data for the dump tiphead or
          load area boundaries, this type ID will be included in the header for the data collection file sent back to the office.

          For some features, there is a pre-defined zone polygon as well.
          ]]>
        </Description>
        <Field name="header" format="UserDefined" type="FileHeader"/>
        <Field name="recordCount" format="U16" littleEndian="true"/>
        <Field name="records" format="Block" count="recordCount">
            <Field name="record" format="Block">
                <Field name="indicators0" format="BitMask" length="8">
                    <BitField name="colorIncluded" bit="0"/>
                    <BitField name="iconIncluded" bit="1"/>
                    <BitField name="defaultPolygonIncluded" bit="2"/>
                </Field>
                <Field name="id" format="U32" littleEndian="true"
                       description="The ID used to identify this definition - This will be cross-referenced in the message SubmitHazard"/>
                <Field name="featureName" format="LongUnicode" littleEndian="true"
                       description="Name of the hazard.  This will displayed in manned machines."/>
                <Field name="featureColor" format="U32" littleEndian="true" indicator="indicators0" indicatorBit="0"
                       description="When the office creates a zone, this color is to be used as the zone color.  Use 24 bit RGB for colors."/>
                <Field name="iconId" format="U16" littleEndian="true" indicator="indicators0" indicatorBit="1"
                       description="The ID of the icon to be used to display the hazard (reserved for future use)"/>
                <Field name="defaultPolygon" format="UserDefined" type="ZonePolygon" indicator="indicators0"
                       indicatorBit="2"
                       description="This polygon is defined relative to the machine coordinate system.  The machine will translate this to site coordinates before submitting the hazard to the office."/>
            </Field>
        </Field>
    </Message>

    <Message name="orepass" id="0x17">
         <Field name="header" format="UserDefined" type="FileHeader"/>
         <Field name="recordCount" format="U16" littleEndian="true" />
         <Field name="records" format="Block" count="recordCount">
             <Field name="record" format="Block">
                 <Field name="id" format="U16" littleEndian="true"
                        description="The ID used to identify this ore pass"/>
                 <Field name="name" format="LongUnicode" littleEndian="true"
                        description="The name of this ore pass"/>
                 <Field name="statusId" format="U16" littleEndian="true"
                        description="The id of current the status"/>
             </Field>
         </Field>
     </Message>

    <Message name="operatingstatus" id="0x18">
         <Field name="header" format="UserDefined" type="FileHeader"/>
         <Field name="recordCount" format="U16" littleEndian="true" />
         <Field name="records" format="Block" count="recordCount">
             <Field name="record" format="Block">
                 <Field name="id" format="U16" littleEndian="true"
                        description="The ID used to identify this operating status"/>
                 <Field name="name" format="LongUnicode" littleEndian="true"
                        description="The name of this operating status"/>
                 <Field name="type" format="LongUnicode" littleEndian="true"
                        description="Whether it is for a draw point or ore pass"/>
             </Field>
         </Field>
     </Message>

    <Message name="consumable" id="0x19" version="1">
        <Description>
            <![CDATA[
            This is the list of consumable parts that are expected to be serviced on a regular basis and againsts which SMU hours should be tracked on board.
            It defines the types of part that can be serviced and the individual parts currently available.
            The consumable lists are machine-specific and should not be shared across all machines of a given type.

            The first 256 consumable type IDs (0-255) are reserved for use.  The following IDs shall be pre-defined in office and drill on-board software:
            <ul>
                  <li> 0x00  - Invalid - Usage of ID 0 is prohibited
                  <li> 0x01  - Drill Bit
                  <li> 0x02  - Drill Stabilizer
                  <li> 0x03  - Drill Pipe
            </ul>

            The following type should also be pre-defined in office software (outside of the reserved range), but do not need to be tied to a specific ID:
            <ul>
                  <li> Dragline Bucket
                  <li> Dragline Tooth
                  <li> Dragline Drag Rope
                  <li> Dragline Hoist Rope
                  <li> Dragline Rigging
                  <li> Dragline Chain
            </ul>
            Note: User should be allowed deleting/replacing these specific types.

            ]]>
            <!-- The only key requirement around having pre-defined IDs is to have the ability to identify Drill Pipes and enforce having only one record of that type.
               SMU is captured differently for Drill Pipes, as all pipes are not always used:  Operators constantly add and remove them.
               If you can guaranty that only one consumable type will be flaged as such, we can replace the fixed and reserved IDs with a simple "isDrillPipe" flag. -->
        </Description>
        <Field name="header" format="UserDefined" type="FileHeader"/>

        <Field name="supplierCount" format="U16" littleEndian="true"/>
        <Field name="suppliers" format="Block" count="supplierCount">
            <Field name="supplier" format="Block">
                <Field name="id" format="U16" littleEndian="true"
                       description="The internal ID used to identify this consumables supplier (0 is invalid)"/>
                <Field name="name" format="LongUnicode" littleEndian="true"
                       description="The name used to identify this consumables supplier.  Must be unique in this block and non-null/non-empty."/>
            </Field>
        </Field>

        <Field name="actionCount" format="U16" littleEndian="true"/>
        <Field name="actions" format="Block" count="actionCount">
            <Field name="action" format="Block">
                <Field name="id" format="U16" littleEndian="true"
                       description="The internal ID used to identify this action (0 is invalid)"/>
                <Field name="name" format="LongUnicode" littleEndian="true"
                       description="The name used to identify this action.  Must be unique in this block and non-null/non-empty."/>
            </Field>
        </Field>

        <Field name="actionSetCount" format="U16" littleEndian="true"/>
        <Field name="actionSets" format="Block" count="actionSetCount">
            <Field name="actionSet" format="Block">
                <Field name="id" format="U16" littleEndian="true"
                       description="The internal ID used to identify this action set/templace (0 is invalid)"/>
                <Field name="actionCount" format="U16" littleEndian="true"/>
                <Field name="actions" format="Block" count="actionCount">
                    <Field name="id" format="U16" littleEndian="true"
                           description="Reference to the internal ID used to identify this action"/>
                </Field>
            </Field>
        </Field>

        <Field name="consumableCount" format="U16" littleEndian="true"/>
        <Field name="consumables" format="Block" count="consumableCount">
            <Field name="consumableRecord" format="Block">
                <Field name="id" format="U16" littleEndian="true"
                       description="The internal ID used to identify this consumable type (0 is invalid, 1-255 are reserved)"/>
                <!-- ID must be a 16-bit record, or at least, the least-significant 16 bits of each ID must be unique amongst IDs of the same type on any given machine.
                     Otherwise, we need to redefine TMAC 0x5056. -->
                <Field name="name" format="LongUnicode" littleEndian="true"
                       description="The name used to identify this consumable type.  Must be unique and non-null/non-empty."/>
                <Field name="description" format="LongUnicode" littleEndian="true"
                       description="An optional description of the consumable type."/>
                <!-- This field is not mandatory.  We have no immediate plan for using it, but shall eventually use for populating contextual help on-board. -->
                <Field name="arraySize" format="U8"
                       description="The number of instances of that consumable type installed and used at once. (0 is invalid).
                                    When array size is greater than one, consumable type names should be created by appending a 1-based index after the provided name.
                                    E.g. name='Steel' + arraySize='3' ==> 'Steel 1', 'Steel '2', 'Steel 3'"/>
                <!-- This is used for drill pipes and dragline teeth, instead of defining each of them individually. -->
                <Field name="actionSet" format="U16" littleEndian="true"
                       description="Reference to a defined action set"/>
                <Field name="supplierCount" format="U16" littleEndian="true"/>
                <Field name="suppliers" format="Block" count="supplierCount">
                    <Field name="supplier" format="Block">
                        <Field name="id" format="U16" littleEndian="true"
                               description="Reference to the internal ID used to identify this supplier"/>
                        <Field name="modelCount" format="U16" littleEndian="true"/>
                        <Field name="models" format="Block" count="modelCount">
                            <Field name="model" format="Block">
                                <Field name="name" format="LongUnicode" littleEndian="true"
                                       description="The name used to identify this consumable model.  Must be unique in this block and non-null/non-empty."/>
                                <Field name="instanceCount" format="U16" littleEndian="true"/>
                                <Field name="instances" format="Block" count="instanceCount">
                                    <Field name="instance" format="Block">
                                        <Field name="id" format="U32" littleEndian="true"
                                               description="The internal ID used to identify this replacement part (0 is invalid)"/>
                                        <!-- This record is NOT used for now.  Hence format doesn't matter. -->
                                        <Field name="name" format="LongUnicode" littleEndian="true"
                                               description="The name used to identify this replacement part.  Typically a serial number.  Must be unique in this block and non-null/non-empty."/>
                                        <!-- We could have used the word "serialNumber" instead of "instance" and/or "name" in this block.  The more generic word "name" was used to remain consistent with TMAC message 0x5056 -->
                                    </Field>
                                </Field>
                            </Field>
                        </Field>
                    </Field>
                </Field>
            </Field>
        </Field>
    </Message>

    <Message name="consumable" id="0x19"  version="2">
        <Description>
            <![CDATA[
            This is the list of consumable parts that are expected to be serviced on a regular basis and againsts which SMU hours should be tracked on board.
            It defines the types of part that can be serviced and the individual parts currently available.
            The consumable lists are machine-specific and should not be shared across all machines of a given type.

            The first 256 consumable type IDs (0-255) are reserved for use.  The following IDs shall be pre-defined in office and drill on-board software:
            <ul>
                  <li> 0x00  - Invalid - Usage of ID 0 is prohibited
                  <li> 0x01  - Drill Bit
                  <li> 0x02  - Drill Stabilizer
                  <li> 0x03  - Drill Pipe
            </ul>

            The following type should also be pre-defined in office software (outside of the reserved range), but do not need to be tied to a specific ID:
            <ul>
                  <li> Dragline Bucket
                  <li> Dragline Tooth
                  <li> Dragline Drag Rope
                  <li> Dragline Hoist Rope
                  <li> Dragline Rigging
                  <li> Dragline Chain
            </ul>
            Note: User should be allowed deleting/replacing these specific types.

            ]]>
            <!-- The only key requirement around having pre-defined IDs is to have the ability to identify Drill Pipes and enforce having only one record of that type.
               SMU is captured differently for Drill Pipes, as all pipes are not always used:  Operators constantly add and remove them.
               If you can guaranty that only one consumable type will be flaged as such, we can replace the fixed and reserved IDs with a simple "isDrillPipe" flag. -->
        </Description>
        <Field name="header" format="UserDefined" type="FileHeader"/>

        <Field name="supplierCount" format="U16" littleEndian="true"/>
        <Field name="suppliers" format="Block" count="supplierCount">
            <Field name="supplier" format="Block">
                <Field name="id" format="U16" littleEndian="true"
                       description="The internal ID used to identify this consumables supplier (0 is invalid)"/>
                <Field name="name" format="LongUnicode" littleEndian="true"
                       description="The name used to identify this consumables supplier.  Must be unique in this block and non-null/non-empty."/>
            </Field>
        </Field>

        <Field name="actionCount" format="U16" littleEndian="true"/>
        <Field name="actions" format="Block" count="actionCount">
            <Field name="action" format="Block">
                <Field name="id" format="U16" littleEndian="true"
                       description="The internal ID used to identify this action (0 is invalid)"/>
                <Field name="name" format="LongUnicode" littleEndian="true"
                       description="The name used to identify this action.  Must be unique in this block and non-null/non-empty."/>
            </Field>
        </Field>

        <Field name="actionSetCount" format="U16" littleEndian="true"/>
        <Field name="actionSets" format="Block" count="actionSetCount">
            <Field name="actionSet" format="Block">
                <Field name="id" format="U16" littleEndian="true"
                       description="The internal ID used to identify this action set/templace (0 is invalid)"/>
                <Field name="actionCount" format="U16" littleEndian="true"/>
                <Field name="actions" format="Block" count="actionCount">
                    <Field name="id" format="U16" littleEndian="true"
                           description="Reference to the internal ID used to identify this action"/>
                </Field>
            </Field>
        </Field>

        <Field name="consumableCount" format="U16" littleEndian="true"/>
        <Field name="consumables" format="Block" count="consumableCount">
            <Field name="consumableRecord" format="Block">
                <Field name="id" format="U16" littleEndian="true"
                       description="The internal ID used to identify this consumable type (0 is invalid, 1-255 are reserved)"/>
                <!-- ID must be a 16-bit record, or at least, the least-significant 16 bits of each ID must be unique amongst IDs of the same type on any given machine.
                     Otherwise, we need to redefine TMAC 0x5056. -->
                <Field name="name" format="LongUnicode" littleEndian="true"
                       description="The name used to identify this consumable type.  Must be unique and non-null/non-empty."/>
                <Field name="description" format="LongUnicode" littleEndian="true"
                       description="An optional description of the consumable type."/>
                <!-- This field is not mandatory.  We have no immediate plan for using it, but shall eventually use for populating contextual help on-board. -->
                <Field name="arraySize" format="U8"
                       description="The number of instances of that consumable type installed and used at once. (0 is invalid).
                                    When array size is greater than one, consumable type names should be created by appending a 1-based index after the provided name.
                                    E.g. name='Steel' + arraySize='3' ==> 'Steel 1', 'Steel '2', 'Steel 3'"/>
                <!-- This is used for drill pipes and dragline teeth, instead of defining each of them individually. -->
                <Field name="actionSet" format="U16" littleEndian="true"
                       description="Reference to a defined action set"/>
                <Field name="supplierCount" format="U16" littleEndian="true"/>
                <Field name="suppliers" format="Block" count="supplierCount">
                    <Field name="supplier" format="Block">
                        <Field name="id" format="U16" littleEndian="true"
                               description="Reference to the internal ID used to identify this supplier"/>
                        <Field name="modelCount" format="U16" littleEndian="true"/>
                        <Field name="models" format="Block" count="modelCount">
                            <Field name="model" format="Block">
                                <Field name="name" format="LongUnicode" littleEndian="true"
                                       description="The name used to identify this consumable model.  Must be unique in this block and non-null/non-empty."/>
                                <Field name="instanceCount" format="U16" littleEndian="true"/>
                                <Field name="instances" format="Block" count="instanceCount">
                                    <Field name="instance" format="Block">
                                        <Field name="id" format="U32" littleEndian="true"
                                               description="The internal ID used to identify this replacement part (0 is invalid)"/>
                                        <!-- This record is NOT used for now.  Hence format doesn't matter. -->
                                        <Field name="name" format="LongUnicode" littleEndian="true"
                                               description="The name used to identify this replacement part.  Typically a serial number.  Must be unique in this block and non-null/non-empty."/>
                                        <!-- We could have used the word "serialNumber" instead of "instance" and/or "name" in this block.  The more generic word "name" was used to remain consistent with TMAC message 0x5056 -->
                                    </Field>
                                </Field>
                            </Field>
                        </Field>
                    </Field>
                </Field>
            </Field>
        </Field>

        <Field name="bitCount" format="U16" littleEndian="true"/>
        <Field name="bits" format="Block" count="bitCount">
            <Field name="bit" format="Block">
                <Field name="consumableId" format="LongUnicode" littleEndian="true"
                       description="Corresponds to the name of a consumable instance. Consider it like a foreign key"/>
                <Field name="type" format="ShortAscii" littleEndian="true" description="The type of consumable. For drill bits this will be either Hammer or Rotary"/>
                <Field name="size" format="F32" littleEndian="true" description="The size of consumable. For drill bits this will be the diameter"/>
            </Field>
        </Field>
    </Message>

    <Message name="fixedinfrastructure" id="0x1a">
        <Description>
            <![CDATA[
            This definition is used to represent the position of a piece of fixed infrasturture.
            The infrastructure properties will be defined in the MacineType file.
            ]]>
        </Description>
        <Field name="header" format="UserDefined" type="FileHeader"/>
        <Field name="recordCount" format="U16" littleEndian="true"/>
        <Field name="records" format="Block" count="recordCount">
            <Field name="record" format="Block">
                <Field name="indicators0" format="BitMask" length="8" littleEndian="true"
                       description="This bitmask is only used to indicate the presence or absence of variables in the message">
                    <BitField bit="0" name="headingIncluded"
                              description="Defines a heading for the target's position. This is needed for targets that are not round in shape"/>
                    <BitField bit="1" name="reserved"/>
                </Field>
                <Field name="id" format="U16" littleEndian="true"
                       description="The ID used to identify this piece of infrastructure"/>
                <Field name="machineTypeID" format="U16" littleEndian="true"
                       description="Points to a reference in the machienType to define the bounding zones"/>
                <Field name="name" format="LongUnicode" littleEndian="true" description="Name used to reference this piece of infrastructure"/>
                <Field name="position" format="UserDefined" type="CoordinatePoint"
                       description="The point at the center of the infrastructure, with the Z indicating the elevation where the infrastructure meets the ground"/>
                <Field name="heading" format="U16" littleEndian="true" scale="0.0001" units="radian" unitType="plane angle" indicator="indicators0" indicatorBit="0"
                       description="Infrastructure's heading value"/>
            </Field>
        </Field>
    </Message>

    <Message name="usereventreactions" id="0x1b">
        <Description>
            <![CDATA[
            This definition is used to represent the user configurable machine reactions that will be applied when particular VIMS events are active.  
            ]]>
        </Description>
        <Field name="header" format="UserDefined" type="FileHeader"/>
        <Field name="recordCount" format="U16" littleEndian="true"/>
        <Field name="records" format="Block" count="recordCount">
            <Field name="record" format="Block" description="One record defines all the VIMS Event reactions for a particular machine type.">
                <Field name="machineTypeID" format="U16" littleEndian="true"/>
                <Field name="eventReactionsCount" format="U16" littleEndian="true"/>
                <Field name="eventReactions" format="Block" count="eventReactionsCount">
                    <Field name="eventReaction" format="Block" description="One eventReaction defines how the machine will react to a particular VIMS event / VIMS event combination.">
                        <Field name="eventReactionIndicators" format="BitMask" length="8">
                           <BitField bit="0" name="shutdownEngine"
                                description="Flag indicating whether or not to shutdown the engine in the last timeBasedReaction."/>
                           <BitField bit="7" name="reserved"/>
                        </Field>
                        <Field name="eventCount" format="U8"/>
                        <Field name="events" format="Block" count="eventCount" description="The events associated with this record.  Multiple diagnostics/events can be associated with one set of machine reactions.">
                            <Field name="event" format="Block">
                                <Field name="mid" format="U8" description="The module ID of the controller activating the diagnostic/event."/>
                                <Field name="cid" format="U16" littleEndian="true" description="The component/event ID of the diagnostic/event."/>
                                <Field name="fmi" format="U8" description="The failure mode indicator of the diagnostic or 255 if it is an event."/>
                                <Field name="wci" format="U8" description="The warning code indicator of the diagnostic/event."/>
                                <Field name="description" format="ShortAscii"/>
                            </Field>
                        </Field>
                        <Field name="timeBasedReactionCount" format="U8"/>
                        <Field name="timeBasedReactions" format="Block" count="timeBasedReactionCount" description="The machine reactions associated with this record">
                            <Field name="timeBasedReaction" format="Block">
                                <Field name="timeBasedReactionIndicators" format="BitMask" length="8">
                                       <BitField bit="7" name="reserved"/>
                                </Field>
                                <Field name="delayDuration" format="U32" littleEndian="true" scale="0.1" units="second" unitType="duration"
                                   description="How long to wait (in seconds) after the diagnostic/event is activated before applying the machineSpeedLimit."/>
                                <Field name="machineSpeedLimit" format="U8" scale="0.277778" units="metres per second" unitType="speed"/>
                            </Field>
                        </Field>
                    </Field>
                </Field>
            </Field>
        </Field>
    </Message>

    <Message name="chute" id="0x1c">
        <Field name="header" format="UserDefined" type="FileHeader"/>
        <Field name="recordCount" format="U16" littleEndian="true"/>
        <Field name="records" format="Block" count="recordCount">
            <Field name="record" format="Block">
                <Field name="id" format="U16" littleEndian="true"
                       description="The ID used to identify this chute - embedded in various messages"/>
                <Field name="name" format="LongUnicode" littleEndian="true" description="The name of the chute"/>
                <Field name="assignmentCapacityLimit" format="U16" scale="0.1" units="tonne" unitType="mass" littleEndian="true"
                       description="Minimum level that the chute should hold before a truck can be assigned to it."/>
            </Field>
        </Field>
    </Message>

    <Message name="proxydelay" id="0x1d"
             description="Delays for fixed plant equipment that a truck operator can put on delay">
        <Field name="header" format="UserDefined" type="FileHeader"/>
        <Field name="recordCount" format="U16" littleEndian="true"/>
        <Field name="records" format="Block" count="recordCount">
            <Field name="record" format="Block">
                <Field name="id" format="U16" littleEndian="true"
                       description="The ID used to identify this delay - embedded in various messages"/>
                <Field name="level" format="U16" littleEndian="true"
                       description="The level of this delay in the delay group hierarchy" />
                <Field name="duration" format="U16" littleEndian="true"
                       description="The expected duration of the delay"/>
                <Field name="name" format="LongUnicode" littleEndian="true"
                       description="The name of the delay"/>
            </Field>
        </Field>
    </Message>

    <Message name="autologgersnapshot" direction="inbound" id="0x1e">
        <Description>
            <![CDATA[
                    This file is used to configure automatic snapshots onboard an autonomous truck.
			]]>
        </Description>
        <Field name="header" format="UserDefined" type="FileHeader"/>
        <Field name="recordCount" format="U16" littleEndian="true" description=" "/>
        <Field name="records" format="Block" count="recordCount">
            <Field name="record" format="Block">
                <Field name="id" format="U16" littleEndian="true" description="The ID used to identify this autologger snapshot"/>
                <Field name="recordIndicators" format="BitMask" length="8" description="BitMask used to indicate presence or absence of optional fields in the message.">
                    <BitField bit="0" name="appliesToAllMachines"/>
                    <BitField bit="7" name="reserved" description="Reserved for future use."/>
                </Field>
                <Field name="uniqueMachineId" format="U16" littleEndian="true" description="Unique machine ID" indicator="recordIndicators" indicatorBit="0" invert="true" />
                <Field name="timeBefore" format="U8" description="Time (in minutes) before the (diagnostic/event triggered) to start the snapshot"/>
                <Field name="timeAfter" format="U8" description="How long to wait (in minutes) after the (diagnostic/event triggered) to end the snapshot"/>
                <Field name="title" format="LongAscii" littleEndian="true" description="Title of Snapshot"/>
                <Field name="comments" format="LongAscii" littleEndian="true" description="User Defined Comments"/>
                <Field name="snapshotControlType" format="Enum" length="8" >
                    <Enum name="vimsEventDeactive3" value="0" description=""/>
                    <Enum name="failedAssignmentExecutionStatus" value="1" description=""/>
                    <Enum name="proximityIncident" value="2" description=""/>
                    <Enum name="interruptingAssignment" value="3" description=""/>
                    <Enum name="diagnosticDetail" value="4" description=""/>
                    <Enum name="autonomousStateUpdate" value="5" description=""/>
                    <Enum name="repairSurfaceRequest" value="6" description="when any repairSurfaceRequest is activated, trigger the snapshot"/>
                    <Enum name="autonomyCondition" value="7" description=""/>
                </Field>
                <Field name="vimsEventDeactive3" format="Block" description="" indicator="snapshotControlType" indicatorValue="0">
                    <Field name="mid" format="U8" description="The module ID of the diagnostic/event."/>
                    <Field name="cid" format="U16" littleEndian="true" description="The component/event ID of the diagnostic/event."/>
                    <Field name="fmi" format="U8" description="The failure mode indicator of the diagnostic or 255 if it is an event."/>
                    <Field name="wci" format="U8" description="The warning code indicator of the diagnostic/event."/>
                    <Field name="description" format="ShortAscii" littleEndian="true" />
                </Field>
                <Field name="AutonomousAssignmentFailure" format="Block" description="" indicator="snapshotControlType" indicatorValue="1">
                    <Field name="reason" format="U8" description="User defined value 0-254 matching the enumerated reason values defined in the AutonomousAssignmentFailure protocol"/>
                </Field>
                <Field name="proximityIncident" format="Block" description="" indicator="snapshotControlType" indicatorValue="2">
                    <Field name="eventActivity" format="U8" description="User defined value 0-254 matching the list of eventActivity incident states and updates defined in the proximityIncident protocol."/>
                    <Field name="alarmLevel" format="U8" description="User defined value 0-254 matching the alarm level active defined in the proximityIncident protocol"/>
                </Field>
                <Field name="interruptingAssignment" format="Block" description="" indicator="snapshotControlType" indicatorValue="3">
                    <Field name="reason" format="U8" description="User defined value 0-254 matching the enumerated reason values defined in the interruptingAssignment protocol"/>
                </Field>
                <Field name="diagnosticDetails" format="Block" description="" indicator="snapshotControlType" indicatorValue="4">
                    <Field name="cid" format="U16" littleEndian="true" description="The component/event ID of the diagnostic/event."/>
                    <Field name="fmi" format="U8" description="The failure mode indicator of the diagnostic or 255 if it is an event."/>
                    <Field name="diagnosticDetailsIndicators" format="BitMask" length="8" description="BitMask used to indicate presence or absence of optional fields in the message.">
                        <BitField bit="0" name="extendedTextIncluded"/>
                        <BitField bit="7" name="reserved" description="Reserved for future use."/>
                    </Field>
                    <Field name="text" format="LongAscii" littleEndian="true" description="User defined extended text to match to" indicator="diagnosticDetailsIndicators" indicatorBit="0" />
                </Field>
                <Field name="autonomousStateUpdate" format="Block" description="" indicator="snapshotControlType" indicatorValue="5">
                    <Field name="limitedSpeedReason" format="U8" description="User defined value 0-254 matching the list of limitedSpeedReason states defined in the autonomousStateUpdate protocol diagnosticDetai"/>
                </Field>
                <Field name="autonomyCondition" format="Block" description="" indicator="snapshotControlType" indicatorValue="7">
                    <Field name="conditionName" format="ShortAscii" littleEndian="true" />
                </Field>
            </Field>
        </Field>
    </Message>
</Messages>
