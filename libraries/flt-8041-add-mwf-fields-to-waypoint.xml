<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd"
                   objectQuotingStrategy="QUOTE_ALL_OBJECTS">
    <changeSet id="d9967e75-7822-4025-9282-2d6b09ee268f" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored Add column waypointtypecode to table gis_waypoints as table does not exist or column exists." onFail="MARK_RAN">
            <tableExists tableName="gis_waypoints"/>
            <not>
                <columnExists tableName="gis_waypoints" columnName="waypointtypecode"/>
            </not>
        </preConditions>
        <comment>FLT-8041: Add column waypointtypecode to  gis_waypoints</comment>
        <addColumn tableName="gis_waypoints">
            <column name="waypointtypecode" type="SMALLINT"/>
        </addColumn>
    </changeSet>

    <changeSet id="88249f4e-e841-42a0-a147-5e23a9fc9737" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored Add column waypoint_id to table gis_waypoints as table does not exist or column exists." onFail="MARK_RAN">
            <tableExists tableName="gis_waypoints"/>
            <not>
                <columnExists tableName="gis_waypoints" columnName="waypoint_id"/>
            </not>
        </preConditions>
        <comment>FLT-8041: Add column waypoint_id to gis_waypoints</comment>
        <addColumn tableName="gis_waypoints">
            <column name="waypoint_id" type="BIGINT"/>
        </addColumn>
    </changeSet>

    <changeSet id="8c480c5d-cf4f-4d22-97ab-c1f67739b7b0" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored Add column machine_id to table gis_waypoints as table does not exist or column exists." onFail="MARK_RAN">
            <tableExists tableName="gis_waypoints"/>
            <not>
                <columnExists tableName="gis_waypoints" columnName="machine_id"/>
            </not>
        </preConditions>
        <comment>FLT-8041: Add column machine_id to gis_waypoints</comment>
        <addColumn tableName="gis_waypoints">
            <column name="machine_id" type="BIGINT"/>
        </addColumn>
    </changeSet>

    <changeSet id="cb40aef3-022e-42c9-b763-36545387e54d" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored Add column flag_0_send_location_on_entry to table gis_waypoints as table does not exist or column exists." onFail="MARK_RAN">
            <tableExists tableName="gis_waypoints"/>
            <not>
                <columnExists tableName="gis_waypoints" columnName="flag_0_send_location_on_entry"/>
            </not>
        </preConditions>
        <comment>FLT-8041: Add column flag_0_send_location_on_entry to gis_waypoints</comment>
        <addColumn tableName="gis_waypoints">
            <column name="flag_0_send_location_on_entry" type="BOOLEAN"/>
        </addColumn>
    </changeSet>

    <changeSet id="0489722d-5337-4bd5-8252-ec3028d38c1d" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored Add column flag_1_send_location_on_exit to table gis_waypoints as table does not exist or column exists." onFail="MARK_RAN">
            <tableExists tableName="gis_waypoints"/>
            <not>
                <columnExists tableName="gis_waypoints" columnName="flag_1_send_location_on_exit"/>
            </not>
        </preConditions>
        <comment>FLT-8041: Add column flag_1_send_location_on_exit to gis_waypoints</comment>
        <addColumn tableName="gis_waypoints">
            <column name="flag_1_send_location_on_exit" type="BOOLEAN"/>
        </addColumn>
    </changeSet>

    <changeSet id="699abd55-ee82-4abc-bdde-c8f577deedd4" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored Add column flag_2_use_route_point to table gis_waypoints as table does not exist or column exists." onFail="MARK_RAN">
            <tableExists tableName="gis_waypoints"/>
            <not>
                <columnExists tableName="gis_waypoints" columnName="flag_2_use_route_point"/>
            </not>
        </preConditions>
        <comment>FLT-8041: Add column flag_2_use_route_point to gis_waypoints</comment>
        <addColumn tableName="gis_waypoints">
            <column name="flag_2_use_route_point" type="BOOLEAN"/>
        </addColumn>
    </changeSet>

    <changeSet id="2bc158d2-4432-41b3-93e1-3b5c5d1f1c3e" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored Add column flag_3_is_machine_waypoint to table gis_waypoints as table does not exist or column exists." onFail="MARK_RAN">
            <tableExists tableName="gis_waypoints"/>
            <not>
                <columnExists tableName="gis_waypoints" columnName="flag_3_is_machine_waypoint"/>
            </not>
        </preConditions>
        <comment>FLT-8041: Add column flag_3_is_machine_waypoint to gis_waypoints</comment>
        <addColumn tableName="gis_waypoints">
            <column name="flag_3_is_machine_waypoint" type="BOOLEAN"/>
        </addColumn>
    </changeSet>

    <changeSet id="88012aef-fbc2-4be8-b799-459c00cc584c" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored Add column flag_4_open_polygon to table gis_waypoints as table does not exist or column exists." onFail="MARK_RAN">
            <tableExists tableName="gis_waypoints"/>
            <not>
                <columnExists tableName="gis_waypoints" columnName="flag_4_open_polygon"/>
            </not>
        </preConditions>
        <comment>FLT-8041: Add column flag_4_open_polygon to gis_waypoints</comment>
        <addColumn tableName="gis_waypoints">
            <column name="flag_4_open_polygon" type="BOOLEAN"/>
        </addColumn>
    </changeSet>

    <changeSet id="4d89feb4-96f2-4bd2-8acd-21f8db3ec622" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored Add column flag_5_is_parent to table gis_waypoints as table does not exist or column exists." onFail="MARK_RAN">
            <tableExists tableName="gis_waypoints"/>
            <not>
                <columnExists tableName="gis_waypoints" columnName="flag_5_is_parent"/>
            </not>
        </preConditions>
        <comment>FLT-8041: Add column flag_5_is_parent to gis_waypoints</comment>
        <addColumn tableName="gis_waypoints">
            <column name="flag_5_is_parent" type="BOOLEAN"/>
        </addColumn>
    </changeSet>

    <changeSet id="d9c3435d-c69f-47cf-a8ba-c90a8c9edb8e" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored Add column route_point to table gis_waypoints as table does not exist or column exists." onFail="MARK_RAN">
            <tableExists tableName="gis_waypoints"/>
            <not>
                <columnExists tableName="gis_waypoints" columnName="route_point"/>
            </not>
        </preConditions>
        <comment>FLT-8041: Add column route_point to gis_waypoints</comment>
        <addColumn tableName="gis_waypoints">
            <column name="route_point" type="GEOMETRY(PointZ, 0)"/>
        </addColumn>
    </changeSet>

    <changeSet id="844bbcd3-d8c5-4910-b1b2-f6d22a97de6c" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored Add column minimum_z to table gis_waypoints as table does not exist or column exists." onFail="MARK_RAN">
            <tableExists tableName="gis_waypoints"/>
            <not>
                <columnExists tableName="gis_waypoints" columnName="minimum_z"/>
            </not>
        </preConditions>
        <comment>FLT-8041: Add column minimum_z to gis_waypoints</comment>
        <addColumn tableName="gis_waypoints">
            <column name="minimum_z" type="DOUBLE"/>
        </addColumn>
    </changeSet>

    <changeSet id="5083490b-52da-47a2-a69d-85b888c81c6f" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored Add column maximum_z to table gis_waypoints as table does not exist or column exists." onFail="MARK_RAN">
            <tableExists tableName="gis_waypoints"/>
            <not>
                <columnExists tableName="gis_waypoints" columnName="maximum_z"/>
            </not>
        </preConditions>
        <comment>FLT-8041: Add column maximum_z to gis_waypoints</comment>
        <addColumn tableName="gis_waypoints">
            <column name="maximum_z" type="DOUBLE"/>
        </addColumn>
    </changeSet>

</databaseChangeLog>
