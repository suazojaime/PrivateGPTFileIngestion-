<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd">
    <changeSet id="b010428f-fb85-4c9a-bc3e-0166fe671476" author="MineStar" context="Underground/Underground_Management" failOnError="false">
        <preConditions
                onFailMessage="Ignored AddColumn for IDA_ENABLED to table DUMP_GOAL as table does not exist or column already exists."
                onFail="MARK_RAN">
            <tableExists tableName="DUMP_GOAL"/>
            <not>
                <columnExists tableName="DUMP_GOAL" columnName="IDA_ENABLED"/>
            </not>
        </preConditions>
        <comment>FUG-898: AddColumn DUMP_GOAL.IDA_ENABLED</comment>
        <addColumn tableName="DUMP_GOAL">
            <column name="IDA_ENABLED" type="BOOLEAN"
                    remarks="Whether the Command's Improved Dump Automation features is enabled for this dump goal"/>
        </addColumn>
    </changeSet>
    <changeSet id="6af30435-71de-4fb6-b244-f567700f9f03" author="MineStar" context="Underground/Underground_Management" failOnError="false">
        <preConditions
                onFailMessage="Ignored AddColumn for DUMP_CEILING_HEIGHT to table DUMP_GOAL as table does not exist or column already exists."
                onFail="MARK_RAN">
            <tableExists tableName="DUMP_GOAL"/>
            <not>
                <columnExists tableName="DUMP_GOAL" columnName="DUMP_CEILING_HEIGHT"/>
            </not>
        </preConditions>
        <comment>FUG-898: AddColumn DUMP_GOAL.DUMP_CEILING_HEIGHT</comment>
        <addColumn tableName="DUMP_GOAL">
            <column name="DUMP_CEILING_HEIGHT" type="DOUBLE" remarks="The ceiling height at the dump point."/>
        </addColumn>
    </changeSet>
    <changeSet id="6d6660ae-5ba2-44c7-b52d-147cd2722880" author="MineStar" context="Underground/Underground_Management" failOnError="false">
        <preConditions
                onFailMessage="Ignored AddColumn for TRAM_CEILING_HEIGHT to table DUMP_GOAL as table does not exist or column already exists."
                onFail="MARK_RAN">
            <tableExists tableName="DUMP_GOAL"/>
            <not>
                <columnExists tableName="DUMP_GOAL" columnName="TRAM_CEILING_HEIGHT"/>
            </not>
        </preConditions>
        <comment>FUG-898: AddColumn DUMP_GOAL.TRAM_CEILING_HEIGHT</comment>
        <addColumn tableName="DUMP_GOAL">
            <column name="TRAM_CEILING_HEIGHT" type="DOUBLE" remarks="The ceiling height at the tramming zone."/>
        </addColumn>
    </changeSet>
    <changeSet id="e01c4c26-23c1-4a5f-a5bf-1b98df7534da" author="MineStar" context="Underground/Underground_Management" failOnError="false">
        <preConditions
                onFailMessage="Ignored AddColumn for BUND_HEIGHT to table DUMP_GOAL as table does not exist or column already exists."
                onFail="MARK_RAN">
            <tableExists tableName="DUMP_GOAL"/>
            <not>
                <columnExists tableName="DUMP_GOAL" columnName="BUND_HEIGHT"/>
            </not>
        </preConditions>
        <comment>FUG-898: AddColumn DUMP_GOAL.BUND_HEIGHT</comment>
        <addColumn tableName="DUMP_GOAL">
            <column name="BUND_HEIGHT" type="DOUBLE" remarks="The height of the bund."/>
        </addColumn>
    </changeSet>
    <changeSet id="58341194-92a0-4ea1-ad40-1b7f746f2fda" author="MineStar" context="Underground/Underground_Management" failOnError="false">
        <preConditions
                onFailMessage="Ignored AddColumn for BUND_DISTANCE to table DUMP_GOAL as table does not exist or column already exists."
                onFail="MARK_RAN">
            <tableExists tableName="DUMP_GOAL"/>
            <not>
                <columnExists tableName="DUMP_GOAL" columnName="BUND_DISTANCE"/>
            </not>
        </preConditions>
        <comment>FUG-898: AddColumn DUMP_GOAL.BUND_DISTANCE</comment>
        <addColumn tableName="DUMP_GOAL">
            <column name="BUND_DISTANCE" type="DOUBLE" remarks="The distance of the bund from the dump point."/>
        </addColumn>
    </changeSet>
    <changeSet id="162c655e-dfab-4a25-a18e-8e70790cf377" author="MineStar" context="Underground/Underground_Management" failOnError="false">
        <preConditions
                onFailMessage="Ignored AddColumn for SHAKES_COUNT to table DUMP_GOAL as table does not exist or column already exists."
                onFail="MARK_RAN">
            <tableExists tableName="DUMP_GOAL"/>
            <not>
                <columnExists tableName="DUMP_GOAL" columnName="SHAKES_COUNT"/>
            </not>
        </preConditions>
        <comment>FUG-898: AddColumn DUMP_GOAL.SHAKES_COUNT</comment>
        <addColumn tableName="DUMP_GOAL">
            <column name="SHAKES_COUNT" type="INT" remarks="The number of shakes."/>
        </addColumn>
    </changeSet>
</databaseChangeLog>
