<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC
        "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
        "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">
<hibernate-mapping package="minestar.mine.domain.material" schema="historical">

    <class name="DestinationBlendDetail" table="DESTINATION_BLEND_DETAIL">

        <meta attribute="table">
            tablespace=MW_ENT
        </meta>
        <meta attribute="primary-key">
            tablespace=MW_IDXENT
        </meta>
        <meta attribute="description">A destination blend detail</meta>

        <id
                name="OID"
                type="java.lang.Long"
                column="OID"
                >
            <generator class="com.mincom.env.base.persistence.IDGenerator"/>
        </id>
        <property
                name="destinationBlendOid"
                type="java.lang.Long"
                column="DESTINATION_BLEND_OID"
                not-null="true"
                >
            <meta attribute="description">External system reference, The destination blend oid referenced in model schema</meta>
        </property>
        <property
                name="destinationBlendDescription"
                type="java.lang.String"
                column="DESTINATION_BLEND_DESCRIPTION"
                length="255"
                not-null="false"
                >
            <meta attribute="description">The destination blend description</meta>
        </property>
        <property
                name="minimumRate"
                column="MINIMUM_RATE"
                >
            <meta attribute="unitType">rate</meta>
            <meta attribute="description">The destination blend minimum rate</meta>
            <type name="quantity">
                <param name="unitType">rate</param>
                <param name="nullable">true</param>
            </type>
        </property>
        <property
                name="maximumRate"
                column="MAXIMUM_RATE"
                >
            <meta attribute="unitType">rate</meta>
            <meta attribute="description">The destination blend maximum rate</meta>
            <type name="quantity">
                <param name="unitType">rate</param>
                <param name="nullable">true</param>
            </type>
        </property>
        <property
                name="startDate"
                type="java.util.Date"
                column="START_DATE"
                not-null="false"
                >
            <meta attribute="description">The date time the destination blend started</meta>
        </property>

        <property
                name="endDate"
                type="java.util.Date"
                column="END_DATE"
                not-null="false"
                >
            <meta attribute="description">The date time the destination blend end</meta>
        </property>
        <property
                name="destinationBlendStatus"
                type="minestar.mine.domain.material.DestinationBlendStatusEnumUserType"
                column="DESTINATION_BLEND_STATUS"
                length="255"
                not-null="true"
                >
            <meta attribute="description">The destination blend name</meta>
        </property>
        <many-to-one
                class="minestar.mine.domain.material.BlendDetail"
                name="blendDetail"
                column="BLEND_DETAIL_OID"
                not-null="true"
                cascade="save-update"/>

        <set name="processorNames" table="DEST_BLEND_PROCESSOR_DETAIL" cascade="save-update">
            <meta attribute="collection-table">
                tablespace=MW_ENT
            </meta>
            <meta attribute="collection-primary-key">
                tablespace=MW_IDXENT
            </meta>
            <meta attribute="description">The processors assigned to this destination blend</meta>
            <key column="DESTINATION_BLEND_DETAIL_OID" not-null="false" />
            <one-to-many class="minestar.mine.domain.material.ProcessorName"/>
        </set>

    </class>
</hibernate-mapping>
