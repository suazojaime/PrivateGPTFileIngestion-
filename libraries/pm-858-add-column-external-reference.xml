<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd http://www.liquibase.org/xml/ns/dbchangelog-ext /dbchangelog-ext-3.1.xsd">
    <changeSet id="1890d9e6-e52b-44ad-afdf-e472d7a7bf70" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored AddColumn for EXTERNALREF to table GRADEBLOCK as table does not exist or column already exists." onFail="MARK_RAN">
            <tableExists tableName="GRADEBLOCK"/>
            <not>
                <columnExists tableName="GRADEBLOCK" columnName="EXTERNALREF"/>
            </not>
        </preConditions>
        <comment>PM-858: AddColumn GRADEBLOCK.EXTERNALREF</comment>
        <addColumn tableName="GRADEBLOCK">
            <column name="EXTERNALREF" type="VARCHAR(254)" remarks="The external system reference of this mining block"/>
        </addColumn>
    </changeSet>
    <changeSet id="06988628-4e26-47b4-bf4c-084b0ef1bdd7" author="MineStar" failOnError="true">
        <preConditions onFailMessage="Ignored CreateIndex for GRADEBLOCK_EXTERNALREF to table GRADEBLOCK as (1) table does not exist, or (2) index already exists." onFail="MARK_RAN">
            <tableExists tableName="GRADEBLOCK"/>
            <not>
                <indexExists indexName="GRADEBLOCK_EXTERNALREF" tableName="GRADEBLOCK"/>
            </not>
        </preConditions>
        <comment>PM-858: CreateIndex GRADEBLOCK_EXTERNALREF on GRADEBLOCK (EXTERNALREF)</comment>
        <createIndex unique="false" tablespace="MW_IDXENT" tableName="GRADEBLOCK" indexName="GRADEBLOCK_EXTERNALREF">
            <column name="EXTERNALREF"/>
        </createIndex>
        <modifySql dbms="mssql,h2,postgresql">
            <regExpReplace replace="( USING INDEX)? (ON|TABLESPACE) MW_[A-Z]+" with=""/>
        </modifySql>
    </changeSet>
    <changeSet id="4324aeac-e3c9-4f75-b62d-66efae7816b0" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored AddColumn for EXTERNALDESC to table GRADEBLOCK as table does not exist or column already exists." onFail="MARK_RAN">
            <tableExists tableName="GRADEBLOCK"/>
            <not>
                <columnExists tableName="GRADEBLOCK" columnName="EXTERNALDESC"/>
            </not>
        </preConditions>
        <comment>PM-858: AddColumn GRADEBLOCK.EXTERNALDESC</comment>
        <addColumn tableName="GRADEBLOCK">
            <column name="EXTERNALDESC" type="VARCHAR(254)" remarks="The External System Description"/>
        </addColumn>
    </changeSet>
    <changeSet id="b5ca5ae9-dec9-4994-9b8c-32eb7b3a86d6" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored AddColumn for EXTERNALREF to table MATERIAL as table does not exist or column already exists." onFail="MARK_RAN">
            <tableExists tableName="MATERIAL"/>
            <not>
                <columnExists tableName="MATERIAL" columnName="EXTERNALREF"/>
            </not>
        </preConditions>
        <comment>PM-858: AddColumn MATERIAL.EXTERNALREF</comment>
        <addColumn tableName="MATERIAL">
            <column name="EXTERNALREF" type="VARCHAR(254)" remarks="The external system reference of this material"/>
        </addColumn>
    </changeSet>
    <changeSet id="37f11941-f87b-4f71-aa45-dc4d5d1b6d3b" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored AddColumn for EXTERNALDESC to table MATERIAL as table does not exist or column already exists." onFail="MARK_RAN">
            <tableExists tableName="MATERIAL"/>
            <not>
                <columnExists tableName="MATERIAL" columnName="EXTERNALDESC"/>
            </not>
        </preConditions>
        <comment>PM-858: AddColumn MATERIAL.EXTERNALDESC</comment>
        <addColumn tableName="MATERIAL">
            <column name="EXTERNALDESC" type="VARCHAR(254)" remarks="The External System Description"/>
        </addColumn>
    </changeSet>
    <changeSet id="134a72cb-8ba4-45f7-8f36-58a36800715f" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored AddColumn for EXTERNALREF to table GRADE as table does not exist or column already exists." onFail="MARK_RAN">
            <tableExists tableName="GRADE"/>
            <not>
                <columnExists tableName="GRADE" columnName="EXTERNALREF"/>
            </not>
        </preConditions>
        <comment>PM-858: AddColumn GRADE.EXTERNALREF</comment>
        <addColumn tableName="GRADE">
            <column name="EXTERNALREF" type="VARCHAR(254)" remarks="The external system reference of this grade"/>
        </addColumn>
    </changeSet>
    <changeSet id="102d0a0e-ec7f-4949-981c-cbb1b1ff328e" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored AddColumn for EXTERNALDESC to table GRADE as table does not exist or column already exists." onFail="MARK_RAN">
            <tableExists tableName="GRADE"/>
            <not>
                <columnExists tableName="GRADE" columnName="EXTERNALDESC"/>
            </not>
        </preConditions>
        <comment>PM-858: AddColumn GRADE.EXTERNALDESC</comment>
        <addColumn tableName="GRADE">
            <column name="EXTERNALDESC" type="VARCHAR(254)" remarks="The External System Description"/>
        </addColumn>
    </changeSet>
    <changeSet id="51832e82-00a3-451c-9e8e-4a8076778541" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored AddColumn for EXTERNALREF to table LOCATION as table does not exist or column already exists." onFail="MARK_RAN">
            <tableExists tableName="LOCATION"/>
            <not>
                <columnExists tableName="LOCATION" columnName="EXTERNALREF"/>
            </not>
        </preConditions>
        <comment>PM-858: AddColumn LOCATION.EXTERNALREF</comment>
        <addColumn tableName="LOCATION">
            <column name="EXTERNALREF" type="VARCHAR(254)" remarks="The external system reference of this location"/>
        </addColumn>
    </changeSet>
    <changeSet id="4cab2db6-557a-4dfb-b246-f64da3c12ad4" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored AddColumn for EXTERNALDESC to table LOCATION as table does not exist or column already exists." onFail="MARK_RAN">
            <tableExists tableName="LOCATION"/>
            <not>
                <columnExists tableName="LOCATION" columnName="EXTERNALDESC"/>
            </not>
        </preConditions>
        <comment>PM-858: AddColumn LOCATION.EXTERNALDESC</comment>
        <addColumn tableName="LOCATION">
            <column name="EXTERNALDESC" type="VARCHAR(254)" remarks="The External System Description"/>
        </addColumn>
    </changeSet>
    <changeSet id="530a0156-bccf-48cc-8b6e-b8801724cc9d" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored AddColumn for EXTERNALREF to table PERSON as table does not exist or column already exists." onFail="MARK_RAN">
            <tableExists tableName="PERSON"/>
            <not>
                <columnExists tableName="PERSON" columnName="EXTERNALREF"/>
            </not>
        </preConditions>
        <comment>PM-858: AddColumn PERSON.EXTERNALREF</comment>
        <addColumn tableName="PERSON">
            <column name="EXTERNALREF" type="VARCHAR(254)" remarks="The external system reference of this person"/>
        </addColumn>
    </changeSet>
    <changeSet id="abd7c920-ddbd-416d-b1bd-14609b80e38b" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored AddColumn for EXTERNALDESC to table PERSON as table does not exist or column already exists." onFail="MARK_RAN">
            <tableExists tableName="PERSON"/>
            <not>
                <columnExists tableName="PERSON" columnName="EXTERNALDESC"/>
            </not>
        </preConditions>
        <comment>PM-858: AddColumn PERSON.EXTERNALDESC</comment>
        <addColumn tableName="PERSON">
            <column name="EXTERNALDESC" type="VARCHAR(254)" remarks="The External System Description"/>
        </addColumn>
    </changeSet>
    <changeSet id="61b80149-ca22-4dcb-b934-1d4f705934fd" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored AddColumn for EXTERNALREF to table VIRTUALBEACON as table does not exist or column already exists." onFail="MARK_RAN">
            <tableExists tableName="VIRTUALBEACON"/>
            <not>
                <columnExists tableName="VIRTUALBEACON" columnName="EXTERNALREF"/>
            </not>
        </preConditions>
        <comment>PM-858: AddColumn VIRTUALBEACON.EXTERNALREF</comment>
        <addColumn tableName="VIRTUALBEACON">
            <column name="EXTERNALREF" type="VARCHAR(254)" remarks="The external system reference of this waypoint"/>
        </addColumn>
    </changeSet>
    <changeSet id="195d7056-9b3f-4900-8b38-e973da940ca3" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored AddColumn for EXTERNALDESC to table VIRTUALBEACON as table does not exist or column already exists." onFail="MARK_RAN">
            <tableExists tableName="VIRTUALBEACON"/>
            <not>
                <columnExists tableName="VIRTUALBEACON" columnName="EXTERNALDESC"/>
            </not>
        </preConditions>
        <comment>PM-858: AddColumn VIRTUALBEACON.EXTERNALDESC</comment>
        <addColumn tableName="VIRTUALBEACON">
            <column name="EXTERNALDESC" type="VARCHAR(254)" remarks="The External System Description"/>
        </addColumn>
    </changeSet>
    <changeSet id="e93c2697-29b2-4f41-80bf-3b9932a5af12" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored AddColumn for EXTERNALREF to table DELAY_ACTIVITY_CLASS as table does not exist or column already exists." onFail="MARK_RAN">
            <tableExists tableName="DELAY_ACTIVITY_CLASS"/>
            <not>
                <columnExists tableName="DELAY_ACTIVITY_CLASS" columnName="EXTERNALREF"/>
            </not>
        </preConditions>
        <comment>PM-898 AddColumn DELAY_ACTIVITY_CLASS.EXTERNALREF</comment>
        <addColumn tableName="DELAY_ACTIVITY_CLASS">
            <column name="EXTERNALREF" type="VARCHAR(254)" remarks="The External System Reference"/>
        </addColumn>
    </changeSet>
    <changeSet id="bf0cc410-822c-479f-a7a4-e669c208aa4d" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored AddColumn for EXTERNALDESC to table DELAY_ACTIVITY_CLASS as table does not exist or column already exists." onFail="MARK_RAN">
            <tableExists tableName="DELAY_ACTIVITY_CLASS"/>
            <not>
                <columnExists tableName="DELAY_ACTIVITY_CLASS" columnName="EXTERNALDESC"/>
            </not>
        </preConditions>
        <comment>PM-898 AddColumn DELAY_ACTIVITY_CLASS.EXTERNALDESC</comment>
        <addColumn tableName="DELAY_ACTIVITY_CLASS">
            <column name="EXTERNALDESC" type="VARCHAR(254)" remarks="The External System Description"/>
        </addColumn>
    </changeSet>
    <changeSet id="e2867c43-406b-4687-aa49-b15668aa80df" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored AddColumn for EXTERNALREF to table DELAY_ACTIVITY_TYPE as table does not exist or column already exists." onFail="MARK_RAN">
            <tableExists tableName="DELAY_ACTIVITY_TYPE"/>
            <not>
                <columnExists tableName="DELAY_ACTIVITY_TYPE" columnName="EXTERNALREF"/>
            </not>
        </preConditions>
        <comment>PM-898 AddColumn DELAY_ACTIVITY_TYPE.EXTERNALREF</comment>
        <addColumn tableName="DELAY_ACTIVITY_TYPE">
            <column name="EXTERNALREF" type="VARCHAR(254)" remarks="The External System Reference"/>
        </addColumn>
    </changeSet>
    <changeSet id="46e22a23-569f-4cfb-b3b1-6aca7b6156fe" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored AddColumn for EXTERNALDESC to table DELAY_ACTIVITY_TYPE as table does not exist or column already exists." onFail="MARK_RAN">
            <tableExists tableName="DELAY_ACTIVITY_TYPE"/>
            <not>
                <columnExists tableName="DELAY_ACTIVITY_TYPE" columnName="EXTERNALDESC"/>
            </not>
        </preConditions>
        <comment>PM-898 AddColumn DELAY_ACTIVITY_TYPE.EXTERNALDESC</comment>
        <addColumn tableName="DELAY_ACTIVITY_TYPE">
            <column name="EXTERNALDESC" type="VARCHAR(254)" remarks="The External System Description"/>
        </addColumn>
    </changeSet>
    <changeSet id="e0beae68-3f84-4f6d-8809-793700c3e9e0" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored AddColumn for EXTERNALREF to table DELAY_GROUP as table does not exist or column already exists." onFail="MARK_RAN">
            <tableExists tableName="DELAY_GROUP"/>
            <not>
                <columnExists tableName="DELAY_GROUP" columnName="EXTERNALREF"/>
            </not>
        </preConditions>
        <comment>PM-898 AddColumn DELAY_GROUP.EXTERNALREF</comment>
        <addColumn tableName="DELAY_GROUP">
            <column name="EXTERNALREF" type="VARCHAR(254)" remarks="The External System Reference"/>
        </addColumn>
    </changeSet>
    <changeSet id="74247331-c3e5-4730-bf0f-ab84c48e0bf0" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored AddColumn for EXTERNALDESC to table DELAY_GROUP as table does not exist or column already exists." onFail="MARK_RAN">
            <tableExists tableName="DELAY_GROUP"/>
            <not>
                <columnExists tableName="DELAY_GROUP" columnName="EXTERNALDESC"/>
            </not>
        </preConditions>
        <comment>PM-898 AddColumn DELAY_GROUP.EXTERNALDESC</comment>
        <addColumn tableName="DELAY_GROUP">
            <column name="EXTERNALDESC" type="VARCHAR(254)" remarks="The External System Description"/>
        </addColumn>
    </changeSet>
    <changeSet id="b2efe96c-9c57-484d-aa9c-ca1a3b483767" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored AddColumn for EXTERNALREF to table GRADEBLOCK_GROUP as table does not exist or column already exists." onFail="MARK_RAN">
            <tableExists tableName="GRADEBLOCK_GROUP"/>
            <not>
                <columnExists tableName="GRADEBLOCK_GROUP" columnName="EXTERNALREF"/>
            </not>
        </preConditions>
        <comment>PM-898 AddColumn GRADEBLOCK_GROUP.EXTERNALREF</comment>
        <addColumn tableName="GRADEBLOCK_GROUP">
            <column name="EXTERNALREF" type="VARCHAR(254)" remarks="The External System Reference"/>
        </addColumn>
    </changeSet>
    <changeSet id="d901b7c1-d88c-4ca6-966a-ccfbe9c1a15b" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored AddColumn for EXTERNALDESC to table GRADEBLOCK_GROUP as table does not exist or column already exists." onFail="MARK_RAN">
            <tableExists tableName="GRADEBLOCK_GROUP"/>
            <not>
                <columnExists tableName="GRADEBLOCK_GROUP" columnName="EXTERNALDESC"/>
            </not>
        </preConditions>
        <comment>PM-898 AddColumn GRADEBLOCK_GROUP.EXTERNALDESC</comment>
        <addColumn tableName="GRADEBLOCK_GROUP">
            <column name="EXTERNALDESC" type="VARCHAR(254)" remarks="The External System Description"/>
        </addColumn>
    </changeSet>
    <changeSet id="555c42e3-8a38-4ae7-b8bb-14b89e03b57e" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored AddColumn for EXTERNALREF to table MACHINECLASS as table does not exist or column already exists." onFail="MARK_RAN">
            <tableExists tableName="MACHINECLASS"/>
            <not>
                <columnExists tableName="MACHINECLASS" columnName="EXTERNALREF"/>
            </not>
        </preConditions>
        <comment>PM-898 AddColumn MACHINECLASS.EXTERNALREF</comment>
        <addColumn tableName="MACHINECLASS">
            <column name="EXTERNALREF" type="VARCHAR(254)" remarks="The External System Reference"/>
        </addColumn>
    </changeSet>
    <changeSet id="fcade48b-d5dd-4444-abc7-7902492e4d68" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored AddColumn for EXTERNALDESC to table MACHINECLASS as table does not exist or column already exists." onFail="MARK_RAN">
            <tableExists tableName="MACHINECLASS"/>
            <not>
                <columnExists tableName="MACHINECLASS" columnName="EXTERNALDESC"/>
            </not>
        </preConditions>
        <comment>PM-898 AddColumn MACHINECLASS.EXTERNALDESC</comment>
        <addColumn tableName="MACHINECLASS">
            <column name="EXTERNALDESC" type="VARCHAR(254)" remarks="The External System Description"/>
        </addColumn>
    </changeSet>
    <changeSet id="f01b52a2-7806-424e-97c0-e5b283bfe685" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored AddColumn for EXTERNALREF to table MATERIAL_GROUP as table does not exist or column already exists." onFail="MARK_RAN">
            <tableExists tableName="MATERIAL_GROUP"/>
            <not>
                <columnExists tableName="MATERIAL_GROUP" columnName="EXTERNALREF"/>
            </not>
        </preConditions>
        <comment>PM-898 AddColumn MATERIAL_GROUP.EXTERNALREF</comment>
        <addColumn tableName="MATERIAL_GROUP">
            <column name="EXTERNALREF" type="VARCHAR(254)" remarks="The External System Reference"/>
        </addColumn>
    </changeSet>
    <changeSet id="29e4e0e6-a859-415a-b1af-aaeebc7770d2" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored AddColumn for EXTERNALDESC to table MATERIAL_GROUP as table does not exist or column already exists." onFail="MARK_RAN">
            <tableExists tableName="MATERIAL_GROUP"/>
            <not>
                <columnExists tableName="MATERIAL_GROUP" columnName="EXTERNALDESC"/>
            </not>
        </preConditions>
        <comment>PM-898 AddColumn MATERIAL_GROUP.EXTERNALDESC</comment>
        <addColumn tableName="MATERIAL_GROUP">
            <column name="EXTERNALDESC" type="VARCHAR(254)" remarks="The External System Description"/>
        </addColumn>
    </changeSet>
    <changeSet id="1ccaa786-bb5e-485c-b76d-1e0cc9640dc6" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored AddColumn for EXTERNALDESC to table JOBCODE as table does not exist or column already exists." onFail="MARK_RAN">
            <tableExists tableName="JOBCODE"/>
            <not>
                <columnExists tableName="JOBCODE" columnName="EXTERNALDESC"/>
            </not>
        </preConditions>
        <comment>PM-1575 AddColumn JOBCODE.EXTERNALDESC</comment>
        <addColumn tableName="JOBCODE">
            <column name="EXTERNALDESC" type="VARCHAR(254)" remarks="The external reference description of the job code."/>
        </addColumn>
    </changeSet>
</databaseChangeLog>
 
