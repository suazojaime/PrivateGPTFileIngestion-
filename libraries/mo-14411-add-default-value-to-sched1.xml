<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<!-- Copyright (c) 2023 Caterpillar -->

<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd http://www.liquibase.org/xml/ns/dbchangelog-ext /dbchangelog-ext-3.1.xsd">

    <changeSet id="48e48733-3f1d-4708-9c12-bbaf58e31803" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored AddDefaultValue for QRTZ_BLOB_TRIGGERS.SCHED_NAME as column does not exist" onFail="MARK_RAN">
            <columnExists tableName="QRTZ_BLOB_TRIGGERS" columnName="SCHED_NAME"/>
            <ext:columnHasDefaultValue tableName="QRTZ_BLOB_TRIGGERS" columnName="SCHED_NAME"/>
        </preConditions>
        <comment>MO-14411: AddDefaultValue 'Sched1' to QRTZ_BLOB_TRIGGERS.SCHED_NAME</comment>
        <dropDefaultValue columnName="SCHED_NAME" tableName="QRTZ_BLOB_TRIGGERS"/>
        <addDefaultValue columnName="SCHED_NAME" columnDataType="NVARCHAR(120)" defaultValue="Sched1" tableName="QRTZ_BLOB_TRIGGERS"/>
        <sql>UPDATE QRTZ_BLOB_TRIGGERS set SCHED_NAME = 'Sched1'</sql>
        <rollback>
            <dropDefaultValue columnName="SCHED_NAME" tableName="QRTZ_BLOB_TRIGGERS"/>
            <addDefaultValue columnName="SCHED_NAME" columnDataType="NVARCHAR(120)" defaultValue="" tableName="QRTZ_BLOB_TRIGGERS"/>
            <sql>UPDATE QRTZ_BLOB_TRIGGERS set SCHED_NAME = ''</sql>
        </rollback>
    </changeSet>

    <changeSet id="18df808c-dccb-4eeb-97b3-47b715c3bc7b" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored AddDefaultValue for QRTZ_CALENDARS.SCHED_NAME as column does not exist" onFail="MARK_RAN">
            <columnExists tableName="QRTZ_CALENDARS" columnName="SCHED_NAME"/>
            <ext:columnHasDefaultValue tableName="QRTZ_CALENDARS" columnName="SCHED_NAME"/>
        </preConditions>
        <comment>MO-14411: AddDefaultValue 'Sched1' to QRTZ_CALENDARS.SCHED_NAME</comment>
        <dropDefaultValue columnName="SCHED_NAME" tableName="QRTZ_CALENDARS"/>
        <addDefaultValue columnName="SCHED_NAME" columnDataType="NVARCHAR(120)" defaultValue="Sched1" tableName="QRTZ_CALENDARS"/>
        <sql>UPDATE QRTZ_CALENDARS set SCHED_NAME = 'Sched1'</sql>
        <rollback>
            <dropDefaultValue columnName="SCHED_NAME" tableName="QRTZ_CALENDARS"/>
            <addDefaultValue columnName="SCHED_NAME" columnDataType="NVARCHAR(120)" defaultValue="" tableName="QRTZ_CALENDARS"/>
            <sql>UPDATE QRTZ_CALENDARS set SCHED_NAME = ''</sql>
        </rollback>
    </changeSet>

    <changeSet id="6c33b137-b114-49ec-9326-f2b8860b3582" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored AddDefaultValue for QRTZ_CRON_TRIGGERS.SCHED_NAME as column does not exist" onFail="MARK_RAN">
            <columnExists tableName="QRTZ_CRON_TRIGGERS" columnName="SCHED_NAME"/>
            <ext:columnHasDefaultValue tableName="QRTZ_CRON_TRIGGERS" columnName="SCHED_NAME"/>
        </preConditions>
        <comment>MO-14411: AddDefaultValue 'Sched1' to QRTZ_CRON_TRIGGERS.SCHED_NAME</comment>
        <dropDefaultValue columnName="SCHED_NAME" tableName="QRTZ_CRON_TRIGGERS"/>
        <addDefaultValue columnName="SCHED_NAME" columnDataType="NVARCHAR(120)" defaultValue="Sched1" tableName="QRTZ_CRON_TRIGGERS"/>
        <sql>UPDATE QRTZ_CRON_TRIGGERS set SCHED_NAME = 'Sched1'</sql>
        <rollback>
            <dropDefaultValue columnName="SCHED_NAME" tableName="QRTZ_CRON_TRIGGERS"/>
            <addDefaultValue columnName="SCHED_NAME" columnDataType="NVARCHAR(120)" defaultValue="" tableName="QRTZ_CRON_TRIGGERS"/>
            <sql>UPDATE QRTZ_CRON_TRIGGERS set SCHED_NAME = ''</sql>
        </rollback>
    </changeSet>

    <changeSet id="a820b9e4-0aad-4c5e-9d17-26c35a4ba12a" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored AddDefaultValue for QRTZ_FIRED_TRIGGERS.SCHED_NAME as column does not exist" onFail="MARK_RAN">
            <columnExists tableName="QRTZ_FIRED_TRIGGERS" columnName="SCHED_NAME"/>
            <ext:columnHasDefaultValue tableName="QRTZ_FIRED_TRIGGERS" columnName="SCHED_NAME"/>
        </preConditions>
        <comment>MO-14411: AddDefaultValue 'Sched1' to QRTZ_FIRED_TRIGGERS.SCHED_NAME</comment>
        <dropDefaultValue columnName="SCHED_NAME" tableName="QRTZ_FIRED_TRIGGERS"/>
        <addDefaultValue columnName="SCHED_NAME" columnDataType="NVARCHAR(120)" defaultValue="Sched1" tableName="QRTZ_FIRED_TRIGGERS"/>
        <sql>UPDATE QRTZ_FIRED_TRIGGERS set SCHED_NAME = 'Sched1'</sql>
        <rollback>
            <dropDefaultValue columnName="SCHED_NAME" tableName="QRTZ_FIRED_TRIGGERS"/>
            <addDefaultValue columnName="SCHED_NAME" columnDataType="NVARCHAR(120)" defaultValue="" tableName="QRTZ_FIRED_TRIGGERS"/>
            <sql>UPDATE QRTZ_FIRED_TRIGGERS set SCHED_NAME = ''</sql>
        </rollback>
    </changeSet>

    <changeSet id="a6ce970c-23e9-4ed0-ac2f-557fcaf6eca6" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored AddDefaultValue for QRTZ_JOB_DETAILS.SCHED_NAME as column does not exist" onFail="MARK_RAN">
            <columnExists tableName="QRTZ_JOB_DETAILS" columnName="SCHED_NAME"/>
            <ext:columnHasDefaultValue tableName="QRTZ_JOB_DETAILS" columnName="SCHED_NAME"/>
        </preConditions>
        <comment>MO-14411: AddDefaultValue 'Sched1' to QRTZ_JOB_DETAILS.SCHED_NAME</comment>
        <dropDefaultValue columnName="SCHED_NAME" tableName="QRTZ_JOB_DETAILS"/>
        <addDefaultValue columnName="SCHED_NAME" columnDataType="NVARCHAR(120)" defaultValue="Sched1" tableName="QRTZ_JOB_DETAILS"/>
        <sql>UPDATE QRTZ_JOB_DETAILS set SCHED_NAME = 'Sched1'</sql>
        <rollback>
            <dropDefaultValue columnName="SCHED_NAME" tableName="QRTZ_JOB_DETAILS"/>
            <addDefaultValue columnName="SCHED_NAME" columnDataType="NVARCHAR(120)" defaultValue="" tableName="QRTZ_JOB_DETAILS"/>
            <sql>UPDATE QRTZ_JOB_DETAILS set SCHED_NAME = ''</sql>
        </rollback>
    </changeSet>

    <changeSet id="c225d957-ec69-43d7-b31b-456d639b58de" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored AddDefaultValue for QRTZ_PAUSED_TRIGGER_GRPS.SCHED_NAME as column does not exist" onFail="MARK_RAN">
            <columnExists tableName="QRTZ_PAUSED_TRIGGER_GRPS" columnName="SCHED_NAME"/>
            <ext:columnHasDefaultValue tableName="QRTZ_PAUSED_TRIGGER_GRPS" columnName="SCHED_NAME"/>
        </preConditions>
        <comment>MO-14411: AddDefaultValue 'Sched1' to QRTZ_PAUSED_TRIGGER_GRPS.SCHED_NAME</comment>
        <dropDefaultValue columnName="SCHED_NAME" tableName="QRTZ_PAUSED_TRIGGER_GRPS"/>
        <addDefaultValue columnName="SCHED_NAME" columnDataType="NVARCHAR(120)" defaultValue="Sched1" tableName="QRTZ_PAUSED_TRIGGER_GRPS"/>
        <sql>UPDATE QRTZ_PAUSED_TRIGGER_GRPS set SCHED_NAME = 'Sched1'</sql>
        <rollback>
            <dropDefaultValue columnName="SCHED_NAME" tableName="QRTZ_PAUSED_TRIGGER_GRPS"/>
            <addDefaultValue columnName="SCHED_NAME" columnDataType="NVARCHAR(120)" defaultValue="" tableName="QRTZ_PAUSED_TRIGGER_GRPS"/>
            <sql>UPDATE QRTZ_PAUSED_TRIGGER_GRPS set SCHED_NAME = ''</sql>
        </rollback>
    </changeSet>

    <changeSet id="689250bf-e19f-4834-ad0d-2881f2743a5c" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored AddDefaultValue for QRTZ_SCHEDULER_STATE.SCHED_NAME as column does not exist" onFail="MARK_RAN">
            <columnExists tableName="QRTZ_SCHEDULER_STATE" columnName="SCHED_NAME"/>
            <ext:columnHasDefaultValue tableName="QRTZ_SCHEDULER_STATE" columnName="SCHED_NAME"/>
        </preConditions>
        <comment>MO-14411: AddDefaultValue 'Sched1' to QRTZ_SCHEDULER_STATE.SCHED_NAME</comment>
        <dropDefaultValue columnName="SCHED_NAME" tableName="QRTZ_SCHEDULER_STATE"/>
        <addDefaultValue columnName="SCHED_NAME" columnDataType="NVARCHAR(120)" defaultValue="Sched1" tableName="QRTZ_SCHEDULER_STATE"/>
        <sql>UPDATE QRTZ_SCHEDULER_STATE set SCHED_NAME = 'Sched1'</sql>
        <rollback>
            <dropDefaultValue columnName="SCHED_NAME" tableName="QRTZ_SCHEDULER_STATE"/>
            <addDefaultValue columnName="SCHED_NAME" columnDataType="NVARCHAR(120)" defaultValue="" tableName="QRTZ_SCHEDULER_STATE"/>
            <sql>UPDATE QRTZ_SCHEDULER_STATE set SCHED_NAME = ''</sql>
        </rollback>
    </changeSet>

    <changeSet id="a9ea4bd4-f3c8-4de5-9d7e-b457671b8b1d" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored AddDefaultValue for QRTZ_SIMPLE_TRIGGERS.SCHED_NAME as column does not exist" onFail="MARK_RAN">
            <columnExists tableName="QRTZ_SIMPLE_TRIGGERS" columnName="SCHED_NAME"/>
            <ext:columnHasDefaultValue tableName="QRTZ_SIMPLE_TRIGGERS" columnName="SCHED_NAME"/>
        </preConditions>
        <comment>MO-14411: AddDefaultValue 'Sched1' to QRTZ_SIMPLE_TRIGGERS.SCHED_NAME</comment>
        <dropDefaultValue columnName="SCHED_NAME" tableName="QRTZ_SIMPLE_TRIGGERS"/>
        <addDefaultValue columnName="SCHED_NAME" columnDataType="NVARCHAR(120)" defaultValue="Sched1" tableName="QRTZ_SIMPLE_TRIGGERS"/>
        <sql>UPDATE QRTZ_SIMPLE_TRIGGERS set SCHED_NAME = 'Sched1'</sql>
        <rollback>
            <dropDefaultValue columnName="SCHED_NAME" tableName="QRTZ_SIMPLE_TRIGGERS"/>
            <addDefaultValue columnName="SCHED_NAME" columnDataType="NVARCHAR(120)" defaultValue="" tableName="QRTZ_SIMPLE_TRIGGERS"/>
            <sql>UPDATE QRTZ_SIMPLE_TRIGGERS set SCHED_NAME = ''</sql>
        </rollback>
    </changeSet>

    <changeSet id="11d79e3d-3e46-4cc0-baa4-9f8b1ad040ca" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored AddDefaultValue for QRTZ_TRIGGERS.SCHED_NAME as column does not exist" onFail="MARK_RAN">
            <columnExists tableName="QRTZ_TRIGGERS" columnName="SCHED_NAME"/>
            <ext:columnHasDefaultValue tableName="QRTZ_TRIGGERS" columnName="SCHED_NAME"/>
        </preConditions>
        <comment>MO-14411: AddDefaultValue 'Sched1' to QRTZ_TRIGGERS.SCHED_NAME</comment>
        <dropDefaultValue columnName="SCHED_NAME" tableName="QRTZ_TRIGGERS"/>
        <addDefaultValue columnName="SCHED_NAME" columnDataType="NVARCHAR(120)" defaultValue="Sched1" tableName="QRTZ_TRIGGERS"/>
        <sql>UPDATE QRTZ_TRIGGERS set SCHED_NAME = 'Sched1'</sql>
        <rollback>
            <dropDefaultValue columnName="SCHED_NAME" tableName="QRTZ_TRIGGERS"/>
            <addDefaultValue columnName="SCHED_NAME" columnDataType="NVARCHAR(120)" defaultValue="" tableName="QRTZ_TRIGGERS"/>
            <sql>UPDATE QRTZ_TRIGGERS set SCHED_NAME = ''</sql>
        </rollback>
    </changeSet>

    <changeSet id="d3c176c7-285d-4610-837a-6887276b954b" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored AddDefaultValue for QRTZ_SIMPROP_TRIGGERS.SCHED_NAME as column does not exist" onFail="MARK_RAN">
            <columnExists tableName="QRTZ_SIMPROP_TRIGGERS" columnName="SCHED_NAME"/>
            <not>
                <ext:columnHasDefaultValue tableName="QRTZ_SIMPROP_TRIGGERS" columnName="SCHED_NAME"/>
            </not>
        </preConditions>
        <comment>MO-14411: AddDefaultValue 'Sched1' to QRTZ_SIMPROP_TRIGGERS.SCHED_NAME</comment>
        <addDefaultValue columnName="SCHED_NAME" columnDataType="NVARCHAR(120)" defaultValue="Sched1" tableName="QRTZ_SIMPROP_TRIGGERS"/>
        <sql>UPDATE QRTZ_SIMPROP_TRIGGERS set SCHED_NAME = 'Sched1'</sql>
        <rollback>
            <dropDefaultValue columnName="SCHED_NAME" tableName="QRTZ_SIMPROP_TRIGGERS"/>
        </rollback>
    </changeSet>

    <changeSet id="a6d02ebf-c4a4-418e-a2c2-d4900ece7d0f" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored AddForeignKeyConstraint for QRTZ_SIMPROP_TRIGGERS_TRIGG_FK to table QRTZ_SIMPROP_TRIGGERS as (1) the table does not exist, or (2) the foreignKey already exists." onFail="MARK_RAN">
            <tableExists tableName="QRTZ_SIMPROP_TRIGGERS"/>
            <tableExists tableName="QRTZ_TRIGGERS"/>
            <not>
                <foreignKeyConstraintExists foreignKeyTableName="QRTZ_SIMPROP_TRIGGERS" foreignKeyName="QRTZ_SIMPROP_TRIGGERS_TRIGG_FK"/>
            </not>
        </preConditions>
        <comment>MO-14255: AddForeignKeyConstraint QRTZ_SIMPROP_TRIGGERS_TRIGG_FK to QRTZ_SIMPROP_TRIGGERS(TRIGGER_NAME,TRIGGER_GROUP)</comment>
        <addForeignKeyConstraint baseTableName="QRTZ_SIMPROP_TRIGGERS" baseColumnNames="TRIGGER_NAME,TRIGGER_GROUP" constraintName="QRTZ_SIMPROP_TRIGGERS_TRIGG_FK" referencedTableName="QRTZ_TRIGGERS" referencedColumnNames="TRIGGER_NAME,TRIGGER_GROUP" onDelete="NO ACTION"/>
        <rollback>
            <dropForeignKeyConstraint baseTableName="QRTZ_SIMPROP_TRIGGERS" constraintName="QRTZ_SIMPROP_TRIGGERS_TRIGG_FK"/>
        </rollback>
    </changeSet>

</databaseChangeLog>
