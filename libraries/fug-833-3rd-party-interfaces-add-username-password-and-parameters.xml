<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd http://www.liquibase.org/xml/ns/dbchangelog-ext /dbchangelog-ext-3.1.xsd">
    <changeSet id="a934325f-98aa-4ef2-a869-67c472e71226" author="MineStar" failOnError="false" context="Platform/Platform_Management">
        <preConditions onFailMessage="Ignored AddColumn for USERNAME to table EXTERNAL_SYSTEM_TASK as table does not exist or column already exists." onFail="MARK_RAN">
            <tableExists tableName="EXTERNAL_SYSTEM_TASK"/>
            <not>
                <columnExists tableName="EXTERNAL_SYSTEM_TASK" columnName="USERNAME"/>
            </not>
        </preConditions>
        <comment>FUG-833: AddColumn EXTERNAL_SYSTEM_TASK.USERNAME</comment>
        <addColumn tableName="EXTERNAL_SYSTEM_TASK">
            <column name="USERNAME" type="VARCHAR(255)" remarks="The username to access the web service."/>
        </addColumn>
        <rollback>
            <dropColumn tableName="EXTERNAL_SYSTEM_TASK" columnName="USERNAME"/>
        </rollback>
    </changeSet>
    <changeSet id="47b82d60-9fe8-48ef-8a9e-ef6f03485e54" author="MineStar" failOnError="false" context="Platform/Platform_Management">
        <preConditions onFailMessage="Ignored AddColumn for PASSSWORD to table EXTERNAL_SYSTEM_TASK as table does not exist or column already exists." onFail="MARK_RAN">
            <tableExists tableName="EXTERNAL_SYSTEM_TASK"/>
            <not>
                <columnExists tableName="EXTERNAL_SYSTEM_TASK" columnName="PASSSWORD"/>
            </not>
        </preConditions>
        <comment>FUG-833: AddColumn EXTERNAL_SYSTEM_TASK.PASSSWORD</comment>
        <addColumn tableName="EXTERNAL_SYSTEM_TASK">
            <column name="PASSSWORD" type="VARCHAR(255)" remarks="The password to access the web service."/>
        </addColumn>
        <rollback>
            <dropColumn tableName="EXTERNAL_SYSTEM_TASK" columnName="PASSSWORD"/>
        </rollback>
    </changeSet>
    <changeSet id="85b63d84-871a-499b-9035-37bd8896f1cf" author="MineStar" failOnError="false" context="Platform/Platform_Management">
        <preConditions onFailMessage="Ignored AddColumn for ADDITIONAL_PARAMETERS to table EXTERNAL_SYSTEM_TASK as table does not exist or column already exists." onFail="MARK_RAN">
            <tableExists tableName="EXTERNAL_SYSTEM_TASK"/>
            <not>
                <columnExists tableName="EXTERNAL_SYSTEM_TASK" columnName="ADDITIONAL_PARAMETERS"/>
            </not>
        </preConditions>
        <comment>FUG-833: AddColumn EXTERNAL_SYSTEM_TASK.ADDITIONAL_PARAMETERS</comment>
        <addColumn tableName="EXTERNAL_SYSTEM_TASK">
            <column name="ADDITIONAL_PARAMETERS" type="VARCHAR(4000)" remarks="The Additional Parameters for the external system."/>
        </addColumn>
        <rollback>
            <dropColumn tableName="EXTERNAL_SYSTEM_TASK" columnName="ADDITIONAL_PARAMETERS"/>
        </rollback>
    </changeSet>
    <changeSet id="a41a0010-71a2-46d7-b8a1-851faf2681ca" author="MineStar" failOnError="false" context="Platform/Platform_Management">
        <preConditions onFailMessage="Ignored AddColumn for EXTERNAL_PARAMETERS to table EXTERNAL_SYSTEM_TASK as table does not exist or column already exists." onFail="MARK_RAN">
            <tableExists tableName="EXTERNAL_SYSTEM_TASK"/>
            <not>
                <columnExists tableName="EXTERNAL_SYSTEM_TASK" columnName="EXTERNAL_PARAMETERS"/>
            </not>
        </preConditions>
        <comment>FUG-833: AddColumn EXTERNAL_SYSTEM_TASK.EXTERNAL_PARAMETERS</comment>
        <addColumn tableName="EXTERNAL_SYSTEM_TASK">
            <column name="EXTERNAL_PARAMETERS" type="VARCHAR(4000)" remarks="The External Parameters to set in the external system."/>
        </addColumn>
        <rollback>
            <dropColumn tableName="EXTERNAL_SYSTEM_TASK" columnName="EXTERNAL_PARAMETERS"/>
        </rollback>
    </changeSet>
</databaseChangeLog>

