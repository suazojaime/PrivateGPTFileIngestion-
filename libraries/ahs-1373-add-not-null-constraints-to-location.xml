<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
        xsi:schemaLocation="
            http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd
            http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd
        ">
    <changeSet id="11c7ca77-d99c-4057-bb28-5fa079313764" author="MineStar" failOnError="true" dbms="mssql">
        <preConditions onFailMessage="Ignored DropIndex for LOCATION_NAME of table LOCATION as index does not exist." onFail="MARK_RAN">
            <indexExists tableName="LOCATION" indexName="LOCATION_NAME"/>
        </preConditions>
        <dropIndex tableName="LOCATION" indexName="LOCATION_NAME"/>
        <rollback>
            <createIndex unique="true" tablespace="MW_IDXENT" tableName="LOCATION" indexName="LOCATION_NAME">
                <column name="NAME"/>
            </createIndex>
        </rollback>
    </changeSet>
    <changeSet id="11c7ca77-d99c-4057-bb28-5fa079313766" author="MineStar" failOnError="true">
        <preConditions onFailMessage="Ignored AlterColumn for NAME of table LOCATION as column does not exist or already has a NOT NULL constraint." onFail="MARK_RAN">
            <columnExists tableName="LOCATION" columnName="NAME"/>
            <ext:columnIsNullable tableName="LOCATION" columnName="NAME"/>
        </preConditions>
        <comment>AHS-1373: AlterColumn LOCATION.NAME - nullability changed from true to false</comment>
        <addNotNullConstraint columnName="NAME" columnDataType="VARCHAR(254)" tableName="LOCATION"/>
    </changeSet>
    <changeSet id="11c7ca77-d99c-4057-bb28-5fa079313768" author="MineStar" failOnError="true" dbms="mssql">
        <preConditions onFailMessage="Ignored CreateIndex for LOCATION_NAME of table LOCATION as index already exists." onFail="MARK_RAN">
            <not>
                <indexExists tableName="LOCATION" indexName="LOCATION_NAME"/>
            </not>
        </preConditions>
        <createIndex unique="true" tableName="LOCATION" indexName="LOCATION_NAME">
            <column name="NAME"/>
        </createIndex>
    </changeSet>
    <changeSet id="f3047816-2d48-4341-a4ce-deface083ceb" author="MineStar" failOnError="true">
        <preConditions onFailMessage="Ignored AlterColumn for REHANDLE of table LOCATION as column does not exist or already has a NOT NULL constraint." onFail="MARK_RAN">
            <columnExists tableName="LOCATION" columnName="REHANDLE"/>
            <ext:columnIsNullable tableName="LOCATION" columnName="REHANDLE"/>
        </preConditions>
        <comment>AHS-1373: AlterColumn LOCATION.REHANDLE - nullability changed from true to false</comment>
        <addNotNullConstraint columnName="REHANDLE" defaultNullValue="0" columnDataType="BOOLEAN" tableName="LOCATION"/>
        <rollback>
            <!-- Do not rollback this change as this constraint is present in 4.1 under a different changeSet id -->
        </rollback>
    </changeSet>
    <changeSet id="2761d322-456e-4bfc-bc78-e13b47d4c5ac" author="MineStar" failOnError="true">
        <preConditions onFailMessage="Ignored AlterColumn for ISSOURCE of table LOCATION as column does not exist or already has a NOT NULL constraint." onFail="MARK_RAN">
            <columnExists tableName="LOCATION" columnName="ISSOURCE"/>
            <ext:columnIsNullable tableName="LOCATION" columnName="ISSOURCE"/>
        </preConditions>
        <comment>AHS-1373: AlterColumn LOCATION.ISSOURCE - nullability changed from true to false</comment>
        <addNotNullConstraint columnName="ISSOURCE" defaultNullValue="0" columnDataType="BOOLEAN" tableName="LOCATION"/>
        <rollback>
            <!-- Do not rollback this change as this constraint is present in 4.1 under a different changeSet id -->
        </rollback>
    </changeSet>
    <changeSet id="c3115093-253a-4ea8-b2c6-446ebc0fbccf" author="MineStar" failOnError="true">
        <preConditions onFailMessage="Ignored AlterColumn for ISSINK of table LOCATION as column does not exist or already has a NOT NULL constraint." onFail="MARK_RAN">
            <columnExists tableName="LOCATION" columnName="ISSINK"/>
            <ext:columnIsNullable tableName="LOCATION" columnName="ISSINK"/>
        </preConditions>
        <comment>AHS-1373: AlterColumn LOCATION.ISSINK - nullability changed from true to false</comment>
        <addNotNullConstraint columnName="ISSINK" defaultNullValue="0" columnDataType="BOOLEAN" tableName="LOCATION"/>
        <rollback>
            <!-- Do not rollback this change as this constraint is present in 4.1 under a different changeSet id -->
        </rollback>
    </changeSet>
    <changeSet id="5bd0254e-b1aa-421f-b059-aea7735bff02" author="MineStar" failOnError="true">
        <preConditions onFailMessage="Ignored AlterColumn for ISSTATION of table LOCATION as column does not exist or already has a NOT NULL constraint." onFail="MARK_RAN">
            <columnExists tableName="LOCATION" columnName="ISSTATION"/>
            <ext:columnIsNullable tableName="LOCATION" columnName="ISSTATION"/>
        </preConditions>
        <comment>AHS-1373: AlterColumn LOCATION.ISSTATION - nullability changed from true to false</comment>
        <addNotNullConstraint columnName="ISSTATION" defaultNullValue="0" columnDataType="BOOLEAN" tableName="LOCATION"/>
        <rollback>
            <!-- Do not rollback this change as this constraint is present in 4.1 under a different changeSet id -->
        </rollback>
    </changeSet>
    <changeSet id="34d20252-e392-43ee-a358-9f916ea5ba3c" author="MineStar" failOnError="true">
        <preConditions onFailMessage="Ignored AlterColumn for ALLOWALLMATERIALS of table LOCATION as column does not exist or already has a NOT NULL constraint." onFail="MARK_RAN">
            <columnExists tableName="LOCATION" columnName="ALLOWALLMATERIALS"/>
            <ext:columnIsNullable tableName="LOCATION" columnName="ALLOWALLMATERIALS"/>
        </preConditions>
        <comment>AHS-1373: AlterColumn LOCATION.ALLOWALLMATERIALS - nullability changed from true to false</comment>
        <addNotNullConstraint columnName="ALLOWALLMATERIALS" defaultNullValue="0" columnDataType="BOOLEAN" tableName="LOCATION"/>
        <rollback>
            <!-- Do not rollback this change as this constraint is present in 4.1 under a different changeSet id -->
        </rollback>
    </changeSet>
    <changeSet id="8312ad28-742b-49aa-b2bc-f4c7167696ec" author="MineStar" failOnError="true">
        <preConditions onFailMessage="Ignored AlterColumn for ALLOWTHORUGHTRAFFIC of table LOCATION as column does not exist or already has a NOT NULL constraint." onFail="MARK_RAN">
            <columnExists tableName="LOCATION" columnName="ALLOWTHORUGHTRAFFIC"/>
            <ext:columnIsNullable tableName="LOCATION" columnName="ALLOWTHORUGHTRAFFIC"/>
        </preConditions>
        <comment>AHS-1373: AlterColumn LOCATION.ALLOWTHORUGHTRAFFIC - nullability changed from true to false</comment>
        <addNotNullConstraint columnName="ALLOWTHORUGHTRAFFIC" defaultNullValue="0" columnDataType="BOOLEAN" tableName="LOCATION"/>
        <rollback>
            <!-- Do not rollback this change as this constraint is present in 4.1 under a different changeSet id -->
        </rollback>
    </changeSet>
    <changeSet id="ea46d9b8-669b-4176-b076-391240550209" author="MineStar" failOnError="true">
        <preConditions onFailMessage="Ignored AlterColumn for TRUCKCAPACITY of table LOCATION as column does not exist or already has a NOT NULL constraint." onFail="MARK_RAN">
            <columnExists tableName="LOCATION" columnName="TRUCKCAPACITY"/>
            <ext:columnIsNullable tableName="LOCATION" columnName="TRUCKCAPACITY"/>
        </preConditions>
        <comment>AHS-1373: AlterColumn LOCATION.TRUCKCAPACITY - nullability changed from true to false</comment>
        <addNotNullConstraint columnName="TRUCKCAPACITY" defaultNullValue="0" columnDataType="INT" tableName="LOCATION"/>
        <rollback>
            <!-- Do not rollback this change as this constraint is present in 4.1 under a different changeSet id -->
        </rollback>
    </changeSet>
    <changeSet id="0d295f0f-052f-451d-9c57-56231954294e" author="MineStar" failOnError="true">
        <preConditions onFailMessage="Ignored AlterColumn for QUEUINGALLOWED of table LOCATION as column does not exist or already has a NOT NULL constraint." onFail="MARK_RAN">
            <columnExists tableName="LOCATION" columnName="QUEUINGALLOWED"/>
            <ext:columnIsNullable tableName="LOCATION" columnName="QUEUINGALLOWED"/>
        </preConditions>
        <comment>AHS-1373: AlterColumn LOCATION.QUEUINGALLOWED - nullability changed from true to false</comment>
        <addNotNullConstraint columnName="QUEUINGALLOWED" defaultNullValue="0" columnDataType="BOOLEAN" tableName="LOCATION"/>
        <rollback>
            <!-- Do not rollback this change as this constraint is present in 4.1 under a different changeSet id -->
        </rollback>
    </changeSet>
    <changeSet id="dd57aa8c-2dc1-4aed-8d10-13d382a87b0f" author="MineStar" failOnError="true">
        <preConditions onFailMessage="Ignored AlterColumn for ISPARENT of table LOCATION as column does not exist or already has a NOT NULL constraint." onFail="MARK_RAN">
            <columnExists tableName="LOCATION" columnName="ISPARENT"/>
            <ext:columnIsNullable tableName="LOCATION" columnName="ISPARENT"/>
        </preConditions>
        <comment>AHS-1373: AlterColumn LOCATION.ISPARENT - nullability changed from true to false</comment>
        <addNotNullConstraint columnName="ISPARENT" defaultNullValue="0" columnDataType="BOOLEAN" tableName="LOCATION"/>
        <rollback>
            <!-- Do not rollback this change as this constraint is present in 4.1 under a different changeSet id -->
        </rollback>
    </changeSet>
    <changeSet id="9cddb814-17c2-426b-b1b2-dbcd9490b42d" author="MineStar" failOnError="true">
        <preConditions onFailMessage="Ignored AlterColumn for BADCOMMSAREA of table LOCATION as column does not exist or already has a NOT NULL constraint." onFail="MARK_RAN">
            <columnExists tableName="LOCATION" columnName="BADCOMMSAREA"/>
            <ext:columnIsNullable tableName="LOCATION" columnName="BADCOMMSAREA"/>
        </preConditions>
        <comment>AHS-1373: AlterColumn LOCATION.BADCOMMSAREA - nullability changed from true to false</comment>
        <addNotNullConstraint columnName="BADCOMMSAREA" defaultNullValue="0" columnDataType="BOOLEAN" tableName="LOCATION"/>
        <rollback>
            <!-- Do not rollback this change as this constraint is present in 4.1 under a different changeSet id -->
        </rollback>
    </changeSet>

    <changeSet id="d46fadf7-5d6d-4cf5-b5ba-fcb58815c29b" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored DropDefaultValue for LOCATION.REHANDLE as column does not exist or column does not have a default value" onFail="MARK_RAN">
            <ext:columnHasDefaultValue tableName="LOCATION" columnName="REHANDLE"/>
        </preConditions>
        <comment>FLT-2429: DropDefaultValue '0' from LOCATION.REHANDLE</comment>
        <dropDefaultValue columnName="REHANDLE" columnDataType="BOOLEAN" tableName="LOCATION"/>
        <rollback>
            <addDefaultValue columnName="REHANDLE" columnDataType="BOOLEAN" defaultValueBoolean="false" tableName="LOCATION"/>
        </rollback>
    </changeSet>
    <changeSet id="458fd056-5cf2-4b1c-a3d9-0c8cd27a7ed3" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored DropDefaultValue for LOCATION.ISSOURCE as column does not exist or column does not have a default value" onFail="MARK_RAN">
            <ext:columnHasDefaultValue tableName="LOCATION" columnName="ISSOURCE"/>
        </preConditions>
        <comment>FLT-2429: DropDefaultValue '0' from LOCATION.ISSOURCE</comment>
        <dropDefaultValue columnName="ISSOURCE" columnDataType="BOOLEAN" tableName="LOCATION"/>
        <rollback>
            <addDefaultValue columnName="ISSOURCE" columnDataType="BOOLEAN" defaultValueBoolean="false" tableName="LOCATION"/>
        </rollback>
    </changeSet>
    <changeSet id="90ec59a3-4d82-437c-92e7-cffaf4deaa83" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored DropDefaultValue for LOCATION.ISSINK as column does not exist or column does not have a default value" onFail="MARK_RAN">
            <ext:columnHasDefaultValue tableName="LOCATION" columnName="ISSINK"/>
        </preConditions>
        <comment>FLT-2429: DropDefaultValue '0' from LOCATION.ISSINK</comment>
        <dropDefaultValue columnName="ISSINK" columnDataType="BOOLEAN" tableName="LOCATION"/>
        <rollback>
            <addDefaultValue columnName="ISSINK" columnDataType="BOOLEAN" defaultValueBoolean="false" tableName="LOCATION"/>
        </rollback>
    </changeSet>
    <changeSet id="87ab8bf1-9c03-40d6-8782-2b111a675165" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored DropDefaultValue for LOCATION.ISSTATION as column does not exist or column does not have a default value" onFail="MARK_RAN">
            <ext:columnHasDefaultValue tableName="LOCATION" columnName="ISSTATION"/>
        </preConditions>
        <comment>FLT-2429: DropDefaultValue '0' from LOCATION.ISSTATION</comment>
        <dropDefaultValue columnName="ISSTATION" columnDataType="BOOLEAN" tableName="LOCATION"/>
        <rollback>
            <addDefaultValue columnName="ISSTATION" columnDataType="BOOLEAN" defaultValueBoolean="false" tableName="LOCATION"/>
        </rollback>
    </changeSet>
    <changeSet id="99ebb45d-9138-4214-a0c5-6f000c8043de" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored DropDefaultValue for LOCATION.ALLOWALLMATERIALS as column does not exist or column does not have a default value" onFail="MARK_RAN">
            <ext:columnHasDefaultValue tableName="LOCATION" columnName="ALLOWALLMATERIALS"/>
        </preConditions>
        <comment>FLT-2429: DropDefaultValue '0' from LOCATION.ALLOWALLMATERIALS</comment>
        <dropDefaultValue columnName="ALLOWALLMATERIALS" columnDataType="BOOLEAN" tableName="LOCATION"/>
        <rollback>
            <addDefaultValue columnName="ALLOWALLMATERIALS" columnDataType="BOOLEAN" defaultValueBoolean="false" tableName="LOCATION"/>
        </rollback>
    </changeSet>
    <changeSet id="e9ba6c44-8a77-46e1-9dae-86ac24bae9e6" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored DropDefaultValue for LOCATION.ALLOWTHORUGHTRAFFIC as column does not exist or column does not have a default value" onFail="MARK_RAN">
            <ext:columnHasDefaultValue tableName="LOCATION" columnName="ALLOWTHORUGHTRAFFIC"/>
        </preConditions>
        <comment>FLT-2429: DropDefaultValue '0' from LOCATION.ALLOWTHORUGHTRAFFIC</comment>
        <dropDefaultValue columnName="ALLOWTHORUGHTRAFFIC" columnDataType="BOOLEAN" tableName="LOCATION"/>
        <rollback>
            <addDefaultValue columnName="ALLOWTHORUGHTRAFFIC" columnDataType="BOOLEAN" defaultValueBoolean="false" tableName="LOCATION"/>
        </rollback>
    </changeSet>
    <changeSet id="bca10c5b-f7cf-41ea-82d4-f370fc99fb11" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored DropDefaultValue for LOCATION.TRUCKCAPACITY as column does not exist or column does not have a default value" onFail="MARK_RAN">
            <ext:columnHasDefaultValue tableName="LOCATION" columnName="TRUCKCAPACITY"/>
        </preConditions>
        <comment>FLT-2429: DropDefaultValue '0' from LOCATION.TRUCKCAPACITY</comment>
        <dropDefaultValue columnName="TRUCKCAPACITY" columnDataType="INT" tableName="LOCATION"/>
        <rollback>
            <addDefaultValue columnName="TRUCKCAPACITY" columnDataType="INT" defaultValueNumeric="0" tableName="LOCATION"/>
        </rollback>
    </changeSet>
    <changeSet id="6faa4db7-c1c4-4f88-889a-1bacf793042c" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored DropDefaultValue for LOCATION.QUEUINGALLOWED as column does not exist or column does not have a default value" onFail="MARK_RAN">
            <ext:columnHasDefaultValue tableName="LOCATION" columnName="QUEUINGALLOWED"/>
        </preConditions>
        <comment>FLT-2429: DropDefaultValue '0' from LOCATION.QUEUINGALLOWED</comment>
        <dropDefaultValue columnName="QUEUINGALLOWED" columnDataType="BOOLEAN" tableName="LOCATION"/>
        <rollback>
            <addDefaultValue columnName="QUEUINGALLOWED" columnDataType="BOOLEAN" defaultValueBoolean="false" tableName="LOCATION"/>
        </rollback>
    </changeSet>
    <changeSet id="6722a848-bd89-4071-af90-45e69096c387" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored DropDefaultValue for LOCATION.ISPARENT as column does not exist or column does not have a default value" onFail="MARK_RAN">
            <ext:columnHasDefaultValue tableName="LOCATION" columnName="ISPARENT"/>
        </preConditions>
        <comment>FLT-2429: DropDefaultValue '0' from LOCATION.ISPARENT</comment>
        <dropDefaultValue columnName="ISPARENT" columnDataType="BOOLEAN" tableName="LOCATION"/>
        <rollback>
            <addDefaultValue columnName="ISPARENT" columnDataType="BOOLEAN" defaultValueBoolean="false" tableName="LOCATION"/>
        </rollback>
    </changeSet>
    <changeSet id="56cf4526-57fa-4c90-a3ba-c7d4a56c0de8" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored DropDefaultValue for LOCATION.BADCOMMSAREA as column does not exist or column does not have a default value" onFail="MARK_RAN">
            <ext:columnHasDefaultValue tableName="LOCATION" columnName="BADCOMMSAREA"/>
        </preConditions>
        <comment>FLT-2429: DropDefaultValue '0' from LOCATION.BADCOMMSAREA</comment>
        <dropDefaultValue columnName="BADCOMMSAREA" columnDataType="BOOLEAN" tableName="LOCATION"/>
        <rollback>
            <addDefaultValue columnName="BADCOMMSAREA" columnDataType="BOOLEAN" defaultValueBoolean="false" tableName="LOCATION"/>
        </rollback>
    </changeSet>

</databaseChangeLog>
