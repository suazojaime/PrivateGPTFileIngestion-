<?xml version="1.0"?>
<!--
  ~ Copyright (c) 2022 Caterpillar
  -->

<!DOCTYPE hibernate-mapping PUBLIC
        "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
        "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">
<hibernate-mapping default-access="field" default-lazy="false" schema="model">

    <class name="minestar.pitlink.domain.machine.MachineClassImpl"
           table="MACHINECLASS"
           discriminator-value="XAEntity.MachineClass">

        <meta attribute="index" inherit="false">
            name=MACHINECLASS_ECF_CLASS_ID
            columns=ECF_CLASS_ID
        </meta>
        <meta attribute="index" inherit="false">
            name=MACHINECLASS_NAME
            unique=true
            columns=NAME
        </meta>
        <meta attribute="import-order">0</meta>
        <meta attribute="view-master">true</meta>
        <meta attribute="view-create-order">1</meta>

        <meta attribute="description">
            A grouping mechanism for machines to provide base level feature and attribute specification.
        </meta>

        <meta attribute="businessKeys">name</meta>

        <cache usage="read-write" region="model"/>

        <id name="OID" type="long" column="MACHINECLASS_OID">
            <generator class="com.mincom.env.base.persistence.IDGenerator"/>
        </id>

        <discriminator column="ECF_CLASS_ID" not-null="false"/>

        <property name="active" type="boolean" column="IS_ACTIVE" not-null="true">
            <meta attribute="defaultValue">true</meta>
            <meta attribute="description">Is this machine class active</meta>
        </property>

        <property name="name" type="string" column="NAME" length="254" not-null="true">
            <meta attribute="description">The name of this class.</meta>
        </property>

        <property name="manufacturer" type="string" column="MANUFACTURER" length="254">
            <meta attribute="description">The name of the manufacturer.</meta>
        </property>

        <property name="description" type="string" column="DESCRIPTION" length="254">
            <meta attribute="description">A description.</meta>
        </property>

        <property name="useFuel" type="boolean" column="USEFUEL" not-null="true">
            <meta attribute="description">Set if machine class uses fuel. Null is true for TruckClass and AuxMobileClass, otherwise false.</meta>
        </property>

        <property name="fuelCapacity" column="FUELCAPACITY">
            <meta attribute="description">The fuel capacity for all machines of this class.</meta>
            <meta attribute="unitType">liquid volume</meta>
            <type name="quantity">
                <param name="unitType">liquid volume</param>
            </type>
        </property>

        <property name="allowAllMaterials" type="boolean" column="ALLOWALLMATERIALS" not-null="true">
            <meta attribute="description">When true this machine can handle all materials.</meta>
            <meta attribute="defaultValue">false</meta>
        </property>

        <property name="externalRef" type="string" column="EXTERNALREF" length="254">
            <meta attribute="description">The External System Reference</meta>
        </property>

        <property name="externalDesc" type="string" column="EXTERNALDESC" length="254">
            <meta attribute="description">The External System Description</meta>
        </property>

        <many-to-one name="fuelType" class="minestar.production.domain.fuel.FuelAndLubeTypeReference" column="FUELTYPE">
            <meta attribute="description">The substance that machines of this class consume as fuel.</meta>
        </many-to-one>

        <property name="minimumRefuelAmount" column="MINIMUMREFUELAMOUNT">
            <meta attribute="description">The default minimum refuelling amount for machines of this class.</meta>
            <meta attribute="unitType">liquid volume</meta>
             <type name="quantity">
                <param name="unitType">liquid volume</param>
            </type>
        </property>

        <property name="refuelLevel" column="REFUELLEVEL">
            <meta attribute="description">The default refuelling level for machines of this class.</meta>
            <meta attribute="unitType">liquid volume</meta>
             <type name="quantity">
                <param name="unitType">liquid volume</param>
            </type>
        </property>

        <property name="criticalFuelLevel" column="CRITICALFUELLEVEL">
            <meta attribute="description">The default critical fuel level for machines of this class.</meta>
            <meta attribute="unitType">liquid volume</meta>
             <type name="quantity">
                <param name="unitType">liquid volume</param>
            </type>
        </property>

        <property name="expectedDuratnBetweenRefuels" column="EXPECTEDDURATIONBETWEENREFUELS">
            <meta attribute="description">The amount of time expected to pass between machines of this class being refuelled.</meta>
            <meta attribute="unitType">duration</meta>
            <meta attribute="alias" inherit="false">expectedDuratnBtnRefuels</meta>
            <type name="quantity">
                <param name="unitType">duration</param>
            </type>
        </property>

        <property name="useDynamicFuelBurnRate" type="boolean" column="USEDYNAMICFUELBURNRATE" not-null="true">
            <meta attribute="description">Set if dynamic updating of working burn rate is required.</meta>
            <meta attribute="defaultValue">false</meta>
        </property>

        <property name="fuelBurnAlgorithm" type="minestar.pitlink.domain.machine.FuelBurnAlgorithm$UserType" column="FUELBURNALGORITHM" not-null="true">
            <meta attribute="description">The method used to calculate quantity of fuel burnt by this machine.</meta>
        </property>

        <property name="idleFuelBurnRate" column="IDLEFUELBURNRATE">
            <meta attribute="description">The hourly rate at which trucks of this class consume fuel while idling.</meta>
            <meta attribute="unitType">fuel burn per time</meta>
            <type name="quantity">
                <param name="unitType">fuel burn per time</param>
            </type>
        </property>

        <property name="workingFuelBurnRate" column="WORKINGFUELBURNRATE">
            <meta attribute="description">The hourly rate at which trucks of this class consume fuel while working.</meta>
            <meta attribute="unitType">fuel burn per time</meta>
            <type name="quantity">
                <param name="unitType">fuel burn per time</param>
            </type>
        </property>

        <property name="ignoreVimsFuelSensor" type="boolean" column="IGNORE_VIMS_FUEL_SENSOR" not-null="true">
            <meta attribute="defaultValue">false</meta>
        </property>

        <property name="layerUpdateVersion" type="long">
            <meta attribute="description">The layer update version when the fuel or lube type was created/modified.</meta>
            <column name="LAYER_UPDATE_VERSION" not-null="true" default="0"/>
        </property>

        <property name="useDieselExhaustFluid" type="boolean">
            <meta attribute="defaultValue">false</meta>
            <column name="USE_DIESEL_EXHAUST_FLUID" not-null="true" default="0"/>
        </property>

        <property name="dieselExhaustFluidCapacity" column="DIESEL_EXHAUST_FLUID_CAPACITY">
            <meta attribute="description">The diesel exhaust fluid capacity for all machines of this class.</meta>
            <meta attribute="unitType">liquid volume</meta>
            <type name="quantity">
                <param name="unitType">liquid volume</param>
            </type>
        </property>

        <property name="warningDefLevel" column="WARNING_DEF_LEVEL">
            <meta attribute="unitType">liquid volume</meta>
            <type name="quantity">
                <param name="unitType">liquid volume</param>
            </type>
        </property>

        <property name="criticalDefLevel" column="CRITICAL_DEF_LEVEL">
            <meta attribute="unitType">liquid volume</meta>
            <type name="quantity">
                <param name="unitType">liquid volume</param>
            </type>
        </property>

        <property name="crusher" type="boolean">
            <meta attribute="defaultValue">false</meta>
            <column name="IS_CRUSHER" not-null="true" default="0"/>
        </property>

        <property name="hasRockBreaker" type="boolean">
            <meta attribute="defaultValue">false</meta>
            <column name="HAS_ROCK_BREAKER" not-null="true" default="0"/>
        </property>

        <map name="activityFuelBurnRates" table="MACHINE_CLASS_FUEL_BURN" fetch="select" batch-size="100">
            <meta attribute="alias">FUELBURNRATES</meta>

            <meta attribute="description">The rate at which machines of this class burn fuel while engaged in various activities.</meta>
            <meta attribute="element-unitType">fuel burn per time</meta>
            <cache usage="read-write" region="model"/>

            <key column="OID" not-null="true"/>
            <index-many-to-many class="minestar.production.domain.ActivityReference" column="ACTIVITY_OID"/>
            <element column="RATE" not-null="true">
                <type name="quantity">
                    <param name="unitType">fuel burn per time</param>
                </type>
            </element>
        </map>

        <many-to-one name="autoStopDelayTypeRef"
                     class="minestar.production.domain.DelayClassReference"
                     column="AUTO_STOP_DELAY_TYPE"
                     lazy="false">
            <meta attribute="alias">autoStopDelayType</meta>
            <meta attribute="description">The delay type to put machines of this class on when they have stopped.</meta>
        </many-to-one>

        <many-to-one
            name="classCategoryRef"
            class="minestar.pitlink.domain.machine.MachineCategoryReference"
            column="CATEGORY"
            cascade="none"
            not-null="true"
            >
            <meta attribute="alias">classCategory</meta>
            <meta attribute="description"> The MachineCategory that the machine class is associated with.</meta>
        </many-to-one>

        <component name="onboardHardwareInfo" class="minestar.pitlink.domain.machine.OnboardHardwareTemplate">

            <meta attribute="description">This machine class's onboard hardware.</meta>
            <meta attribute="export-nested">true</meta>
            <meta attribute="alias" inherit="false">onboard</meta>

            <property name="onboardPlatformCode" column="ONBOARD_PLATFORM_ID" type="int" not-null="true">
                <meta attribute="choices" inherit="false">onboard:platforms</meta>
                <meta attribute="viewchoices" inherit="false">choice:eqmtOnboardPlatform</meta>
                <meta attribute="alias">platform</meta>
                <meta attribute="description">This specifies the onboard platform ID. For example, 0 stands for TOPE on CD550</meta>
            </property>

            <property name="configurationName" column="CONFIGURATION_NAME" type="string" length="254">
                <meta attribute="choices" inherit="false">choice:eqmtOnboardConfigName</meta>
                <meta attribute="alias">configurationName</meta>
                <meta attribute="description">This specifies the equipment configuration name. For example, Motor grader</meta>
            </property>

            <property name="operatorInterface" column="OPERATOR_INTERFACE" type="int" not-null="true">
                <meta attribute="choices" inherit="false">choice:eqmtOperatorInterface</meta>
                <meta attribute="viewchoices" inherit="false">choice:eqmtOperatorInterface</meta>
                <meta attribute="alias">operatorInterface</meta>
            </property>

            <property name="cameras" column="CAMERAS" type="boolean" not-null="true">
                <meta attribute="alias">cameras</meta>
            </property>

            <property name="camerasAndRadar" column="CAMERAS_AND_RADAR" type="boolean" not-null="true">
                <meta attribute="alias">camerasAndRadar</meta>
            </property>

            <property name="proximityAwareness" column="PROXIMITY_AWARENESS" type="boolean" not-null="true">
                <meta attribute="alias">proximityAwareness</meta>
            </property>

            <property name="customConfiguration" column="CUSTOM_CONFIGURATION" type="string" length="254">
                <meta attribute="alias">customConfiguration</meta>
            </property>
        </component>

        <property name="healthPlatform" type="int" column="HEALTH_PLATFORM" not-null="true">
            <meta attribute="choices" inherit="false">choice:eqmthealthPlatform</meta>
            <meta attribute="viewchoices" inherit="false">choice:eqmthealthPlatform</meta>
        </property>

        <!-- associations -->

        <set name="capabilities" table="MACHINE_CLASS_CAPABILITY" fetch="select" batch-size="100">
            <meta attribute="description">The set of capabilities this machine class has.</meta>
            <meta attribute="choices" inherit="false">choice:machineCapabilities</meta>

            <cache usage="read-write" region="model"/>

            <key column="OID" not-null="true"/>
            <element type="int" column="CAPABILITY_ID" not-null="true"/>
        </set>

        <set name="materials" table="MACHINE_CLASS_MATERIAL" fetch="select" batch-size="100">
            <meta attribute="description">All materials that machines of this class are allowed to work with.</meta>
            <meta attribute="export-marshall-included-config"/>
            <meta attribute="view-reference">minestar.machinetracking.domain.MaterialImpl</meta>

            <cache usage="read-write" region="model"/>

            <key column="OID" not-null="true"/>
            <many-to-many class="minestar.machinetracking.domain.MaterialReference" column="MATERIAL_OID"/>
        </set>

        <!-- subclasses -->
        <subclass name="minestar.pitlink.domain.machine.FixedPlantClassImpl"
            discriminator-value="XAEntity.MachineClass.FixedPlantClass">
            <meta attribute="description">
                A grouping mechanism for fixed plant to provide base level feature and attribute specification.
            </meta>

            <subclass name="minestar.pitlink.domain.machine.AStopTestStationClassImpl"
                discriminator-value="XAEntity.MachineClass.FixedPlantClass.AStopTestStationClassImpl">
                    <meta attribute="description">
                        A grouping mechanism for A-Stop test stations.
                    </meta>
            </subclass>

            <subclass name="minestar.pitlink.domain.machine.ConveyorClassImpl"
                      discriminator-value="XAEntity.MachineClass.FixedPlantClass.ConveyorClass">
                <meta attribute="description">
                    A grouping mechanism for conveyors in underground block cave mines.
                </meta>
            </subclass>

            <subclass name="minestar.pitlink.domain.machine.CommandProxyClassImpl"
                      discriminator-value="XAEntity.MachineClass.FixedPlantClass.CommandProxyClass">
                <meta attribute="description">
                    A grouping mechanism for servers listening to Command for Underground systems.
                </meta>
            </subclass>

            <subclass name="minestar.pitlink.domain.machine.RockBreakerClassImpl"
                      discriminator-value="XAEntity.MachineClass.FixedPlantClass.RockBreakerClass">
                <meta attribute="description">
                    A grouping mechanism for rock breakers in underground block cave mines.
                </meta>
            </subclass>

            <subclass name="minestar.pitlink.domain.machine.EntryClassImpl"
                      discriminator-value="XAEntity.MachineClass.FixedPlantClass.BarrierClass">
                <meta attribute="description">
                    A grouping mechanism for barriers in underground block cave mines.
                </meta>
            </subclass>

            <subclass name="minestar.pitlink.domain.machine.FixedProcessorClassImpl"
                discriminator-value="XAEntity.MachineClass.FixedPlantClass.ProcessorClass">
                <meta attribute="description">
                    A grouping mechanism for processors to provide base level feature and attribute specification.
                </meta>
            </subclass>

            <subclass name="minestar.pitlink.domain.machine.FuelBayClassImpl"
                discriminator-value="XAEntity.MachineClass.FixedPlantClass.FuelBayClass">
                <meta attribute="description">
                    A grouping mechanism for fuel bays to provide base level feature and attribute specification.
                </meta>
            </subclass>

            <subclass name="minestar.pitlink.domain.machine.AutonomousWaterRefillStationClassImpl"
                      discriminator-value="XAEntity.MachineClass.FixedPlantClass.AutonomousWaterRefillStationClass">
                <meta attribute="description">
                    A grouping mechanism for autonomous water refill station to provide base level feature and attribute
                    specification.
                </meta>
            </subclass>

            <subclass name="minestar.pitlink.domain.machine.LayoverClassImpl"
                      discriminator-value="XAEntity.MachineClass.FixedPlantClass.LayoverClass">
                <meta attribute="description">
                    A grouping mechanism for layover to provide base level feature and attribute
                    specification.
                </meta>
            </subclass>

            <subclass name="minestar.pitlink.domain.machine.MaterialServiceClassImpl"
                      discriminator-value="XAEntity.MachineClass.FixedPlantClass.MaterialServiceClass">
                <meta attribute="description">
                    A grouping mechanism for machines that provide material-related services like lime silos.
                </meta>

                <set name="allowedTruckClasses" table="LOADABLE_TRUCK_CLASS" fetch="select" batch-size="100">
                    <meta attribute="description">A set of truck classes that can go to material services of this class</meta>
                    <meta attribute="export-marshall-included-config"/>
                    <meta attribute="view-reference">minestar.pitlink.domain.machine.MachineClassImpl</meta>
                    <cache usage="read-write" region="model"/>

                    <key column="OID" not-null="true"/>
                    <many-to-many class="minestar.pitlink.domain.machine.MachineClassReference" column="TRUCK_CLASS_OID"/>
                </set>

                <map name="serviceTimes" table="MACHINE_CLASS_LOAD_TIME" fetch="select" batch-size="100">
                    <meta attribute="description">An association of the time taken to perform a material-related service on each truck class.</meta>
                    <meta attribute="index-alias">TruckClass</meta>
                    <meta attribute="element-unitType">duration</meta>
                    <meta attribute="export-marshall-included-config"/>
                    <meta attribute="view-reference">minestar.pitlink.domain.machine.MachineClassImpl</meta>
                    <cache usage="read-write" region="model"/>

                    <key column="OID" not-null="true"/>
                    <index-many-to-many class="minestar.pitlink.domain.machine.MachineClassReference"  column="TRUCK_CLASS_OID"/>
                    <element column="LOADING_TIME" not-null="true">
                        <type name="quantity">
                            <param name="unitType">duration</param>
                        </type>
                    </element>
                </map>

                <map name="spottingTimes" table="MACHINE_CLASS_SPOT_TIME" fetch="select" batch-size="100">
                    <meta attribute="description">An association of the time taken to spot for each truck class.</meta>
                    <meta attribute="index-alias">TruckClass</meta>
                    <meta attribute="element-unitType">duration</meta>
                    <meta attribute="export-marshall-included-config"/>
                    <cache usage="read-write" region="model"/>

                    <key column="OID" not-null="true"/>
                    <index-many-to-many class="minestar.pitlink.domain.machine.MachineClassReference"  column="TRUCK_CLASS_OID"/>
                    <element column="SPOTTING_TIME" not-null="true">
                        <type name="quantity">
                            <param name="unitType">duration</param>
                        </type>
                    </element>
                </map>

            </subclass>

            <subclass name="minestar.pitlink.domain.machine.PayloadServiceClassImpl"
                      discriminator-value="XAEntity.MachineClass.FixedPlantClass.PayloadServiceClass">
                <meta attribute="description">
                    A grouping mechanism for scales to provide base level feature and attribute specification.
                </meta>
            </subclass>

            <subclass name="minestar.pitlink.domain.machine.InfrastructureClassImpl"
                discriminator-value="XAEntity.MachineClass.FixedPlantClass.InfrastructureClass">
                <meta attribute="description">
                    A grouping mechanism for infrastructure to provide base level feature and attribute specification.
                </meta>

                <subclass name="minestar.pitlink.domain.machine.PerceptionTargetClassImpl"
                          discriminator-value="XAEntity.MachineClass.PerceptionTargetClass">
                    <meta attribute="description">A grouping mechanism for Perception Targets to provide base level feature and attribute specification.</meta>

                    <subclass name="minestar.pitlink.domain.machine.PerceptionBasedLocalizationTargetClassImpl"
                              discriminator-value="XAEntity.MachineClass.PerceptionTargetClass.PerceptionBasedLocalizationTargetClass">
                        <meta attribute="description">A grouping mechanism for Perception Based Localization Targets.</meta>
                    </subclass>

                    <subclass name="minestar.pitlink.domain.machine.PerceptionCalibrationVerificationTargetClassImpl"
                              discriminator-value="XAEntity.MachineClass.PerceptionTargetClass.PerceptionCalibrationVerificationTargetClass">
                        <meta attribute="description">A grouping mechanism for Perception Calibration Verification Targets.</meta>
                    </subclass>

                    <subclass name="minestar.pitlink.domain.machine.AutomaticObjectDetectionVerificationTargetClassImpl"
                              discriminator-value="XAEntity.MachineClass.PerceptionTargetClass.AutomaticObjectDetectionVerificationTargetClass">
                        <meta attribute="description">A grouping mechanism for Automatic Object Detection Verification Targets.</meta>
                    </subclass>

                </subclass>
                <subclass name="minestar.pitlink.domain.machine.PseudoliteClassImpl"
                          discriminator-value="XAEntity.MachineClass.FixedPlantClass.InfrastructureClass.PseudoliteClass">
                    <meta attribute="description">
                        A grouping mechanism for pseudolite equipment to provide base level feature and attribute
                        specification.
                    </meta>
                </subclass>
            </subclass>
        </subclass>

        <subclass name="minestar.pitlink.domain.machine.AuxiliaryClassImpl">
            <meta attribute="description">
                A grouping mechanism for auxiliary equipment to provide base level feature and attribute specification.
            </meta>

            <subclass name="minestar.pitlink.domain.machine.AuxMobileClassImpl"
                discriminator-value="XAEntity.MachineClass.AuxiliaryClass.AuxMobileClass">
                <meta attribute="description">
                    A grouping mechanism for mobile auxiliary equipment to provide base level feature and attribute specification.
                </meta>

                <property name="canBeTowed" type="boolean" column="CANBETOWED">
                    <meta attribute="description">When true this machine can be towed to a new location.</meta>
                </property>

                <property name="infrastructure" type="boolean" column="INFRASTRUCTURE">
                    <meta attribute="description">When true this machine is considered part of the infrastructure.</meta>
                </property>

                <subclass name="minestar.pitlink.domain.machine.WaterTruckClassImpl"
                    discriminator-value="XAEntity.MachineClass.AuxiliaryClass.AuxMobileClass.WaterTruckClass">
                    <meta attribute="description">
                        A grouping mechanism for mobile water trucks to provide base level feature and attribute specification.
                    </meta>

                    <map name="efhGradeSpecs" table="EFH_GRADE_SPEC" cascade="all" fetch="select" batch-size="100">
                        <meta attribute="description">The effective flat haul spec for this truck class.</meta>
                        <meta attribute="index-alias">efhGrade</meta>
                        <meta attribute="element-alias"/>
                        <meta attribute="export-nested">true</meta>

                        <cache usage="read-write" region="model"/>

                        <key column="TRUCK_CLASS_OID" not-null="true"/>
                        <index type="int" column="EFH_GRADE"/>
                        <composite-element class="minestar.pitlink.domain.machine.EfhGradeSpec">
                            <property name="loadedEfh" column="EFH_LOADED">
                                <meta attribute="unitType">unitless</meta>
                                <type name="quantity">
                                    <param name="unitType">unitless</param>
                                </type>
                            </property>
                            <property name="emptyEfh" column="EFH_EMPTY">
                                <meta attribute="unitType">unitless</meta>
                                <type name="quantity">
                                    <param name="unitType">unitless</param>
                                </type>
                            </property>
                        </composite-element>
                    </map>

                    <property name="bodyWeight" column="BODYWEIGHT">
                        <meta attribute="description">The body weight value for the truck class.</meta>
                        <meta attribute="unitType">mass</meta>
                        <type name="quantity">
                            <param name="unitType">mass</param>
                        </type>
                    </property>

                    <property name="chassisWeight" column="CHASSISWEIGHT">
                        <meta attribute="description">The chassis weight for the truck class.</meta>
                        <meta attribute="unitType">mass</meta>
                        <type name="quantity">
                            <param name="unitType">mass</param>
                        </type>
                    </property>

                    <property name="grossVehicleWeight" column="GROSSVEHICLEWEIGHT">
                        <meta attribute="description">The gross vehicle weight value for the truck class.</meta>
                        <meta attribute="unitType">mass</meta>
                        <type name="quantity">
                            <param name="unitType">mass</param>
                        </type>
                    </property>

                    <property name="wheelBase" column="WHEELBASE">
                        <meta attribute="description">The wheel base value for the truck class.</meta>
                        <meta attribute="unitType">length</meta>
                        <type name="quantity">
                            <param name="unitType">length</param>
                        </type>
                    </property>

                    <property name="pathPlanningVehicleConfig" type="java.lang.String" column="PATHPLAN_VEHICLE_CONFIG" not-null="false">
                        <meta attribute="description">Config name of this truck class for path planning</meta>
                    </property>

                    <property name="pathPlanningAdditionalWidth" column="PATHPLAN_ADDL_WIDTH">
                        <meta attribute="description">Width to add to the default width of the vehicle configuration to cater for different sized trays</meta>
                        <meta attribute="unitType">length</meta>
                        <type name="quantity">
                            <param name="unitType">length</param>
                        </type>
                    </property>

                    <property name="additionalNarrowAreaTemplateWidth" column="ADDL_NARROW_AREA_TEMPLATE_WIDTH">
                        <meta attribute="description">Width to increases the cusp length in narrow area planning template lanes</meta>
                        <meta attribute="unitType">length</meta>
                        <type name="quantity">
                            <param name="unitType">length</param>
                        </type>
                    </property>

                    <join table="WDS_DETAILS" optional="true">
                        <key column="OID" not-null="true"/>

                        <component name="wdsDetails" class="minestar.pitlink.domain.machine.WDSDetails">
                            <meta attribute="description">The water trucks water distribution system details.</meta>
                            <meta attribute="alias" inherit="false">wdsDetails</meta>
                            <meta attribute="export-nested">true</meta>
                            <meta attribute="view-ignore">true</meta>

                            <property name="tankCapacity" column="TANK_CAPACITY">
                                <meta attribute="description">The water trucks tank capacity</meta>
                                <meta attribute="alias">tankCapacity</meta>
                                <meta attribute="unitType">liquid volume</meta>
                                <type name="quantity">
                                    <param name="unitType">liquid volume</param>
                                    <param name="nullable">true</param>
                                </type>
                            </property>

                            <property name="minimumLevelRise" column="MINIMUM_LEVEL_RISE">
                                <meta attribute="description">The minimum water tank level increase that is discernible by the water tank sensor</meta>
                                <meta attribute="alias">minimumLevelRise</meta>
                                <meta attribute="unitType">ratio</meta>
                                <type name="quantity">
                                    <param name="unitType">ratio</param>
                                    <param name="nullable">true</param>
                                </type>
                            </property>

                            <property name="tankFullThreshold" column="TANK_FULL_THRESHOLD">
                                <meta attribute="description">The water trucks tank full percentage indicator</meta>
                                <meta attribute="alias">tankFullThreshold</meta>
                                <meta attribute="unitType">ratio</meta>
                                <meta attribute="defaultValue">0</meta>
                                <type name="quantity">
                                    <param name="unitType">ratio</param>
                                    <param name="nullable">true</param>
                                </type>
                            </property>

                            <property name="tankEmptyThreshold" column="TANK_EMPTY_THRESHOLD">
                                <meta attribute="description">The water trucks tank empty percentage indicator</meta>
                                <meta attribute="alias">tankEmptyThreshold</meta>
                                <meta attribute="unitType">ratio</meta>
                                <type name="quantity">
                                    <param name="unitType">ratio</param>
                                    <param name="nullable">true</param>
                                </type>
                            </property>

                            <property name="tankRefillThresholdOpportunistic" column="TANK_REFILL_THRESHOLD_OPPORT">
                                <meta attribute="description">The threshold at which the water truck will consider an opportunistic refill</meta>
                                <meta attribute="alias">tankRefillThresholdOpportunistic</meta>
                                <meta attribute="unitType">ratio</meta>
                                <type name="quantity">
                                    <param name="unitType">ratio</param>
                                    <param name="nullable">true</param>
                                </type>
                            </property>

                            <property name="tankRefillThresholdRequired" column="TANK_REFILL_THRESHOLD_REQUIRED">
                                <meta attribute="description">The threshold at which the water truck will require a refill</meta>
                                <meta attribute="alias">tankRefillThresholdRequired</meta>
                                <meta attribute="unitType">ratio</meta>
                                <type name="quantity">
                                    <param name="unitType">ratio</param>
                                    <param name="nullable">true</param>
                                </type>
                            </property>

                            <property name="tankRefuelThreshold" column="TANK_REFUEL_THRESHOLD">
                                <meta attribute="description">The threshold at which the water truck will require refuelling</meta>
                                <meta attribute="alias">tankRefuelThreshold</meta>
                                <meta attribute="unitType">ratio</meta>
                                <type name="quantity">
                                    <param name="unitType">ratio</param>
                                    <param name="nullable">true</param>
                                </type>
                            </property>

                            <property name="minimumSpreadRate" column="MINIMUM_SPREAD_RATE">
                                <meta attribute="description">The water trucks minimum possible spread rate in l/m^2</meta>
                                <meta attribute="alias">minimumSpreadRate</meta>
                                <meta attribute="unitType">liquid to area ratio</meta>
                                <type name="quantity">
                                    <param name="unitType">liquid to area ratio</param>
                                    <param name="nullable">true</param>
                                </type>
                            </property>

                            <property name="maximumSpreadRate" column="MAXIMUM_SPREAD_RATE">
                                <meta attribute="description">The water trucks maximum possible spread rate in l/m^2</meta>
                                <meta attribute="alias">maximumSpreadRate</meta>
                                <meta attribute="unitType">liquid to area ratio</meta>
                                <type name="quantity">
                                    <param name="unitType">liquid to area ratio</param>
                                    <param name="nullable">true</param>
                                </type>
                            </property>

                            <property name="minimumFlowRate" column="MINIMUM_FLOW_RATE">
                                <meta attribute="description">The water trucks minimum water flow rate in l/min</meta>
                                <meta attribute="alias">minimumFlowRate</meta>
                                <meta attribute="unitType">flow</meta>
                                <type name="quantity">
                                    <param name="unitType">flow</param>
                                    <param name="nullable">true</param>
                                </type>
                            </property>

                            <property name="maximumFlowRate" column="MAXIMUM_FLOW_RATE">
                                <meta attribute="description">The water trucks maximum water flow rate in l/min</meta>
                                <meta attribute="alias">maximumFlowRate</meta>
                                <meta attribute="unitType">flow</meta>
                                <type name="quantity">
                                    <param name="unitType">flow</param>
                                    <param name="nullable">true</param>
                                </type>
                            </property>

                            <property name="rearSprayHeadCount" column="REAR_SPRAY_HEAD_COUNT" type="int" not-null="true">
                                <meta attribute="description">The number of available rear spray heads</meta>
                                <meta attribute="alias">rearSprayHeadCount</meta>
                            </property>

                            <property name="leftSprayHeadCount" column="LEFT_SPRAY_HEAD_COUNT" type="int" not-null="true">
                                <meta attribute="description">The number of available left side spray heads</meta>
                                <meta attribute="alias">leftSprayHeadCount</meta>
                            </property>

                            <property name="rightSprayHeadCount" column="RIGHT_SPRAY_HEAD_COUNT" type="int" not-null="true">
                                <meta attribute="description">The number of available right side spray heads</meta>
                                <meta attribute="alias">rightSprayHeadCount</meta>
                            </property>

                            <set name="wdsSprayHeads" table="WDS_SPRAY_HEADS" sort="natural" cascade="all-delete-orphan">
                                <meta attribute="collection-primary-key">
                                    name=WDS_SPRAY_HEAD_PK
                                    columns=MACHINE_CLASS_OID,SPRAY_HEAD_ID
                                </meta>
                                <meta attribute="description">A list of assigned watering spray heads.</meta>

                                <key>
                                    <column name="MACHINE_CLASS_OID" not-null="true" />
                                </key>

                                <composite-element class="minestar.pitlink.domain.machine.WDSSprayHead">
                                    <property name="sprayHeadId" column="SPRAY_HEAD_ID" not-null="true" type="int">
                                        <meta attribute="description">The spray head identifier</meta>
                                        <meta attribute="alias">sprayHeadId</meta>
                                    </property>

                                    <property name="displayId" column="DISPLAY_ID" not-null="true" type="string">
                                        <meta attribute="description">The spray head UI display identifier</meta>
                                        <meta attribute="alias">displayId</meta>
                                    </property>

                                    <property name="sprayHeadName" column="SPRAY_HEAD_NAME" type="string">
                                        <meta attribute="description">The spray head descriptive name</meta>
                                        <meta attribute="alias">sprayHeadName</meta>
                                    </property>

                                    <property name="sprayHeadGroups" type="minestar.pitlink.domain.machine.SprayHeadGroupSetUserType" column="SPRAY_HEAD_GROUPS" length="255">
                                        <meta attribute="description">The spray head groups that contain this spray head</meta>
                                        <meta attribute="alias">sprayHeadGroups</meta>
                                    </property>
                                </composite-element>
                            </set>
                        </component>
                    </join>
                </subclass>
            </subclass>

            <subclass name="minestar.pitlink.domain.machine.AuxFixedPlantClass"
                discriminator-value="XAEntity.MachineClass.AuxiliaryClass.AuxFixedPlantClass">
                <meta attribute="description">
                    A grouping mechanism for fixed plant auxiliary equipment to provide base level feature and attribute specification.
                </meta>
            </subclass>
        </subclass>

        <subclass name="minestar.pitlink.domain.machine.MobileClassImpl"
            discriminator-value="XAEntity.MachineClass.MobileClass">
            <meta attribute="description">
                A grouping mechanism for mobile equipment to provide base level feature and attribute specification.
            </meta>

            <property name="maximumSpeed" column="MAXIMUMSPEED">
                <meta attribute="description">The maximum speed for all machines of this class.</meta>
                <meta attribute="unitType">speed</meta>
                <type name="quantity">
                    <param name="unitType">speed</param>
                </type>
            </property>

            <subclass name="minestar.pitlink.domain.machine.TruckClassImpl"
                discriminator-value="XAEntity.MachineClass.MobileClass.TruckClass">
                <meta attribute="description">
                    A grouping mechanism for trucks to provide base level feature and attribute specification.
                </meta>

                <property name="bodyWeight" column="BODYWEIGHT">
                    <meta attribute="description">The body weight value for the truck class.</meta>
                    <meta attribute="unitType">mass</meta>
                    <type name="quantity">
                        <param name="unitType">mass</param>
                    </type>
                </property>

                <property name="chassisWeight" column="CHASSISWEIGHT">
                    <meta attribute="description">The chassis weight for the truck class.</meta>
                    <meta attribute="unitType">mass</meta>
                    <type name="quantity">
                        <param name="unitType">mass</param>
                    </type>
                </property>

                <property name="dumpHeight" column="DUMPHEIGHT">
                    <meta attribute="description">The dump height value for the truck class.</meta>
                    <meta attribute="unitType">length</meta>
                    <type name="quantity">
                        <param name="unitType">length</param>
                    </type>
                </property>

                <property name="frontDistributionEmpty" column="FRONTDISTRIBUTIONEMPTY">
                    <meta attribute="description">The front distribution empty value for the truck class.</meta>
                    <meta attribute="unitType">ratio</meta>
                    <type name="quantity">
                        <param name="unitType">ratio</param>
                    </type>
                </property>

                <property name="frontDistributionLoaded" column="FRONTDISTRIBUTIONLOADED">
                    <meta attribute="description">The front distribution loaded value for the truck class.</meta>
                    <meta attribute="unitType">ratio</meta>
                    <type name="quantity">
                        <param name="unitType">ratio</param>
                    </type>
                </property>

                <property name="frontTyreTread" column="FRONTTYRETREAD">
                    <meta attribute="description">The front tyre tread value for the truck class.</meta>
                    <meta attribute="unitType">length</meta>
                    <type name="quantity">
                        <param name="unitType">length</param>
                    </type>
                </property>

                <property name="grossVehicleWeight" column="GROSSVEHICLEWEIGHT">
                    <meta attribute="description">The gross vehicle weight value for the truck class.</meta>
                    <meta attribute="unitType">mass</meta>
                    <type name="quantity">
                        <param name="unitType">mass</param>
                    </type>
                </property>

                <property name="heapedCapacity" column="HEAPEDCAPACITY">
                    <meta attribute="description">The heaped capacity value for the truck class.</meta>
                    <meta attribute="unitType">volume</meta>
                    <type name="quantity">
                        <param name="unitType">volume</param>
                    </type>
                </property>

                <property name="heightToRockGuardRail" column="HEIGHTTOCANOPYROCKGUARDRAIL">
                    <meta attribute="description">The height to canopy rock guard rail for the truck class.</meta>
                    <meta attribute="unitType">length</meta>
                    <type name="quantity">
                        <param name="unitType">length</param>
                    </type>
                </property>

                <property name="loadingHeight" column="LOADINGHEIGHT">
                    <meta attribute="description">The loading height value for the truck class.</meta>
                    <meta attribute="unitType">length</meta>
                    <type name="quantity">
                        <param name="unitType">length</param>
                    </type>
                </property>

                <property name="maxPayload" column="MAXPAYLOAD">
                    <meta attribute="description">The maximum payload for all trucks of this class.</meta>
                    <meta attribute="unitType">mass</meta>
                    <type name="quantity">
                        <param name="unitType">mass</param>
                    </type>
                </property>

                <property name="maxSpeedLoaded" column="MAXSPEEDLOADED">
                    <meta attribute="description">The maximum speed when loaded value for the truck class.</meta>
                    <meta attribute="unitType">speed</meta>
                    <type name="quantity">
                        <param name="unitType">speed</param>
                    </type>
                </property>

                <property name="nominalPayload" column="NOMINALPAYLOAD">
                    <meta attribute="description">The nominal payload map for the truck class.</meta>
                    <meta attribute="unitType">mass</meta>
                    <type name="quantity">
                        <param name="unitType">mass</param>
                    </type>
                </property>

                <property name="overLoad" column="OVERLOAD">
                    <meta attribute="description">The over loaded value for the truck class.</meta>
                    <meta attribute="unitType">mass</meta>
                    <type name="quantity">
                        <param name="unitType">mass</param>
                    </type>
                </property>

                <property name="payloadAccuracy" column="PAYLOADACCURACY">
                    <meta attribute="description">The payload accuracy value for the truck class.</meta>
                    <meta attribute="unitType">ratio</meta>
                    <type name="quantity">
                        <param name="unitType">ratio</param>
                    </type>
                </property>

                <property name="payloadWithStdLinWeight" column="PAYLOADWITHSTDLINEARWEIGHT">
                    <meta attribute="description">The payload with standard linear weight value for the truck class.</meta>
                    <meta attribute="unitType">mass</meta>
                    <type name="quantity">
                        <param name="unitType">mass</param>
                    </type>
                </property>

                <property name="prodManSysMod" column="PRODMANSYSMOD">
                    <meta attribute="description">The prodManSysMod value for the truck class.</meta>
                    <meta attribute="unitType">mass</meta>
                    <type name="quantity">
                        <param name="unitType">mass</param>
                    </type>
                </property>

                <property name="rearDistributionEmpty" column="REARDISTRIBUTIONEMPTY">
                    <meta attribute="description">The rear distribution empty value for the truck class.</meta>
                    <meta attribute="unitType">ratio</meta>
                    <type name="quantity">
                        <param name="unitType">ratio</param>
                    </type>
                </property>

                <property name="rearDistributionLoaded" column="REARDISTRIBUTIONLOADED">
                    <meta attribute="description">The rear distribution loaded value for the truck class.</meta>
                    <meta attribute="unitType">ratio</meta>
                    <type name="quantity">
                        <param name="unitType">ratio</param>
                    </type>
                </property>

                <property name="standardLinearWeight" column="STANDARDLINEARWEIGHT">
                    <meta attribute="description">The standard linear weight value for the truck class.</meta>
                    <meta attribute="unitType">mass</meta>
                    <type name="quantity">
                        <param name="unitType">mass</param>
                    </type>
                </property>

                <property name="struckCapacity" column="STRUCKCAPACITY">
                    <meta attribute="description">The struck capacity value for the truck class.</meta>
                    <meta attribute="unitType">volume</meta>
                    <type name="quantity">
                        <param name="unitType">volume</param>
                    </type>
                </property>

                <property name="underLoad" column="UNDERLOAD">
                    <meta attribute="description">The under load value for the truck class.</meta>
                    <meta attribute="unitType">mass</meta>
                    <type name="quantity">
                        <param name="unitType">mass</param>
                    </type>
                </property>

                <property name="wheelBase" column="WHEELBASE">
                    <meta attribute="description">The wheel base value for the truck class.</meta>
                    <meta attribute="unitType">length</meta>
                    <type name="quantity">
                        <param name="unitType">length</param>
                    </type>
                </property>

                <property name="avgSpeedLoaded" column="AVGSPEEDLOADED">
                    <meta attribute="description">The average speed when loaded at a destination for the truck class.</meta>
                    <meta attribute="unitType">speed</meta>
                    <type name="quantity">
                        <param name="unitType">speed</param>
                    </type>
                </property>

                <property name="avgSpeedEmpty" column="AVGSPEEDEMPTY">
                    <meta attribute="description">The average speed when empty at a destination for the truck class.</meta>
                    <meta attribute="unitType">speed</meta>
                    <type name="quantity">
                        <param name="unitType">speed</param>
                    </type>
                </property>

                <property name="gradeBlockUpdatable" type="boolean" column="GRADEBLOCK_UPDATABLE">
                    <meta attribute="description">Set if want to receive gradeblock update messages for the truck class.</meta>
                </property>

                <property name="pathPlanningVehicleConfig" type="java.lang.String" column="PATHPLAN_VEHICLE_CONFIG" not-null="false">
                    <meta attribute="description">Config name of this truck class for path planning</meta>
                </property>

                <property name="pathPlanningAdditionalWidth" column="PATHPLAN_ADDL_WIDTH">
                    <meta attribute="description">Width to add to the default width of the vehicle configuration to cater for different sized trays</meta>
                    <meta attribute="unitType">length</meta>
                    <type name="quantity">
                        <param name="unitType">length</param>
                    </type>
                </property>

                <property name="additionalNarrowAreaTemplateWidth" column="ADDL_NARROW_AREA_TEMPLATE_WIDTH">
                    <meta attribute="description">Width to increases the cusp length in narrow area planning template lanes</meta>
                    <meta attribute="unitType">length</meta>
                    <type name="quantity">
                        <param name="unitType">length</param>
                    </type>
                </property>

                <property name="refuelWindow" column="REFUELWINDOW">
                    <meta attribute="description">The time allowed for this class of truck to be refueled after it reaches the refuelLevel.</meta>
                    <meta attribute="unitType">duration</meta>
                    <type name="quantity">
                        <param name="unitType">duration</param>
                    </type>
                </property>

                <property name="refuelLoadState" type="minestar.domain.model.persistence.LoadStateUserType" column="REFUELLOADSTATE">
                    <meta attribute="description">The load state that this class of truck is allowed to be assigned to a fuel bay.</meta>
                </property>

                <many-to-one name="refuelAssignDelayRef" column="REFUELASSIGNDELAY" class="minestar.production.domain.DelayClassReference">
                    <meta attribute="alias">refuelAssignDelay</meta>
                    <meta attribute="description">The delay class that this machine should start when assigned to a fuel bay.</meta>
                </many-to-one>

                <many-to-one name="refuelArriveDelayRef" column="REFUELARRIVEDELAY" class="minestar.production.domain.DelayClassReference">
                    <meta attribute="alias">refuelArriveDelay</meta>
                    <meta attribute="description">The delay class that this machine should start when arriving at a fuel bay.</meta>
                </many-to-one>

                <property name="travelEmptyFuelBurnRate" column="TRAVELEMPTYFUELBURNRATE">
                    <meta attribute="description">The distance based rate at which trucks of this class consume fuel while travelling empty.</meta>
                    <meta attribute="unitType">fuel burn per distance</meta>
                    <type name="quantity">
                        <param name="unitType">fuel burn per distance</param>
                    </type>
                </property>

                <property name="travelFullFuelBurnRate" column="TRAVELFULLFUELBURNRATE">
                    <meta attribute="description">The distance based rate at which trucks of this class consume fuel while travelling full.</meta>
                    <meta attribute="unitType">fuel burn per distance</meta>
                    <type name="quantity">
                        <param name="unitType">fuel burn per distance</param>
                    </type>
                </property>

                <property name="tkphLowestRate" column="TKPHLOWESTRATE">
                    <meta attribute="description">The maximum TKPH of the minimun rated TKPH tyre for trucks of this class.</meta>
                    <meta attribute="unitType">mass speed</meta>
                    <type name="quantity">
                        <param name="unitType">mass speed</param>
                    </type>
                </property>

                <property name="tkphMaxPercent" column="TKPHMAXPERCENT">
                    <meta attribute="description">The maximum TKPH percent for trucks of this class.</meta>
                    <meta attribute="unitType">ratio</meta>
                    <type name="quantity">
                        <param name="unitType">ratio</param>
                    </type>
                </property>

                <map name="nomPayloadMap" table="MACHINE_CLASS_NOM_PAYLOAD" fetch="select" batch-size="100">
                    <meta attribute="index-alias">material</meta>
                    <meta attribute="description">The nominal payload map for the truck class.</meta>
                    <meta attribute="element-unitType">mass</meta>
                    <meta attribute="export-marshall-included-config"/>

                    <cache usage="read-write" region="model"/>

                    <key column="OID" not-null="true"/>
                    <index-many-to-many class="minestar.machinetracking.domain.MaterialReference" column="MATERIAL_OID" />
                    <element column="PAYLOAD" not-null="true">
                        <type name="quantity">
                            <param name="unitType">mass</param>
                        </type>
                    </element>
                </map>

                <map name="efhGradeSpecs" table="EFH_GRADE_SPEC" cascade="all" fetch="select" batch-size="100">
                    <meta attribute="description">The effective flat haul spec for this truck class.</meta>
                    <meta attribute="index-alias">efhGrade</meta>
                    <meta attribute="element-alias"/>
                    <meta attribute="export-nested">true</meta>

                    <cache usage="read-write" region="model"/>

                    <key column="TRUCK_CLASS_OID" not-null="true"/>
                    <index type="int" column="EFH_GRADE"/>
                    <composite-element class="minestar.pitlink.domain.machine.EfhGradeSpec">
                        <property name="loadedEfh" column="EFH_LOADED">
                            <meta attribute="unitType">unitless</meta>
                            <type name="quantity">
                                <param name="unitType">unitless</param>
                            </type>
                        </property>
                        <property name="emptyEfh" column="EFH_EMPTY">
                            <meta attribute="unitType">unitless</meta>
                            <type name="quantity">
                                <param name="unitType">unitless</param>
                            </type>
                        </property>
                    </composite-element>
                </map>

                <list name="payloadPriorities" table="MACHINE_CLS_PAYLOAD_PRIORITIES">
                    <meta attribute="description">An list of payload source systems ordered by priority.</meta>
                    <meta attribute="index-alias">sortOrder</meta>
                    <key column="OID" not-null="true"/>
                    <list-index column="SORT_ORDER"/>
                    <element type="minestar.pitlink.domain.machine.MachinePayloadSourceSystem$UserType" column="SOURCE_SYSTEM" not-null="true"/>
                </list>

                <join table="MACHINECLASS_ENGINE" optional="true">
                    <key column="OID" not-null="true"/>

                    <component name="truckEngine" class="minestar.pitlink.domain.machine.Engine">
                        <meta attribute="description">The truck engine value for the truck class.</meta>
                        <meta attribute="alias" inherit="false">engine</meta>
                        <meta attribute="export-nested">true</meta>
                        <meta attribute="view-ignore">true</meta>

                        <property name="bore" type="float" column="BORE" not-null="true">
                            <meta attribute="description">The engine bore</meta>
                            <meta attribute="alias">bore</meta>
                        </property>

                        <property name="displacement" type="float" column="DISPLACEMENT" not-null="true">
                            <meta attribute="description">The engine displacement</meta>
                            <meta attribute="alias">displacement</meta>
                        </property>

                        <property name="flywheelPower" type="float" column="FLYWHEELPOWER" not-null="true">
                            <meta attribute="description">The flywheel power</meta>
                            <meta attribute="alias">flywheelPower</meta>
                        </property>

                        <property name="grossPower" type="float" column="GROSSPOWER" not-null="true">
                            <meta attribute="description">The engine power</meta>
                            <meta attribute="alias">grossPower</meta>
                        </property>

                        <property name="model" type="string" column="MODEL" length="254">
                            <meta attribute="description">The engine model</meta>
                            <meta attribute="alias">model</meta>
                        </property>

                        <property name="numCylinders" type="int" column="NUMCYLINDERS" not-null="true">
                            <meta attribute="description">The number of cylinders</meta>
                            <meta attribute="alias">numCyclinders</meta>
                        </property>

                        <property name="ratedRPM" type="float" column="RATEDRPM" not-null="true">
                            <meta attribute="description">The rated RPM</meta>
                            <meta attribute="alias">numRatedRpm</meta>
                        </property>

                        <property name="stroke" type="float" column="STROKE" not-null="true">
                            <meta attribute="description">The engine stroke</meta>
                            <meta attribute="alias">stroke</meta>
                        </property>
                    </component>
                </join>

            </subclass>

            <subclass name="minestar.pitlink.domain.machine.LoadingToolClassImpl"
                discriminator-value="XAEntity.MachineClass.MobileClass.LoadingToolClass">
                <meta attribute="description">
                    A grouping mechanism for loading tools to provide base level feature and attribute specification.
                </meta>

                <property name="dipperCapacity" column="DIPPERCAPACITY">
                    <meta attribute="description">The volume of the dipper for all machines of this class.</meta>
                    <meta attribute="unitType">volume</meta>
                    <type name="quantity">
                        <param name="unitType">volume</param>
                    </type>
                </property>

                <property name="dipperLoadCapacity" column="DIPPERLOADCAPACITY">
                    <meta attribute="description">The volume of the dipper for all machines of this class.</meta>
                    <meta attribute="unitType">volume</meta>
                    <type name="quantity">
                        <param name="unitType">volume</param>
                    </type>
                </property>

                <property name="nominalPayload" column="NOMINALPAYLOAD">
                    <meta attribute="description">The nominal payload map for the shovel class.</meta>
                    <meta attribute="unitType">mass</meta>
                    <type name="quantity">
                        <param name="unitType">mass</param>
                    </type>
                </property>

                <property name="maxPayload" column="MAXPAYLOAD">
                    <meta attribute="description">The maximum payload for all shovel of this class.</meta>
                    <meta attribute="unitType">mass</meta>
                    <type name="quantity">
                        <param name="unitType">mass</param>
                    </type>
                </property>

                <map name="loadingTimes" table="MACHINE_CLASS_LOAD_TIME" fetch="select" batch-size="100">
                    <meta attribute="description">An association of the time taken to load each truck class.</meta>
                    <meta attribute="index-alias">TruckClass</meta>
                    <meta attribute="element-unitType">duration</meta>
                    <meta attribute="export-marshall-included-config"/>
                    <meta attribute="view-reference">minestar.pitlink.domain.machine.MachineClassImpl</meta>
                    <cache usage="read-write" region="model"/>

                    <key column="OID" not-null="true"/>
                    <index-many-to-many class="minestar.pitlink.domain.machine.MachineClassReference"  column="TRUCK_CLASS_OID"/>
                    <element column="LOADING_TIME" not-null="true">
                        <type name="quantity">
                            <param name="unitType">duration</param>
                        </type>
                    </element>
                </map>

                <map name="spottingTimes" table="MACHINE_CLASS_SPOT_TIME" fetch="select" batch-size="100">
                    <meta attribute="description">An association of the time taken to spot for each truck class.</meta>
                    <meta attribute="index-alias">TruckClass</meta>
                    <meta attribute="element-unitType">duration</meta>
                    <meta attribute="export-marshall-included-config"/>
                    <cache usage="read-write" region="model"/>

                    <key column="OID" not-null="true"/>
                    <index-many-to-many class="minestar.pitlink.domain.machine.MachineClassReference"  column="TRUCK_CLASS_OID"/>
                    <element column="SPOTTING_TIME" not-null="true">
                        <type name="quantity">
                            <param name="unitType">duration</param>
                        </type>
                    </element>
                </map>

                <set name="loadableTrucks" table="LOADABLE_TRUCK_CLASS" fetch="select" batch-size="100">
                    <meta attribute="description">A list of all loadable truck classes.</meta>
                    <meta attribute="export-marshall-included-config"/>
                    <meta attribute="view-reference">minestar.pitlink.domain.machine.MachineClassImpl</meta>
                    <cache usage="read-write" region="model"/>

                    <key column="OID" not-null="true"/>
                    <many-to-many class="minestar.pitlink.domain.machine.MachineClassReference" column="TRUCK_CLASS_OID"/>
                </set>

                <property name="useLoaderPayload" type="boolean" column="USELOADERPAYLOAD">
                    <meta attribute="defaultValue">false</meta>
                    <meta attribute="description">Specifies either to use loader payload or truck payload for cycles.</meta>
                </property>

                <list name="payloadPriorities" table="MACHINE_CLS_PAYLOAD_PRIORITIES">
                    <meta attribute="description">An list of payload source systems ordered by priority.</meta>
                    <meta attribute="index-alias">sortOrder</meta>
                    <key column="OID" not-null="true"/>
                    <list-index column="SORT_ORDER"/>
                    <element type="minestar.pitlink.domain.machine.MachinePayloadSourceSystem$UserType" column="SOURCE_SYSTEM" not-null="true"/>
                </list>

                <subclass name="minestar.pitlink.domain.machine.LoaderClassImpl"
                    discriminator-value="XAEntity.MachineClass.MobileClass.LoadingToolClass.LoaderClass">
                    <meta attribute="description">
                        A grouping mechanism for loaders to provide base level feature and attribute specification.
                    </meta>

                    <property name="lowerHCTEmpty" column="LOWERHCTEMPTY">
                        <meta attribute="description">The lower HCT empty value for the loader class.</meta>
                        <meta attribute="unitType">duration</meta>
                        <type name="quantity">
                            <param name="unitType">duration</param>
                        </type>
                    </property>

                    <property name="dumpHCTLoaded" column="DUMPHCTLOADED">
                        <meta attribute="description">The dump HCT loaded value for the loader class.</meta>
                        <meta attribute="unitType">duration</meta>
                        <type name="quantity">
                            <param name="unitType">duration</param>
                        </type>
                    </property>

                    <property name="widthOverTyres" column="WIDTHOVERTYRES">
                        <meta attribute="description">The width over tyres value for the loader class.</meta>
                        <meta attribute="unitType">length</meta>
                        <type name="quantity">
                            <param name="unitType">length</param>
                        </type>
                    </property>

                    <property name="hydraulicTankCapacity" column="HYDRAULICTANKCAPACITY">
                        <meta attribute="description">The hydraulic tank capacity value for the loader class.</meta>
                        <meta attribute="unitType">liquid volume</meta>
                        <type name="quantity">
                            <param name="unitType">liquid volume</param>
                        </type>
                    </property>

                    <property name="treadWidth" column="TREADWIDTH">
                        <meta attribute="description">The tread width value for the loader class.</meta>
                        <meta attribute="unitType">length</meta>
                        <type name="quantity">
                            <param name="unitType">length</param>
                        </type>
                    </property>

                    <property name="groundClearance" column="GROUNDCLEARANCE">
                        <meta attribute="description">The ground clearance value for the loader class.</meta>
                        <meta attribute="unitType">length</meta>
                        <type name="quantity">
                            <param name="unitType">length</param>
                        </type>
                    </property>

                    <property name="hydraulicSystemCapacity" column="HYDRAULICSYSTEMCAPACITY">
                        <meta attribute="description">The hydraulic system capacity value for the loader class.</meta>
                        <meta attribute="unitType">liquid volume</meta>
                        <type name="quantity">
                            <param name="unitType">liquid volume</param>
                        </type>
                    </property>

                    <property name="totalHCT" column="TOTALHCT">
                        <meta attribute="description">The total HCT for the loader class.</meta>
                        <meta attribute="unitType">duration</meta>
                        <type name="quantity">
                            <param name="unitType">duration</param>
                        </type>
                    </property>

                    <property name="raiseHCTLoaded" column="RAISEHCTLOADED">
                        <meta attribute="description">The raise HCT Loaded value for the loader class.</meta>
                        <meta attribute="unitType">duration</meta>
                        <type name="quantity">
                        <param name="unitType">duration</param>
                    </type>
                    </property>

                    <map name="speedForward" table="MACHINE_CLASS_FWD_SPEED" fetch="select" batch-size="100">
                        <meta attribute="description">The speed forward value for the loader class.</meta>
                        <meta attribute="index-alias">gear</meta>
                        <meta attribute="element-unitType">speed</meta>

                        <cache usage="read-write" region="model"/>

                        <key column="OID" not-null="true"/>
                        <index type="int" column="GEAR"/>
                        <element column="SPEED" not-null="true">
                            <type name="quantity">
                                <param name="unitType">speed</param>
                            </type>
                        </element>
                    </map>

                    <map name="speedReverse" table="MACHINE_CLASS_REV_SPEED" fetch="select" batch-size="100">
                        <meta attribute="description">The reverse speed value for the loader class.</meta>
                        <meta attribute="index-alias">gear</meta>
                        <meta attribute="element-unitType">speed</meta>

                        <cache usage="read-write" region="model"/>

                        <key column="OID" not-null="true"/>
                        <index type="int" column="GEAR"/>
                        <element column="SPEED" not-null="true">
                            <type name="quantity">
                                <param name="unitType">speed</param>
                            </type>
                        </element>
                    </map>

                    <join table="MACHINECLASS_ENGINE" optional="true">
                        <key column="OID" not-null="true"/>

                        <component name="loaderEngine" class="minestar.pitlink.domain.machine.Engine">
                            <meta attribute="description">The loader engine value for the loader class.</meta>
                            <meta attribute="alias" inherit="false">engine</meta>
                            <meta attribute="export-nested">true</meta>
                            <meta attribute="view-ignore">true</meta>

                            <property name="bore" type="float" column="BORE" not-null="true">
                                <meta attribute="description">The engine bore</meta>
                                <meta attribute="alias">bore</meta>
                            </property>

                            <property name="displacement" type="float" column="DISPLACEMENT" not-null="true">
                                <meta attribute="description">The engine displacement</meta>
                                <meta attribute="alias">displacement</meta>
                            </property>

                            <property name="flywheelPower" type="float" column="FLYWHEELPOWER" not-null="true">
                                <meta attribute="description">The flywheel power</meta>
                                <meta attribute="alias">flywheelPower</meta>
                            </property>

                            <property name="grossPower" type="float" column="GROSSPOWER" not-null="true">
                                <meta attribute="description">The engine power</meta>
                                <meta attribute="alias">grossPower</meta>
                            </property>

                            <property name="model" type="string" column="MODEL" length="254">
                                <meta attribute="description">The engine model</meta>
                                <meta attribute="alias">model</meta>
                            </property>

                            <property name="numCylinders" type="int" column="NUMCYLINDERS" not-null="true">
                                <meta attribute="description">The number of cylinders</meta>
                                <meta attribute="alias">numCylinders</meta>
                            </property>

                            <property name="ratedRPM" type="float" column="RATEDRPM" not-null="true">
                                <meta attribute="description">The rated RPM</meta>
                                <meta attribute="alias">ratedRpm</meta>
                            </property>

                            <property name="stroke" type="float" column="STROKE" not-null="true">
                                <meta attribute="description">The engine stroke</meta>
                                <meta attribute="alias">stroke</meta>
                            </property>
                        </component>
                    </join>

                </subclass>

                <subclass name="minestar.pitlink.domain.machine.LoadoutUnitClassImpl"
                    discriminator-value="XAEntity.MachineClass.MobileClass.LoadingToolClass.LoadoutUnitClass">
                    <meta attribute="description">
                        A grouping mechanism for loadout units to provide base level feature and attribute specification.
                    </meta>
                </subclass>

                <subclass name="minestar.pitlink.domain.machine.AutomatedLoadoutUnitClassImpl"
                          discriminator-value="XAEntity.MachineClass.MobileClass.LoadingToolClass.AutomatedLoadoutUnitClass">
                    <meta attribute="description">
                        A grouping mechanism for Automated loadout units to provide base level feature and attribute specification.
                    </meta>
                </subclass>

                <subclass name="minestar.pitlink.domain.machine.ShovelClassImpl"
                    discriminator-value="XAEntity.MachineClass.MobileClass.LoadingToolClass.ShovelClass">
                    <meta attribute="description">
                        A grouping mechanism for shovels to provide base level feature and attribute specification.
                    </meta>

                    <property name="ccwSlewLimit" column="CCWSLEWLIMIT">
                        <meta attribute="description">The CCW slew limit value for the shovel class.</meta>
                        <meta attribute="unitType">plane angle</meta>
                        <type name="quantity">
                            <param name="unitType">plane angle</param>
                        </type>
                    </property>

                    <property name="cwSlewLimit" column="CWSLEWLIMIT">
                        <meta attribute="description">The CW slew limit value for the shovel class.</meta>
                        <meta attribute="unitType">plane angle</meta>
                        <type name="quantity">
                            <param name="unitType">plane angle</param>
                        </type>
                    </property>

                    <property name="reachRadius" column="REACHRADIUS">
                        <meta attribute="description">The reach radius value for the shovel class.</meta>
                        <meta attribute="unitType">length</meta>
                        <type name="quantity">
                            <param name="unitType">length</param>
                        </type>
                    </property>

                    <property name="slewRateLoaded" column="SLEWRATELOADED">
                        <meta attribute="description">The slew rate loaded value for the shovel class.</meta>
                        <meta attribute="unitType">angular velocity</meta>
                        <type name="quantity">
                            <param name="unitType">angular velocity</param>
                        </type>
                    </property>

                    <property name="slewRateUnloaded" column="SLEWRATEUNLOADED">
                        <meta attribute="description">The slew rate unloaded value for the shovel class.</meta>
                        <meta attribute="unitType">angular velocity</meta>
                        <type name="quantity">
                            <param name="unitType">angular velocity</param>
                        </type>
                    </property>
                </subclass>

                <subclass name="minestar.pitlink.domain.machine.SurfaceMinerClassImpl"
                    discriminator-value="XAEntity.MachineClass.MobileClass.LoadingToolClass.SurfaceMinerClass">
                    <meta attribute="description">
                        A grouping mechanism for surface miner to provide base level feature and attribute specification.
                    </meta>
                </subclass>

                <subclass name="minestar.pitlink.domain.machine.ChuteClassImpl"
                          discriminator-value="XAEntity.MachineClass.FixedPlantClass.ChuteClass">
                    <!-- Note: Chute is a loading tool that is a fixed plant, and not a mobile machine. -->
                    <meta attribute="description">
                        A grouping mechanism for chutes in underground block cave mines.
                    </meta>
                </subclass>

                <subclass name="minestar.pitlink.domain.machine.LoadHaulDumpClassImpl"
                          discriminator-value="XAEntity.MachineClass.MobileClass.LoadHaulDumpClass">
                    <meta attribute="description">
                        A representation of an underground load haul dump device.
                    </meta>

                    <property name="maxArticulation" column="MAXARTICULATION">
                        <meta attribute="description">The maximum articulation angle.</meta>
                        <meta attribute="unitType">angle</meta>
                        <type name="quantity">
                            <param name="unitType">angle</param>
                        </type>
                    </property>
                </subclass>

                <subclass name="minestar.pitlink.domain.machine.LoadingBayClassImpl"
                          discriminator-value="XAEntity.MachineClass.FixedPlantClass.LoadingBayClass">
                    <meta attribute="description">
                        A grouping mechanism for loading bays in underground stope mines.
                    </meta>
                </subclass>

            </subclass>

            <subclass name="minestar.pitlink.domain.machine.MobileProcessorClassImpl"
                      discriminator-value="XAEntity.MachineClass.MobileClass.MobileProcessorClass">
                <meta attribute="description">
                    A grouping mechanism for mobile processors to provide base level feature and attribute specification.
                </meta>

                <property name="binLocationOffset" column="BIN_LOCATION_OFFSET">
                    <meta attribute="description">The offset of the processor bin from the machine position in the direction of machine heading.</meta>
                    <meta attribute="unitType">length</meta>
                    <type name="quantity">
                        <param name="unitType">length</param>
                    </type>
                </property>

            </subclass>

        </subclass>


        <subclass name="minestar.pitlink.domain.machine.SecondaryBreakageUnitClassImpl"
                  discriminator-value="XAEntity.MachineClass.MobileClass.SecondaryBreakageUnitClass">
            <meta attribute="description">
                A representation of an underground secondary breakage unit device.
            </meta>

            <property name="maxArticulation" column="MAXARTICULATION">
                <meta attribute="description">The maximum articulation angle.</meta>
                <meta attribute="unitType">angle</meta>
                <type name="quantity">
                    <param name="unitType">angle</param>
                </type>
            </property>
        </subclass>

        <subclass name="minestar.pitlink.domain.machine.BlastholeDrillClassImpl"
                  discriminator-value="XAEntity.MachineClass.BlastholeDrillClass">
            <meta attribute="description">
                A grouping mechanism for blasthole drill rigs to provide base level feature and attribute specification.
            </meta>

            <property name="engineType"
                      type="minestar.pitlink.persistence.machine.EngineTypeUserType"
                      column="ENGINE_TYPE">
                <meta attribute="description">The type of engine powering this class of drill rig (electric/diesel/etc).</meta>
            </property>

            <property name="electricCableLength" column="ELECTRIC_CABLE_LENGTH">
                <meta attribute="description">The length of electric cable normally supplied on the spool for this class of electric drill rig.</meta>
                <meta attribute="unitType">length</meta>
                <type name="quantity">
                    <param name="unitType">length</param>
                </type>
            </property>

            <property name="maxHoleDepth" column="MAX_HOLE_DEPTH">
                <meta attribute="description">The maximum hole depth this class of rig can drill.</meta>
                <meta attribute="unitType">length</meta>
                <type name="quantity">
                    <param name="unitType">length</param>
                </type>
            </property>

            <property name="autonomyCapable" type="boolean" column="AUTONOMY_CAPABLE">
                <meta attribute="description">Set if this drill rig class is capable of autonomous operation.</meta>
            </property>

            <property name="teleRemoteCapable" type="boolean" column="TELEREMOTE_CAPABLE">
                <meta attribute="description">Set if this drill rig class is capable of teleremote operation.</meta>
            </property>

            <property name="turningCircle" column="TURNING_CIRCLE">
                <meta attribute="description">The radius of the preferred minimum turning circle for this class of drill rig.</meta>
                <meta attribute="unitType">length</meta>
                <type name="quantity">
                    <param name="unitType">length</param>
                </type>
            </property>

            <property name="tramSpeed" column="TRAM_SPEED">
                <meta attribute="description">The maximum tramming speed for this class of drill rig.</meta>
                <meta attribute="unitType">speed</meta>
                <type name="quantity">
                    <param name="unitType">speed</param>
                </type>
            </property>
        </subclass>

        <subclass name="minestar.pitlink.domain.machine.DraglineClassImpl"
                  discriminator-value="XAEntity.MachineClass.DraglineClass">
            <meta attribute="description">
                A grouping mechanism for draglines to provide base level feature and attribute specification.
            </meta>
        </subclass>

        <subclass name="minestar.pitlink.domain.machine.PanelClassImpl"
                discriminator-value="XAEntity.MachineClass.PanelClass">
            <meta attribute="description">
                A grouping mechanism for panel auxiliary equipment to provide base level feature and attribute specification.
            </meta>
        </subclass>

        <subclass name="minestar.pitlink.domain.machine.TeleremoteControlClassImpl"
                  discriminator-value="XAEntity.MachineClass.TeleremoteControlClass">
            <meta attribute="description">
                A grouping mechanism for teleremote control appliances to provide base level feature and attribute specification.
            </meta>
        </subclass>

        <subclass name="minestar.pitlink.domain.machine.ExternalMachineClassImpl"
                  discriminator-value="XAEntity.MachineClass.ExternalMachineClass">
            <meta attribute="description">
                A grouping mechanism for External Machine to provide base level feature and attribute specification.
            </meta>

            <subclass name="minestar.pitlink.domain.machine.DataBridgeClassImpl"
                      discriminator-value="XAEntity.MachineClass.ExternalMachineClass.DataBridgeClass">
                <meta attribute="description">
                    A grouping mechanism for Data Bridge Machines.
                </meta>
            </subclass>
        </subclass>
    </class>

    <!-- A lightweight reference to a MachineClass -->
    <class name="minestar.pitlink.domain.machine.MachineClassReference"
           table="MACHINECLASS"
           mutable="false"
           lazy="false">

        <meta attribute="alias" inherit="false">MACHINECLASS_REFERENCE</meta>
        <meta attribute="description">A minimal reference to a machine class.</meta>
        <meta attribute="view-create-order">1</meta>
        <meta attribute="import-order">0</meta>
        <meta attribute="view-master">true</meta>

        <cache usage="read-only" region="model"/>

        <id name="OID" type="long" column="MACHINECLASS_OID"/>
        <property name="name" type="string" column="NAME" length="254" not-null="true"/>
    </class>

</hibernate-mapping>
