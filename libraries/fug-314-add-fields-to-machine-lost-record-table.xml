<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd">
    <changeSet id="49f42292-2092-42ad-bda1-9c2973fe72f1" author="MineStar" context="Underground/Underground_Management" failOnError="true">
        <preConditions onFailMessage="Ignored AddColumn for LOST_STATE to table MACHINE_LOST_RECORD as table does not exist or column already exists." onFail="MARK_RAN">
            <tableExists tableName="MACHINE_LOST_RECORD"/>
            <not>
                <columnExists tableName="MACHINE_LOST_RECORD" columnName="LOST_STATE"/>
            </not>
        </preConditions>
        <comment>FUG-314: AddColumn MACHINE_LOST_RECORD.LOST_STATE</comment>
        <addColumn tableName="MACHINE_LOST_RECORD">
            <column name="LOST_STATE" type="VARCHAR(255)" remarks="The localization state that the machine was in when it got lost."/>
        </addColumn>
        <rollback>
            <dropColumn tableName="MACHINE_LOST_RECORD" columnName="LOST_STATE"/>
        </rollback>
    </changeSet>
    <changeSet id="24d485e7-31eb-4c62-a90f-6611ec225cd3" author="MineStar" context="Underground/Underground_Management" failOnError="true">
        <preConditions onFailMessage="Ignored AddColumn for LOST_WARNING to table MACHINE_LOST_RECORD as table does not exist or column already exists." onFail="MARK_RAN">
            <tableExists tableName="MACHINE_LOST_RECORD"/>
            <not>
                <columnExists tableName="MACHINE_LOST_RECORD" columnName="LOST_WARNING"/>
            </not>
        </preConditions>
        <comment>FUG-314: AddColumn MACHINE_LOST_RECORD.LOST_WARNING</comment>
        <addColumn tableName="MACHINE_LOST_RECORD">
            <column name="LOST_WARNING" type="VARCHAR(255)" remarks="Warning information that was sent when the machine got lost."/>
        </addColumn>
        <rollback>
            <dropColumn tableName="MACHINE_LOST_RECORD" columnName="LOST_WARNING"/>
        </rollback>
    </changeSet>
</databaseChangeLog>
