# Copyright (c) 2022-2024 Caterpillar

## General ##


## Identification ##
## @mode box

# @label Site Name
_CUSTSITE = Forward Mining

# Allocated by Caterpillar to uniquely identify this system - XXX for Personal Edition.
# @label Customer Code
_CUSTCODE = XXX

# Allocated by Caterpillar to uniquely identify this system dealer - XXXX for Personal Edition.
# @label Dealer Code
_DEALERCODE = XXXX

## Localization ##
## @mode box

# @label Unit Set
# @choices units.unitSets
_UNITSET = miningSI

# @comment The 2 character language code (lowercase) from ISO 639 - see http://www.ics.uci.edu/pub/ietf/http/related/iso639.txt
# @choices choice:sysLanguage
# @label Language
_LANGUAGE = en

# @comment The 2 character country code (uppercase) from ISO 3166 - see http://www.chemie.fu-berlin.de/diverse/doc/ISO_3166.html
# @choices choice:sysCountry
# @label Country
_COUNTRY = US

# @comment Must use a forward slash, not a backslash.
# @comment @choices @com.mincom.util.calendar.TimeZones
# @choices choice:sysTimezone
# @label Time Zone
# @widget combo
# @mode entry
_TIMEZONE = Australia/Brisbane



## Services ##

# Server components and their start order
# @label
# @widget ordered
# @choices choice:sysService
_START = CommsServer,FsbServer,GeoDatabase,GeoServer,MineTracking,CommsController,ApexServer,CyclesKpiSummaries,CycleGenerator,IAssignmentServer,StandardJobExecutor,Jetty,FieldInformationService

# @label Run as Windows Services
_WINDOWS_SERVICES_ENABLED=false

# @label Windows Services Start Mode
# @choices choice:sysWinSvcStartMode
# @widget combo
_WINDOWS_SERVICES_START_MODE=Automatic

# The allowed time for the Cycles KPI summaries service to start in seconds.
# @label Cycles Kpi Summaries startup timeout
# @tags development
# @enabledWhen form.getFieldValue('_WINDOWS_SERVICES_ENABLED')==true
# @widget spinner
# @custom {setMinimum:300, setMaximum:1800}
cycleskpisummaries.wrapper.startup.timeout=900

# The allowed time for the Standard Job Executor service to start in seconds..
# @label Standard Job Executor startup timeout
# @tags development
# @enabledWhen form.getFieldValue('_WINDOWS_SERVICES_ENABLED')==true
# @widget spinner
# @custom {setMinimum:300, setMaximum:1800}
standardjobexecutor.wrapper.startup.timeout=900

# The allowed time for the Assignment Server service to start in seconds..
# @label Assignment Server startup timeout
# @tags development
# @enabledWhen form.getFieldValue('_WINDOWS_SERVICES_ENABLED')==true
# @widget spinner
# @custom {setMinimum:300, setMaximum:1800}
assignmentserver.wrapper.startup.timeout=900

# The allowed time for the Cycle Generator service to start in seconds..
# @label Cycle Generator startup timeout
# @tags development
# @enabledWhen form.getFieldValue('_WINDOWS_SERVICES_ENABLED')==true
# @widget spinner
# @custom {setMinimum:300, setMaximum:1800}
cyclegenerator.wrapper.startup.timeout=900

# The allowed time for the Comms Controller service to start in seconds..
# @label Comms Controller startup timeout
# @tags development
# @enabledWhen form.getFieldValue('_WINDOWS_SERVICES_ENABLED')==true
# @widget spinner
# @custom {setMinimum:300, setMaximum:1800}
commscontroller.wrapper.startup.timeout=900

# The allowed time for the Mine Tracking service to start in seconds..
# @label Mine Tracking startup timeout
# @tags development
# @enabledWhen form.getFieldValue('_WINDOWS_SERVICES_ENABLED')==true
# @widget spinner
# @custom {setMinimum:300, setMaximum:1800}
minetracking.wrapper.startup.timeout=900

# The allowed time for the Geo Server service to start in seconds..
# @label Geo Server startup timeout
# @tags development
# @enabledWhen form.getFieldValue('_WINDOWS_SERVICES_ENABLED')==true
# @widget spinner
# @custom {setMinimum:300, setMaximum:1800}
geoserver.wrapper.startup.timeout=900

# The allowed time for the Fsb Server service to start in seconds..
# @label Fsb Server startup timeout
# @tags development
# @enabledWhen form.getFieldValue('_WINDOWS_SERVICES_ENABLED')==true
# @widget spinner
# @custom {setMinimum:300, setMaximum:1800}
fsbserver.wrapper.startup.timeout=900

# The allowed time for the Comms Server service to start in seconds..
# @label Comms Server startup timeout
# @tags development
# @enabledWhen form.getFieldValue('_WINDOWS_SERVICES_ENABLED')==true
# @widget spinner
# @custom {setMinimum:300, setMaximum:1800}
commsserver.wrapper.startup.timeout=900

## Server ##

# The machine the Application Server is recorded as running on. Use host name or IP address. localhost and 127.0.0.1 are not allowed.
# @label Current Application Server
# @readonly true
_HOME = localhost

# The names of possible machines which may act as servers (application, database, standby).
# If set, this setting is used to prevent MineStar from being started on non-approved servers.
# @label Allowed Server Names
# @widget entrylist
# @custom {rows=4,columns=15}
_ALLOWED_SERVERS  =

# The office destination IP address used by field equipment
# @label Field IP Office Address
_FIELD_IP_OFFICE_ADDRESS = xxx.xxx.xxx.xxx

## Middleware ##
## @mode collapsed

## Remote Method Invocation ##
## @mode box

# The TCP/IP port used by the MineStar Bus
# @label Bus Port Number
MSTAR_BUS_PORT = 1098

# Should RMI be encrypted with SSL? Only available if SSL is also enabled on the Security tab.
# @label Enable RMI SSL Encryption
# @enabledWhen field('RMI_OVER_SSL')
rmi.ssl.enabled = true

# @label RMI Socket Backlog
# The size of the backlog to be used for rmi server sockets.
RMI_SOCKET_BACKLOG = 500

# RMI connections are pooled. This setting controls how long an idle connection stays in the pool before it is closed.
# @label RMI Connection Idle Timeout
# @unitdef duration
# @custom {displayUnitName=minute}
RMI_CONNECTION_IDLE_TIMEOUT = 300

## Notifications ##
## @mode box

# The TCP/IP port used by the MineStar Notification service.
# @label Notification Port Number
MSTAR_NOTIFICATION_PORT = 14444

# Should Notifications communications be encrypted?
# @label Enable Notification Encryption
notification.encryption.enabled = true

# The maximum number of megabytes in a single notification.
# @label Notification Max Notification Size
# @unitdef storage
# @custom {displayUnitName=megabyte}
notification.max.event.bytes = 52428800.0

# If a notification consumer takes less than this time to process a notification then it will be considered to be 'fast'.
# @label Fast Notification Processing Time
# @unitdef duration
# @custom {displayUnitName=second}
notification.fast.consumer.time = 0.1

# If a notification consumer takes more than this time to process a notification then it will be considered to be 'slow'.
# Performance warnings will be logged for 'slow' consumers and they will use a separate executor to the 'fast' consumers.
# @label Slow Notification Processing Time
# @unitdef duration
# @custom {displayUnitName=second}
notification.slow.consumer.time = 1.0

## Java Message Service ##
## @mode box

# The configuration for the MineStar Front-Side Bus
# @label FSB Config Directory
MSTAR_FSB_CONFIG_DIR = {MSTAR_HOME}/ext/Platform/Platform_Management/fsb/config

# The TCP/IP host used by the Front-Side Bus
#@label JMS Host Name
MSTAR_FSB_HOST = {_HOME}

# The TCP/IP port used by the Front-Side Bus
# @label JMS Port Number
MSTAR_FSB_PORT = 61618

# The minimum large message size (in bytes) used to determine if a message may be kept in memory.
# Default is 512Kb. Use range 100Kb to 1Mb (102400 to 1048576)
# @label Min Large Message Size
# @type int
FSB_MIN_LARGE_MESSAGE_SIZE = 524288

# The log level used by the Front-Side Bus.
# Values are limited to info, debug or trace
# @label Log Level
# @widget combo
# @choices {info:"info", debug:"debug", trace:"trace"}
MSTAR_FSB_LOG_LEVEL = info

## Terrain Integration ##
## @mode box

# Flag enabling/disabling Synchronization with Terrain at startup
# @label Initial Sync
# @visibleWhen false
MSTAR_INITIAL_SYNC = false

# Flag enabling/disabling Live Synchronization with Terrain
# @label Live Sync
# @visibleWhen false
MSTAR_LIVE_SYNC = false

# When this value is set to true, MineStar services will send
# updates to Terrain for new and changed mining blocks and Loading Tool bench changes.
#
# @mutable-live true
# @type boolean
# @label Load Haul Dump Terrain Synchronise
SYNC_FOR_LHD_WITH_TERRAIN = false

# The TCP/IP host used by the Terrain HornetQ broker
# @label Terrain JMS Host Name
TERRAIN_JMS_HOST = {_HOME}

# The TCP/IP port used by the Terrain HornetQ broker
# @label Terrain JMS Port Number
TERRAIN_JMS_PORT = 61618

# The TCP/IP host used by the Terrain RMI
# @label Terrain RMI Host Name
TERRAIN_RMI_HOST = {_HOME}

# The TCP/IP port for Terrain RMI services (used by MineStar)
# @label Terrain RMI Port Number
TERRAIN_RMI_PORT = 14009

# The TCP/IP port for MineStar RMI services (used by Terrain)
# @label MineStar RMI Port Number
MINESTAR_TERRAIN_RMI_PORT = 1097

# The TCP/IP host used by the Terrain GIS
# @label Terrain GIS Host Name
TERRAIN_GIS_HOST =

# The TCP/IP port used by the Terrain GIS
# @label Terrain GIS Port Number
TERRAIN_GIS_PORT = 7070

## Database ##

## Servers ##
## @mode box

# This value determines which database server is used by MineStar
# @label Active Database Role
# @choices choice:sysDbmsRole
# @widget combo
_DBROLE = PRODUCTION

# Enter the servers to be used for the standard MineStar databases. These values are used to initially set up the database
# connection settings. The selected role (above) and instance name determine which actual database server is used.
# @label
# @widget optionSelect
# @custom model="choice:sysDbmsRole", itemLabel="Database Role", optionLabel="Server", optionDefault=""
_DB_SERVER_ROLES = {}


# Default ports for Oracle:1521, SQL Server:1433, PostgreSQL:5432 when no port is specified.
# @label Port Number
# @widget dataBasePortSelect
# @custom model="choice:sysDbmsRole", itemLabel="Database Role", optionLabel="Port Number", optionDefault=""
# @processOnChange true
_DB_PORT = {}

# The type of machine hosting the database
# @label Schema Sizing
# @choices choice:sysInitialDbSize
# @type hidden
MSTAR_SCHEMA_SIZE = SERVER

## Database/Instances ##
## @mode box

# @label Database
# @choices choice:sysDbs
# @widget combo
# @processOnChange true
_INSTANCE1_TYPE = sqlserver

# @label Primary Instance
# @choices choice:sysDbmsDBInstance
# @widget combo
# @mode entry
_INSTANCE1 = MINESTAR

# @label Secondary Instance
# @choices choice:sysDbmsDBInstance
# @widget combo
# @mode entry
_INSTANCE2 = MINESTAR

# @label SQL Server Collation Type
# @choices choice:sqlDBCollationTypes
# @widget combo
# @visibleWhen field("_INSTANCE1_TYPE") == "sqlserver"
# @processOnChange true
_SQL_COLLATION_TYPE = Latin1_General_CI_AS

# @label SQL Server Containment Type
# @choices choice:sqlDBContainmentTypes
# @widget combo
# @visibleWhen field("_INSTANCE1_TYPE") == "sqlserver"
# @processOnChange true
_SQL_CONTAINMENT_TYPE = NONE

# @label SQL Server Query Timeout (seconds)
# The timeout to apply to SQL Server database operations.  This can help recover from long-running database deadlock.
# This value may need to be increased to at least 30 minutes (1800 seconds) when running makeDataStores.
# @type int
# @visibleWhen field("_INSTANCE1_TYPE") == "sqlserver"
# @processOnChange true
_SQL_SERVER_QUERY_TIMEOUT = 300

## Reporting Data Warehouse ##
## @mode box

# Enter the server to be used for the Reporting data warehouse.
# @label
# @widget optionSelect
# @custom model="choice:repDbmsRole", itemLabel="Database", optionLabel="Server", optionDefault=""
_DB_SERVER_ROLES_REPORTING = {}

# @label Data Warehouse Instance
_INSTANCE3 = MINDWH

# @label Configuration
# @widget dataSourceLogin
# @secure
_CFG = {_INSTANCE3} cfg cfg

# @label Data Virtualisation Layer
# @widget dataSourceLogin
# @secure
_DVL = {_INSTANCE3} dvl dvl

# @label Data Warehouse
# @widget dataSourceLogin
# @secure
_DWH = {_INSTANCE3} dwh dwh

# @label Data Capture Layer
# @widget dataSourceLogin
# @secure
_DCL = {_INSTANCE3} dcl dcl

## Instance Templates ##
## @mode collapsed

# @comment Settings for each DB are role, instance, username, password for Oracle.
# @comment TNS_NAMES entries are required for Oracle.
# @comment tnsnames.ora file on this server will be updated when settings are saved for Oracle.

# @label Name Prefix
#This prefix is applied to the standard usernames and passwords specified below.
#If the prefix is "ms" and the username is "model", then the real username will be "msmodel".
#Does not apply to the read only user or optional Aquila and CAES databases.
_DBPREFIX = ms

# @label Operational Model
# @widget dataSourceLogin
# @secure
_MODELDB      = model model

# @label Operational Model
# @widget dataSourceLogin
# @secure
_TIMESERIESDB      = timeseries timeseries

# @label Operational Historical
# @widget dataSourceLogin
# @secure
_HISTORICALDB = hist hist

# @label Operational Summary
# @widget dataSourceLogin
# @secure
_SUMMARYDB = summ summ

# @label Reporting Repository
# @widget dataSourceLogin
# @secure
_REPORTINGDB     = {_INSTANCE2} bor bor

# @label Schema Template
# @widget dataSourceLogin
# @secure
_TEMPLATEDB      = tmpl tmpl

# @label Operational Pit Model
# @widget dataSourceLogin
# @secure
_PITMODELDB = pitmodel pitmodel

# @label GIS Data
# @widget dataSourceLogin
# @secure
_GISDB      = gis gis

# @label BO Audit
# @widget dataSourceLogin
# @secure
_BOAUDITDB      = boaudit boaudit

## Read Only User ##
## @mode box
# @label Read Only User Name
# If not blank, this user will have read only privileges on the historical database.
_READONLYUSER = msread

# @label Read Only Password
# @widget password
# @secure
_READONLYPASSWORD = msread

## Aquila Database ##
## @mode box
# @label Aquila Instance Used
# @processOnChange true
_AQUILADB_USED = false

# @label Aquila
# @enabledWhen field('_AQUILADB_USED')
# @widget dataSourceLogin
# @secure
_AQUILADB = {_INSTANCE2} aquila aquila

## CAES Database ##
## @mode box
# @label CAES Instance Used
# @processOnChange true
_CAESDB_USED = false

# @label CAES
# @enabledWhen field('_CAESDB_USED')
# @widget dataSourceLogin
# @secure
_CAESDB = {_INSTANCE2} caes caes

## Advanced Settings  ##
## @mode collapsed
# @label Instance Authentication
# @widget password
# @secure
_DB_SYS_AUTH = mine1star

# @label Use materialized views
# @type hidden
_USE_MATERIALIZED_VIEWS = false

# @label Use the thin Oracle driver
# @visibleWhen field("_INSTANCE1_TYPE") == "oracle"
_PREFER_ALT_URL = true

# @label DB ADMIN Username
_DB_ADMIN_USER = MSDBADMIN

# @label DB ADMIN Password
# @widget password
# @secure
_DB_ADMIN_USER_PASSWD = mine2star

# @label DB SUPER ADMIN User
# @type hidden
_DB_SUPER_ADMIN = sys

# @label DB SUPER SA ADMIN User
# @type hidden
_DB_SA_ADMIN = sa

# @label DB SUPER ADMIN User
# @type hidden
_DB_SYSTEM_ADMIN = system

## Alternative Data Source 1 ##
## @mode collapsed

# A data source must be named to be active
# @label Name
_ALTDS1_NAME = monitorDB

# For ODBC, the DSN (Data Source Name)
# @label Connection
_ALTDS1_CONNECTION =Alternate

# @label Username
_ALTDS1_USER =dbmonitor

# @label Password
# @widget password
# @secure
_ALTDS1_PASSWD =dbmonitor

# @label Database Type
# @choices choice:sysDbmsType
_ALTDS1_TYPE = oracle

## Alternative Data Source 2 ##
## @mode collapsed

# A data source must be named to be active
# @label Name
_ALTDS2_NAME =

# For ODBC, the DSN (Data Source Name)
# @label Connection
_ALTDS2_CONNECTION =

# @label Username
_ALTDS2_USER =

# @label Password
# @widget password
# @secure
_ALTDS2_PASSWD =

# @label Database Type
# @choices choice:sysDbmsType
_ALTDS2_TYPE = oracle

## Alternative Data Source 3 ##
## @mode collapsed

# A data source must be named to be active
# @label Name
_ALTDS3_NAME =

# For ODBC, the DSN (Data Source Name)
# @label Connection
_ALTDS3_CONNECTION =

# @label Username
_ALTDS3_USER =

# @label Password
# @widget password
# @secure
_ALTDS3_PASSWD =

# @label Database Type
# @choices choice:sysDbmsType
_ALTDS3_TYPE = oracle

## Security ##

## SSL/TLS ##
## @mode box

# @label Enable SSL/TLS
# @processOnChange true
# SSL/TLS may be used to encrypt the channels used for interprocess communication (such as HTTPS and RMI)
# between MineStar processes (such as MineTracking, Jetty and the FieldInformationService).
# The following settings define the location and credentials of a KeyStore and
# TrustStore used to encrypt those channels.
RMI_OVER_SSL = true

# @label Self-Signed
# @widget sslSecuritySelfSignedWidget
# @enabledWhen field('RMI_OVER_SSL')
# Should MineStar generate a self-signed certificate if the KeyStore/TrustStore is not provided?
# This is intended for test purposes only - production sites should obtain certificates from their organisation
# or from a third-party certificate provider.
RMI_SSL_SELFSIGNED = false

# @label SSL KeyStore
# @enabledWhen field('RMI_OVER_SSL')
# KeyStore containing SSL private key
RMI_SSL_KEYSTORE = {MSTAR_CONFIG}/security/keystore.jks

# @label SSL KeyStore Type
# @enabledWhen field('RMI_OVER_SSL')
# @choices [JKS, PKCS12]
RMI_SSL_KEYSTORE_TYPE = JKS

# @label SSL KeyStore Password
# @secure
# @widget password
# @enabledWhen field('RMI_OVER_SSL')
# Password for the KeyStore containing SSL private key
RMI_SSL_KEYSTORE_PASSWORD = password

# @label SSL Key Password
# @secure
# @widget password
# @enabledWhen field('RMI_OVER_SSL')
# Password for the private key within the SSL KeyStore (may be the same as SSL KeyStore Password).
RMI_SSL_KEY_PASSWORD = password

# @label SSL TrustStore
# KeyStore containing trusted SSL certificates
RMI_SSL_TRUSTSTORE = {MSTAR_CONFIG}/security/truststore.jks

# @label SSL TrustStore Type
# @enabledWhen field('RMI_OVER_SSL')
# @choices [JKS, PKCS12]
RMI_SSL_TRUSTSTORE_TYPE = JKS

# @label SSL TrustStore Password
# @widget password
!! Don't place this in secure overrides as it must be visible to clients running on external servers !!
!! The trust store should only contain public certificates so having an insecure password should be ok !!
# Password for the KeyStore containing trusted SSL public certificates.
# For additional security, this password should be different to the SSL KeyStore Password.
RMI_SSL_TRUSTSTORE_PASSWORD = password

# @label Enabled Cipher Suites
# @widget tlsCipherSuiteSelect
# @enabledWhen field('RMI_OVER_SSL')
SSL_ENABLED_CIPHER_SUITES =

# @label Verification
# @widget sslSecurityVerifyWidget
# @enabledWhen field('RMI_OVER_SSL')
# Apply any unsaved settings before using the Verify button
SSL_VERIFICATION =

## ApexServer ##

## ApexServer Settings ##
## @mode box

# @label HTTPS Port
# The HTTPS port used by ApexServer.
# The ApexServer will be available at https://{host}:{port}/minestar/apex
_APEX_HTTP_PORT = 8082

# @label Enable SSL/TLS
# @type boolean
# @visibleWhen false
# Allows SSL to be disabled on the ApexServer for development
_APEX_SSL_ENABLED = true

# @label Heartbeat Frequency
# @unitdef duration
# @custom {displayUnitName=second}
# The duration between sending heartbeat messages to connected Apex clients.
_APEX_HEARTBEAT_FREQ_SECS = 60

# @label Message Retention Limit
# @type int
# The maximum number of broadcast messages to retain for client reconnection
_APEX_MESSAGE_RETENTION_LIMIT = 1000

# @label Message Retention Period
# @unitdef duration
# @custom {displayUnitName=minute}
# The maximum duration of broadcast messages to retain for client reconnection
_APEX_MESSAGE_RETENTION_PERIOD = 900.0

# @label Message Retention Ignored Topics
# The comma-separated list of topics of broadcast messages to NOT retain for client reconnection.  These are usually
# the topics of periodically broadcast messages
# @type hidden
_APEX_MESSAGE_RETENTION_IGNORED_TOPICS = /topic/heartbeatEvents,/topic/systemMachineLocks

## Data Bridge ##

## Data Bridge Settings ##
## @mode box

# @label Slow Heartbeat Rate
# The interval between heartbeats sent to configured Data Bridge services that are in communication.
# These heartbeats are used to both detect whether the Data Bridge is operational,
# and also to determine the details of endpoints connected to the Data Bridge.
# @unitdef duration
# @custom {displayUnitName="second"}
! Default is 10 seconds
_DATA_BRIDGE_SLOW_HEARTBEAT_RATE=10.0

# @label Fast Heartbeat Rate
# The interval between heartbeats sent to configured Data Bridge services that are out of communication.
# These heartbeats are used to both detect whether the Data Bridge is operational,
# and also to determine the details of endpoints connected to the Data Bridge.
# @unitdef duration
# @custom {displayUnitName="second"}
! Default is 5 seconds
_DATA_BRIDGE_FAST_HEARTBEAT_RATE=5.0

# @label Out Of Comms Tolerance
# The time interval to wait after the next expected heartbeat has not been received before notifying about
# an out of communication Data Bridge.
# @unitdef duration
# @custom {displayUnitName="second"}
! Default is 5 seconds
_DATA_BRIDGE_OUT_OF_COMMS_TOLERANCE=5.0

# @label Send Timeout
# The length of time that the CommsServer will wait for a message to be sent to the Data Bridge before timing out.
# @unitdef duration
# @custom {displayUnitName="second"}
! Default is 10 seconds
_DATA_BRIDGE_SEND_TIMEOUT=10.0

## Crusher Integration Settings ##
## @mode box

# @label NextTruck Rate
# The rate at which NextTruck messages are sent to configured Data Bridge crusher endpoints
# @unitdef duration
# @custom {displayUnitName="second"}
! Default is 10 seconds
_NEXT_TRUCK_RATE=10.0

## Water Refill Station Integration Settings ##
## @mode box

# @label Water Refill Station Control - Rate
# The rate at which WaterRefillStationControl messages are sent to configured Data Bridge Water Refill Station endpoints.
# @unitdef duration
# @custom {displayUnitName="second"}
## @visibleWhen capabilitySet.isEnabled('WaterTruck')
! Default is 10 seconds
_WRS_CONTROL_RATE=10.0

## Automated Loadout Unit Integration Settings ##
## @mode box

# @label Automated Loadout Unit - Rate
# The rate at which AutomatedLoadoutUnit messages are sent to configured Data Bridge Automated Loadout Unit
# endpoints.
# @unitdef duration
# @custom {displayUnitName="second"}
! Default is 10 seconds
_ALU_CONTROL_RATE=10.0

# @label Automated Loadout Unit - Timeout
#  The amount of time to wait if there has been no change in bin level before the deactive control message
#  is sent to the configured Data Bridge Automated Loadout Unit endpoint.
# @unitdef duration
# @custom {displayUnitName="second"}
! Default is 10 seconds
_ALU_CONTROL_TIMEOUT=10.0

## Jetty ##

## Jetty Settings ##
## @mode box

# The location for the configuration MineStar uses when running Jetty
# @label Jetty Base
_JETTY_BASE = {MSTAR_DATA}/webserver

# The HTTP port used by the Jetty web server.
# @label HTTP Port
_JETTY_HTTP_PORT = 8080

# The HTTPS port used by the Jetty web server.
# This option is available when 'Enable SSL/TLS' is enabled on the Security tab.
# @label  HTTPS Port
# @enabledWhen field('RMI_OVER_SSL')
_JETTY_HTTPS_PORT = 8443

# List of web directories to unpack when running makeSystem
# @label Web Directories
_WEB_DIRECTORIES = web-war,rest-war,wcs-war,web-root,api-war,healthDataExtension-war

## -- For Windows Services, run 'mstarrun windowsServices regenerate' after applying Jetty changes ##
## @mode region

## FieldInformationService ##

## FieldInformationService Port Settings ##
## @mode box

# @label HTTP Port
# The HTTP port used by FieldInformationService.
# The WFS interface of the FieldInformationService will be available at http://{host}:{port}/minestar/wfs
_WFS_HTTP_PORT = 7071

# @label HTTPS Port
# The HTTPS port used by FieldInformationService.
# See the Security tab for whether SSL/TLS is enabled and for the KeyStore/TrustStore details.
# The WFS interface of the FieldInformationService will be available at https://{host}:{port}/minestar/wfs
_WFS_HTTPS_PORT = 7444

## FieldInformationService 2 Port Settings ##
## @mode box

# @label HTTP Port
# The HTTP port used by FieldInformationService2 (if used).
# The WFS interface of the FieldInformationService will be available at http://{host}:{port}/minestar/wfs
_WFS_HTTP_PORT2 = 7072

# @label HTTPS Port
# The HTTPS port used by FieldInformationService2 (if used).
# See the Security tab for whether SSL/TLS is enabled and for the KeyStore/TrustStore details.
# The WFS interface of the FieldInformationService will be available at https://{host}:{port}/minestar/wfs
_WFS_HTTPS_PORT2 = 7445

## FieldInformationService Common Settings ##
## @mode box

# @label Heartbeat Interval
# The interval between heartbeats sent by the FieldInformationService.
# @unitdef duration
# @custom {displayUnitName=second}
_WFS_HEARTBEAT_INTERVAL = 5.0

# @label Heartbeat Lost Interval
# If no heartbeats are received by MineTracking from the FieldInformationService for longer than this interval
# then the FieldInformationService will be considered dead and an urgent alarm will be raised.
# @unitdef duration
# @custom {displayUnitName=second}
_WFS_HEARTBEAT_LOST_INTERVAL = 15.0

# @label Max Read Threads
# @widget slider
# @custom { setMinimum:0, setMaximum:100, setMajorTickSpacing=25, setMinorTickSpacing=5, setStandardLabels=25 }
# A limit on the number of read (GET) operations that will be processed concurrently by the FieldInformationService.
# Additional read operations will block until a thread is available.
# Keeping this setting low can prevent the FieldInformationService from consuming excessive memory if there is a burst of many concurrent read operations.
_WFS_MAX_GET_THREADS = 50

# @label Max Write Threads
# @widget slider
# @custom { setMinimum:1, setMaximum:10, setMajorTickSpacing=5, setMinorTickSpacing=1, setStandardLabels=1 }
# A limit on the number of write (POST) operations that will be processed concurrently by the FieldInformationService.
# Additional write operations will block until a thread is available.
# Processing large write requests, such as uploading LIDAR scans, can place a large load on the FieldInformationService.
# Keeping this setting low can prevent the FieldInformationService from consuming excessive CPU and memory.
_WFS_MAX_POST_THREADS = 3

# @label Max LIDAR Scans per Plan
# @type int
# A limit on the number of uploaded LIDAR survey passes that will be retained for each plan.
# As new LIDAR scans are uploaded, old scans will be purged to keep this limit.
_WFS_MAX_LIDAR_SCANS_PER_PLAN = 10

# @label Max Archived Cache Size
# @visibleWhen false
# A limit on the number of entries stored in an archived/deleted items FieldInformationService cache.
# If this limit is exceeded, the oldest entries are purged to maintain the maximum cache size.
_WFS_MAX_ARCHIVED_CACHE_SIZE = 10000

# @label Enable Debug Trace
# @visibleWhen false
# Should detailed request/response information be logged to the trace file?
_WFS_LOG_DEBUG_TRACE = false

## GeoDatabase ##

## GeoDatabase Settings ##
## @mode box

# @label PostGIS Home
# @visibleWhen false
_POSTGIS_HOME={MSTAR_INSTALL}/postgis

# @label PostGIS Data Dir
# @enabledWhen field('_GEOSERVER_SYNC')
_POSTGIS_DATA_DIR={MSTAR_DATA}/postgis

# @label PostGIS Host
# @enabledWhen field('_GEOSERVER_SYNC')
_POSTGIS_HOST=localhost

# @label PostGIS Port
# @enabledWhen field('_GEOSERVER_SYNC')
_POSTGIS_PORT=5432

# @label PostGIS Database
# @enabledWhen field('_GEOSERVER_SYNC')
_POSTGIS_DATABASE=postgres

# @label PostGIS Schema
# @enabledWhen false
_POSTGIS_SCHEMA=_gis

# @label PostGIS User
# @enabledWhen field('_GEOSERVER_SYNC')
_POSTGIS_USER=postgres

# @label PostGIS Password
# @enabledWhen field('_GEOSERVER_SYNC')
# @widget password
# @secure
_POSTGIS_PASSWORD=


## GeoServer ##

## GeoServer Settings ##
## @mode box

# @label Synchronise with GeoServer?
# @processOnChange true
_GEOSERVER_SYNC=true

## -- For Windows Services, run 'mstarrun windowsServices regenerate' after applying GeoServer changes ##
## @mode region

## GeoServer Installation ##
## @mode box

# @label GeoServer Home
# The location of the GeoServer installation (do not change)
# @visibleWhen false
_GEOSERVER_HOME={MSTAR_INSTALL}/geoserver

# @label GeoServer Data Dir
# The location for the GeoServer data files
# @enabledWhen field('_GEOSERVER_SYNC')
_GEOSERVER_DATA_DIR = {MSTAR_DATA}/geoserver/data_dir

# @label GeoServer HTTP Port
# The HTTP port used by GeoServer
# @enabledWhen field('_GEOSERVER_SYNC')
_GEOSERVER_HTTP_PORT = 7070

# @label GeoServer HTTPS Port
# The HTTPS port used by GeoServer
# @enabledWhen field('_GEOSERVER_SYNC')
_GEOSERVER_HTTPS_PORT = 7443

## GeoServer Security ##
## @mode box

# @label GeoServer SSL KeyStore
# Java KeyStore (JKS) containing SSL private key used to encrypt data on the GeoServer HTTPS port
# @enabledWhen field('_GEOSERVER_SYNC')
_GEOSERVER_SSL_KEYSTORE = {_GEOSERVER_HOME}/etc/keystore

# @label GeoServer KeyStore Type
# @enabledWhen field('_GEOSERVER_SYNC')
# @choices [JKS, PKCS12]
_GEOSERVER_SSL_KEYSTORE_TYPE = JKS

# @label GeoServer SSL TrustStore
# Java KeyStore (JKS) containing trusted SSL certificates (can be same as GeoServer SSL KeyStore)
# @enabledWhen field('_GEOSERVER_SYNC')
_GEOSERVER_SSL_TRUSTSTORE = {_GEOSERVER_HOME}/etc/keystore

# @label GeoServer TrustStore Type
# @enabledWhen field('_GEOSERVER_SYNC')
# @choices [JKS, PKCS12]
_GEOSERVER_SSL_TRUSTSTORE_TYPE = JKS

# @label GeoServer SSL KeyStore Password
# Password for the GeoServer SSL KeyStore
# @secure
# @widget password
# @enabledWhen field('_GEOSERVER_SYNC')
_GEOSERVER_SSL_KEYSTORE_PASSWORD = OBF:1x8a1t3b1xtl1vu918jj1vv11xtx1t2v1x8k

# @label GeoServer SSL KeyManager Password
# Password for the individual keys within the GeoServer SSL KeyStore (can be same as GeoServer SSL KeyStore Password)
# @secure
# @widget password
# @enabledWhen field('_GEOSERVER_SYNC')
_GEOSERVER_SSL_KEYMANAGER_PASSWORD = OBF:1x8a1t3b1xtl1vu918jj1vv11xtx1t2v1x8k

# @label GeoServer SSL TrustStore Password
# Password for the GeoServer SSL TrustStore (can be same as GeoServer SSL KeyStore Password)
# @secure
# @widget password
# @enabledWhen field('_GEOSERVER_SYNC')
_GEOSERVER_SSL_TRUSTSTORE_PASSWORD = OBF:1x8a1t3b1xtl1vu918jj1vv11xtx1t2v1x8k

## GeoServer Synchronization ##
## @mode box

# @label Throttle Geo Server Layer Sync On
# @enabledWhen field('_GEOSERVER_SYNC')
_GEOSERVER_THROTTLE_LAYER_SYNC_EVENT_ON = true

# @label Throttle Geo Server Layers Update Rate
# @enabledWhen field('_GEOSERVER_SYNC')
_GEOSERVER_THROTTLE_LAYER_UPDATE_RATE = 30000

## Reporting ##

# @label Reporting Server
REPORT_SERVER=



# The Intranet link to the reporting cache
# @label Web Reporting
WEB_REPORTING = http://mstar1:8085/MineStarReportCache/

## Reporting Locale ##
## @mode box

# The locale to use when generating descriptions for reporting.  This can
# be set independently of the server locale.

# @choices choice:reportLanguage
# @label Language
descriptionsLanguage=default

# @choices choice:reportCountry
# @label Country
descriptionsCountry=default


## Enterprise Reporting ##
## @mode collapsed

# @label BO Version
# @choices { BOXIr4="BI 4.0" }
_BOVERSION = BOXIr4

# @label Default Report Service
# @choices choice:sysReportService
REPORT_SERVICE_DEFAULT = com.minestar.data.utility.reports.BoComReportService

# @label BO Connection Key
# @type hidden
_BOKEY = BOMain

# @label Default Display Format
# @choices choice:rptDisplayFormat
# @type hidden
_REPORTFORMAT = pdf

## Lightweight Reporting ##
## @mode collapsed
## @visibleWhen false

# To use an alternative data source by default for lightweight reporting, enter its name here
# @choices choice:ltwtRptSource
# @widget combo
# @mode entry
# @label Default Data Source
_REPORT_DATASOURCE = MineStar Database


## View Generation ##
## @mode collapsed
## @visibleWhen false

# @label Unit Conversion Column Suffix
_UNITCONV_SUFFIX = _Q

# @label Unit Abbreviation Column Suffix
_UNITABBR_SUFFIX = _U

# @label Channel Value Description Text Column Suffix
_VALUETEXT_SUFFIX = _D

# @label Entity Lookup Column Suffix
_ENTITYLOOKUP_SUFFIX = _N

# @label Choice List Lookup Suffix
_CHOICELIST_SUFFIX = _D

# @label Timestamp Seconds Suffix
# The number of seconds since 1/1/1970
_TIMESTAMP_SUFFIX = _T

# @label Timestamp Shift OID Suffix
# The OID of the shift containing the timestamp
_TIMESTAMP_SHIFT_SUFFIX = _SOID

# @label Timestamp Shift Elapsed Suffix
# The number of seconds since the current shift started
_TIMESTAMP_SHIFT_ELAPSED_SUFFIX = _ST

## Email ##

# @label MineStar can send e-mail internally at the site
_EMAIL_ENABLED_INT=true

# @label MineStar can send e-mail externally from the site
_EMAIL_ENABLED_EXT=true

# @label Email Server Type
# @choices choice:sysEmailServerProtocol
_EMAILTYPE = SMTP

# @label Email Server Name
_EMAILSERVER = intramail.cis.cat.com

# @label Email Port
_EMAILPORT =

# @label Address of Default Sender
_EMAILSENDER =

# @label Address of Default Recipient for e-mails
_EMAILRECIPIENT =

## Authentication ##
## @mode collapsed

# @label E-mail User
# Blank for non-authenticated servers
_EMAILUSER =

# @label E-mail Password
# Blank for non-authenticated servers
# @widget password
# @secure
_EMAILPASSWORD =


## Advanced ##


## Development Paths ##
## @mode box

# @widget textArea
# @custom {rows=3,columns=20,linewrap=true}
# @label Classes
DEVELOPMENT=

## Heap Size Templates ##
## @mode box

# @comment Heap Size template
# @choices choice:jvmHeapSizeTemplates
# @label Heap Size Template
_JVM_HEAP_SIZE_TEMPLATE = SMALL

## Testing ##
## @mode collapsed

# @label Why restart gadget
WHY_RESTART=true

# @label Log mouse clicks
LOG_MOUSE_CLICKS=false

# @label Log mouse movement
LOG_MOUSE_MOVE=false

# @label Enable warn on RPC in AWT thread
_TEST_WARN_AWT_RPC=false

# @label Enable thread dump if unexpectedly building model
_DO_THREAD_DUMP_IF_BUILDING_MODEL=false

# @label Database Tracing
# @widget checkbox
! @choices system:DataStores (broken as it is not internationalized. Use an inline list as below)
# @choices [model, historical, summary, pitmodel, reporting]
# @choices {"model":"Model", "historical":"Historical", "summary":"Summary", "pitmodel":"PitModel", "reporting":"Reporting"}
_TEST_CONNECTION_SQL_TRACE=

# @label Enable publish-and-subscribe queue size monitoring (JacORB 2.2 only)
# @visibleWhen false
_TEST_JACORB_QUEUE=true

# @label File Name
# JacORB 2.2 size monitoring output file
# @visibleWhen false
_TEST_JACORB_FILE={MSTAR_LOGS}/pubsub_queue_sizes_{YYYY}{MM}{DD}_{HH}{NN}.txt

# @label Enable random data source
# @visibleWhen false
_TEST_RANDOM_DS=false

## Live Override Updates ##
## @mode collapsed

# @label Override file poll period
# The override watcher detects changes to the overrides files from file system events.  This does not work in every environment.
# Use this setting if the override watcher is not correctly detecting override file updates.
# A setting between 1 and 30 minutes inclusive will cause the override files to be periodically read to check for changes.
# A value less than or equal to zero will turn off the periodic polling.
# If the override watcher is not correctly detecting changes, then any changes to this value will not commence polling until a restart of the services.
# @type int
# @unitdef duration
# @custom {displayUnitName=minute}
! Default is 0 minute
# @mutable-live true
overrideFilePollPeriod=0.0

# @label Geoserver Required Libraries
# The comma-separated list of MineStar libraries required by GeoServer.
# @type hidden
_GEOSERVER_REQUIRED_LIBS = base,env,speedo4spring

# @label Names of Pages that can Print
# A comma separated list of jetty served web pages which can print from Chromium in MineStar Client
# @type hidden
_CHROMIUM_PAGES_THAT_CAN_PRINT = /opstatus/systemKpiView.html,/opstatus/systemMaterialView.html,/opstatus/systemProductivityChartView.html
