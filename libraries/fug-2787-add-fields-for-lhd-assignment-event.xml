<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd">
    <changeSet id="2d0e6fa9-1989-45b5-91cf-b47aba2b93b2" author="MineStar" context="Underground/Underground_Management" failOnError="false">
        <preConditions onFailMessage="Ignored AddColumn for MISSION_ID to table ASSIGNMENT_EVENT as table does not exist or column already exists." onFail="MARK_RAN">
            <tableExists tableName="ASSIGNMENT_EVENT"/>
            <not>
                <columnExists tableName="ASSIGNMENT_EVENT" columnName="MISSION_ID"/>
            </not>
        </preConditions>
        <comment>FUG-2787: AddColumn ASSIGNMENT_EVENT.MISSION_ID</comment>
        <addColumn tableName="ASSIGNMENT_EVENT">
            <column name="MISSION_ID" type="BIGINT" remarks="Unique identifier of mission"/>
        </addColumn>
    </changeSet>
    <changeSet id="7d8a98b9-8c5b-4c85-b8c4-27888deeeb1d" author="MineStar" context="Underground/Underground_Management" failOnError="false">
        <preConditions onFailMessage="Ignored AddColumn for FINAL_GOAL_NAME to table ASSIGNMENT_EVENT as table does not exist or column already exists." onFail="MARK_RAN">
            <tableExists tableName="ASSIGNMENT_EVENT"/>
            <not>
                <columnExists tableName="ASSIGNMENT_EVENT" columnName="FINAL_GOAL_NAME"/>
            </not>
        </preConditions>
        <comment>FUG-2787: AddColumn ASSIGNMENT_EVENT.FINAL_GOAL_NAME</comment>
        <addColumn tableName="ASSIGNMENT_EVENT">
            <column name="FINAL_GOAL_NAME" type="VARCHAR(255)" remarks="The name of the final load or dump goal."/>
        </addColumn>
    </changeSet>
</databaseChangeLog>
