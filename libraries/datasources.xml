<?xml version="1.0" encoding="UTF-8" standalone="no"?>

<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:dsource="http://www.minestar.au.cat.com/namespace/datasource"
       xsi:schemaLocation="
            http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
            http://www.minestar.au.cat.com/namespace/datasource http://www.minestar.au.cat.com/namespace/datasource.xsd
       ">

    <!-- Shift total tonnage data sources -->
    <dsource:kpiSummaries id="truckTotalShiftTonnage" kpiType="tonsMined" dimensionName="Shift">
        <dsource:kpi kpiName="totalForShift"/>
    </dsource:kpiSummaries>

    <dsource:kpiSummaries id="lhdTotalShiftTonnage" kpiType="lhdTonsMined" dimensionName="Shift">
        <dsource:kpi kpiName="totalForShift"/>
    </dsource:kpiSummaries>

    <!-- Shift tonnage by machine class data sources -->
    <dsource:kpiSummaries id="truckClassShiftTonnage" kpiType="truckTonsPerMachineClass" dimensionName="primaryMachine_className">
        <dsource:kpi kpiName="totalForShift" displayUnit="tonne" label="Tonnes"/>
    </dsource:kpiSummaries>

    <dsource:kpiSummaries id="lhdClassShiftTonnage" kpiType="lhdTonsPerMachineClass" dimensionName="primaryMachine_className">
        <dsource:kpi kpiName="totalForShift" displayUnit="tonne" label="Tonnes"/>
    </dsource:kpiSummaries>

    <!-- Shift tonnage by fleet data sources -->
    <dsource:kpiSummaries id="truckFleetShiftTonnage" kpiType="truckTonsPerFleet" dimensionName="primaryMachine_fleetNames">
        <dsource:kpi kpiName="totalForShift" displayUnit="tonne" label="Tonnes"/>
    </dsource:kpiSummaries>

    <dsource:kpiSummaries id="lhdFleetShiftTonnage" kpiType="lhdTonsPerFleet" dimensionName="primaryMachine_fleetNames">
        <dsource:kpi kpiName="totalForShift" displayUnit="tonne" label="Tonnes"/>
    </dsource:kpiSummaries>

    <!-- Total availability data sources -->
    <dsource:kpiSummaries id="truckTotalAvailability" kpiType="truckAvailability" dimensionName="Shift">
        <dsource:kpi kpiName="totalAvailability"/>
    </dsource:kpiSummaries>

    <dsource:kpiSummaries id="lhdTotalAvailability" kpiType="lhdAvailability" dimensionName="Shift">
        <dsource:kpi kpiName="totalAvailability"/>
    </dsource:kpiSummaries>

    <!-- Availability by machine class data sources -->
    <dsource:kpiSummaries id="truckClassAvailability" kpiType="truckAvailability" dimensionName="primaryMachine_className"
                          dimensionReferenceType="name">
        <dsource:kpi kpiName="availability"/>
    </dsource:kpiSummaries>

    <dsource:kpiSummaries id="lhdClassAvailability" kpiType="lhdAvailability" dimensionName="primaryMachine_className"
                          dimensionReferenceType="name">
        <dsource:kpi kpiName="availability"/>
    </dsource:kpiSummaries>

    <!-- Availability by fleet data sources -->
    <dsource:kpiSummaries id="truckFleetAvailability" kpiType="truckFleetAvailability" dimensionName="primaryMachine_fleetNames">
        <dsource:kpi kpiName="availability"/>
    </dsource:kpiSummaries>

    <dsource:kpiSummaries id="lhdFleetAvailability" kpiType="lhdFleetAvailability" dimensionName="primaryMachine_fleetNames">
        <dsource:kpi kpiName="availability"/>
    </dsource:kpiSummaries>

    <!-- Total use of availability data sources -->
    <dsource:kpiSummaries id="truckTotalUseOfAvailability" kpiType="truckAvailability" dimensionName="Shift">
        <dsource:kpi kpiName="totalUseOfAvailability" label="Total Use of Availability"/>
    </dsource:kpiSummaries>

    <dsource:kpiSummaries id="lhdTotalUseOfAvailability" kpiType="lhdAvailability" dimensionName="Shift">
        <dsource:kpi kpiName="totalUseOfAvailability" label="Total Use of Availability"/>
    </dsource:kpiSummaries>

    <!-- Use of availability by machine class data sources -->
    <dsource:kpiSummaries id="truckClassUseOfAvailability" kpiType="truckAvailability"
                          dimensionName="primaryMachine_className"
                          dimensionReferenceType="name">
        <dsource:kpi kpiName="useOfAvailability" label="Use of Availability"/>
    </dsource:kpiSummaries>

    <dsource:kpiSummaries id="lhdClassUseOfAvailability" kpiType="lhdAvailability"
                          dimensionName="primaryMachine_className"
                          dimensionReferenceType="name">
        <dsource:kpi kpiName="useOfAvailability" label="Use of Availability"/>
    </dsource:kpiSummaries>

    <!-- Use of availability by fleet data sources -->
    <dsource:kpiSummaries id="truckFleetUseOfAvailability" kpiType="truckFleetAvailability"
                          dimensionName="primaryMachine_fleetNames">
        <dsource:kpi kpiName="useOfAvailability" label="Use of Availability"/>
    </dsource:kpiSummaries>

    <dsource:kpiSummaries id="lhdFleetUseOfAvailability" kpiType="lhdFleetAvailability"
                          dimensionName="primaryMachine_fleetNames">
        <dsource:kpi kpiName="useOfAvailability" label="Use of Availability"/>
    </dsource:kpiSummaries>

    <!-- Tons per operating hour data sources -->
    <dsource:kpiSummaries id="truckTotalTonsPerOperHour" kpiType="truckTonsPerOperHour" dimensionName="Shift">
        <dsource:kpi kpiName="truckTonsPerOperHour" displayUnit="tonnes per hour"/>
    </dsource:kpiSummaries>

    <dsource:kpiSummaries id="lhdTotalTonsPerOperHour" kpiType="lhdTonsPerOperHour" dimensionName="Shift">
        <dsource:kpi kpiName="lhdTonsPerOperHour" displayUnit="tonnes per hour"/>
    </dsource:kpiSummaries>

    <!-- Tons per operating hour by machine class data sources -->
    <dsource:kpiSummaries id="truckClassTonsPerOperHour" kpiType="truckTonsPerOperHour"
                          dimensionName="primaryMachine_className"
                          dimensionReferenceType="name">
        <dsource:kpi kpiName="tonsPerOperHour" displayUnit="tonnes per hour" label="Tonnes per Oper. Hour"/>
    </dsource:kpiSummaries>

    <dsource:kpiSummaries id="lhdClassTonsPerOperHour" kpiType="lhdTonsPerOperHour"
                          dimensionName="primaryMachine_className"
                          dimensionReferenceType="name">
        <dsource:kpi kpiName="tonsPerOperHour" displayUnit="tonnes per hour" label="Tonnes per Oper. Hour"/>
    </dsource:kpiSummaries>

    <!-- Tons per operating hour by fleet data sources -->
    <dsource:kpiSummaries id="truckFleetTonsPerOperHour" kpiType="truckFleetTonsPerOperHour" dimensionName="primaryMachine_fleetNames">
        <dsource:kpi kpiName="tonsPerOperHour" displayUnit="tonnes per hour" label="Tonnes per Oper. Hour"/>
    </dsource:kpiSummaries>

    <dsource:kpiSummaries id="lhdFleetTonsPerOperHour" kpiType="lhdFleetTonsPerOperHour" dimensionName="primaryMachine_fleetNames">
        <dsource:kpi kpiName="tonsPerOperHour" displayUnit="tonnes per hour" label="Tonnes per Oper. Hour"/>
    </dsource:kpiSummaries>

    <!-- Activity data sources -->
    <dsource:kpiSummaries id="truckActivity" dimensionName="Shift" kpiType="truckActivity">
        <dsource:kpi kpiName="travellingEmptyTime" displayUnit="minute"/>
        <dsource:kpi kpiName="loadingTime" displayUnit="minute" label="Loading"/>
        <dsource:kpi kpiName="travellingFullTime" displayUnit="minute"/>
        <dsource:kpi kpiName="dumpingTime" displayUnit="minute" label="Dumping"/>
    </dsource:kpiSummaries>

    <dsource:kpiSummaries id="lhdActivity" dimensionName="Shift" kpiType="lhdActivity">
        <dsource:kpi kpiName="travellingEmptyTime" displayUnit="minute"/>
        <dsource:kpi kpiName="loadingTime" displayUnit="minute"/>
        <dsource:kpi kpiName="travellingFullTime" displayUnit="minute"/>
        <dsource:kpi kpiName="dumpingTime" displayUnit="minute"/>
    </dsource:kpiSummaries>

    <!-- Hourly tons mined data sources -->
    <dsource:kpiSummaries id="truckHourlyTonsMined" kpiType="hourlyTonsMined" dimensionName="hourInShift">
        <dsource:kpi kpiName="tonsMined"/>
    </dsource:kpiSummaries>

    <dsource:kpiSummaries id="lhdHourlyTonsMined" kpiType="lhdHourlyTonsMined" dimensionName="hourInShift">
        <dsource:kpi kpiName="tonsMined"/>
    </dsource:kpiSummaries>

    <dsource:kpiSummaries id="truckCumulativeHourlyTonsMined" kpiType="hourlyTonsMined" dimensionName="hourInShift">
        <dsource:kpi kpiName="hourlyCumulativeTonsMined"/>
    </dsource:kpiSummaries>

    <dsource:kpiSummaries id="lhdCumulativeHourlyTonsMined" kpiType="lhdHourlyTonsMined" dimensionName="hourInShift">
        <dsource:kpi kpiName="hourlyCumulativeTonsMined"/>
    </dsource:kpiSummaries>

    <dsource:linearTarget id="shiftTonProductionTarget" target="80000" label="Production Target" unitType="mass"/>

    <dsource:objectKpiSummaries id="drawCardCompliance"
                                kpiType="minestar.production.application.drawcard.DrawCardKpiSummaries">

        <dsource:param name="underPullLimit" value="0.7"/>
        <dsource:param name="overPullLimit" value="1.3"/>

        <dsource:kpi kpiName="underPull"/>
        <dsource:kpi kpiName="comply"/>
        <dsource:kpi kpiName="overPull"/>
    </dsource:objectKpiSummaries>

</beans>
