<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC
        "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
        "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">
<hibernate-mapping schema="model" default-access="field">

    <class name="minestar.mine.domain.minemodel.underground.operatingstatus.OperatingStatusImpl"
           proxy="minestar.mine.domain.minemodel.underground.operatingstatus.OperatingStatus"
           table="OPERATING_STATUS"
           dynamic-update="true">

        <meta attribute="description">A standard description of the operating conditions of a mine model entity.</meta>
        <meta attribute="lookupExpr">reason</meta>
        <meta attribute="table">
            tablespace=MW_ENT
        </meta>
        <meta attribute="primary-key">
            tablespace=MW_IDXENT
        </meta>
        <meta attribute="index">
            name=ID
            unique=true
            columns=ID
            tablespace=MW_IDXENT
        </meta>

        <cache usage="read-write" region="model"/>

        <id name="OID"
            type="java.lang.Long"
            column="OID">
            <meta attribute="description">The unique, system-assigned identifier for this Operating Status.</meta>
            <meta attribute="universe-type-measure">false</meta>
            <meta attribute="export-marshall" inherit="false">false</meta>
        </id>

        <discriminator column="ECF_CLASS_ID" not-null="false"/>

        <property name="id"
                  type="java.lang.Integer"
                  column="ID"
                  not-null="true">
            <meta attribute="description">The unique, system-assigned identifier for this operating status.</meta>
            <meta attribute="universe-type-measure">false</meta>
        </property>

        <property name="active"
                  type="java.lang.Boolean"
                  column="IS_ACTIVE"
                  not-null="true">
            <meta attribute="defaultValue">true</meta>
            <meta attribute="description">
                Whether this operating status is active or archived.
                (This flag is '1' if it is active and '0' if archived.)
            </meta>
        </property>

        <property name="reason"
                  type="java.lang.String"
                  column="REASON">
            <meta attribute="description">The short text used to describe this operating status.</meta>
        </property>

        <property name="defaultStatus"
                  type="java.lang.Boolean"
                  column="DEFAULTSTATUS">
            <meta attribute="defaultValue">false</meta>
            <meta attribute="description">
                Whether this status is the default one for those that have the same set of property settings.
                (This flag is '1' if it is the default and '0' if it is not.)
            </meta>
        </property>

        <set name="allowableMachineClasses"  table="OS_MACHINE_CLASSES">
            <meta attribute="description">The allowable machine class for the operating status.</meta>
            <meta attribute="collection-table">
                tablespace=MW_ENT
            </meta>
            <meta attribute="collection-primary-key">
                tablespace=MW_IDXENT
            </meta>

            <cache usage="read-write" region="model"/>

            <key column="OID" not-null="true"/>
            <many-to-many class="minestar.pitlink.domain.machine.MachineClassReference" column="ALLOWABLE_MACHINE_CLASSES" not-found="ignore"/>
        </set>

        <subclass name="minestar.mine.domain.minemodel.underground.operatingstatus.DrawPointOperatingStatusImpl"
                  proxy="minestar.mine.domain.minemodel.underground.operatingstatus.DrawPointOperatingStatus"
                  discriminator-value="XAEntity.DrawPointOperatingStatus">
            <meta attribute="description">An operating status for draw points.</meta>

            <property name="closed"
                      type="java.lang.Boolean"
                      column="CLOSED">
                <meta attribute="defaultValue">false</meta>
                <meta attribute="description">
                    Whether this operating status indicates a draw point that is closed.
                    (This flag is '1' if it indicates a closed draw point and '0' if it does not.)
                </meta>
            </property>

            <property name="hungUp"
                      type="java.lang.Boolean"
                      column="HUNGUP">
                <meta attribute="defaultValue">false</meta>
                <meta attribute="description">
                    Whether this operating status indicates a draw point that is hung up.
                    (This flag is '1' if it indicates a hung up draw point and '0' if it does not.)
                </meta>
            </property>
        </subclass>

        <subclass name="minestar.mine.domain.minemodel.underground.operatingstatus.OrePassOperatingStatusImpl"
                  proxy="minestar.mine.domain.minemodel.underground.operatingstatus.OrePassOperatingStatus"
                  discriminator-value="XAEntity.OrePassOperatingStatus">
            <meta attribute="description">An operating status for ore passes.</meta>

            <property name="closed"
                      type="java.lang.Boolean"
                      column="CLOSED">
                <meta attribute="defaultValue">false</meta>
                <meta attribute="description">
                    Whether this operating status indicates a ore pass that is closed.
                    (This flag is '1' if it indicates a closed ore pass and '0' if it does not.)
                </meta>
            </property>

            <property name="hungUp"
                      type="java.lang.Boolean"
                      column="HUNGUP">
                <meta attribute="defaultValue">false</meta>
                <meta attribute="description">
                    Whether this operating status indicates a ore pass that is hung up.
                    (This flag is '1' if it indicates a hung up ore pass and '0' if it does not.)
                </meta>
            </property>
        </subclass>

        <subclass name="minestar.mine.domain.minemodel.underground.operatingstatus.UndergroundAreaOperatingStatusImpl"
                  proxy="minestar.mine.domain.minemodel.underground.operatingstatus.UndergroundAreaOperatingStatus"
                  discriminator-value="XAEntity.UndergroundAreaOperatingStatus">
            <meta attribute="description">An operating status for underground areas.</meta>

            <property name="closed"
                      type="boolean"
                      column="CLOSED"
                      not-null="true">
                <meta attribute="description">
                    Whether this operating status indicates a area that is closed.
                    (This flag is '1' if it indicates a closed draw point and '0' if it does not.)
                </meta>
            </property>
        </subclass>

    </class>

</hibernate-mapping>
