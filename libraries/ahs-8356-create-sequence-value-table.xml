<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd">

    <changeSet id="d8776d7a-aaaa-40db-969c-13cc0d8f9af5" author="MineStar" context="Platform/Platform_Management" failOnError="false">
        <preConditions onFailMessage="Ignored CreateTable for SEQUENCE_VALUE as table already exists." onFail="MARK_RAN">
            <not>
                <tableExists tableName="SEQUENCE_VALUE"/>
            </not>
        </preConditions>
        <comment>AHS-8356: CreateTable SEQUENCE_VALUE</comment>
        <createTable tablespace="MW_ENT" remarks="Sequential number generation" tableName="SEQUENCE_VALUE">
            <column name="SEQUENCE_NAME" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
            <column name="CURRENT_VALUE" type="BIGINT" remarks="The current value of this sequence.">
                <constraints nullable="false"/>
            </column>
            <column name="CHUNK_SIZE" type="BIGINT" remarks="The size of a chunk which can be reserved in memory. This should be 1 for rarely allocated sequences, and 10 or more for frequently allocated sequences.">
                <constraints nullable="false"/>
            </column>
        </createTable>
        <addPrimaryKey columnNames="SEQUENCE_NAME" constraintName="SEQUENCE_VALUE_PK" tablespace="MW_IDXENT" tableName="SEQUENCE_VALUE"/>
        <!-- OID sequence -->
        <sql>INSERT INTO SEQUENCE_VALUE (SEQUENCE_NAME, CURRENT_VALUE, CHUNK_SIZE) VALUES('OID', 165010000, 1000)</sql>
        <!-- ModelUpdateVersion sequence -->
        <sql>INSERT INTO SEQUENCE_VALUE (SEQUENCE_NAME, CURRENT_VALUE, CHUNK_SIZE) VALUES('ModelUpdateVersion', 0, 100)</sql>
        <!-- Id sequences -->
        <sql>INSERT INTO SEQUENCE_VALUE (SEQUENCE_NAME, CURRENT_VALUE, CHUNK_SIZE) VALUES('Activity.Id', 0, 1)</sql>
        <sql>INSERT INTO SEQUENCE_VALUE (SEQUENCE_NAME, CURRENT_VALUE, CHUNK_SIZE) VALUES('DelayClass.Id', 0, 1)</sql>
        <sql>INSERT INTO SEQUENCE_VALUE (SEQUENCE_NAME, CURRENT_VALUE, CHUNK_SIZE) VALUES('DrawPoint.Id', 0, 1)</sql>
        <sql>INSERT INTO SEQUENCE_VALUE (SEQUENCE_NAME, CURRENT_VALUE, CHUNK_SIZE) VALUES('DrawPointStatus.Id', 0, 1)</sql>
        <sql>INSERT INTO SEQUENCE_VALUE (SEQUENCE_NAME, CURRENT_VALUE, CHUNK_SIZE) VALUES('DumpGoal.Id', 0, 1)</sql>
        <sql>INSERT INTO SEQUENCE_VALUE (SEQUENCE_NAME, CURRENT_VALUE, CHUNK_SIZE) VALUES('FuelAndLubeType.Id', 0, 1)</sql>
        <sql>INSERT INTO SEQUENCE_VALUE (SEQUENCE_NAME, CURRENT_VALUE, CHUNK_SIZE) VALUES('GradeBlock.Id', 0, 1)</sql>
        <sql>INSERT INTO SEQUENCE_VALUE (SEQUENCE_NAME, CURRENT_VALUE, CHUNK_SIZE) VALUES('GradeBlockGroup.Id', 0, 1)</sql>
        <sql>INSERT INTO SEQUENCE_VALUE (SEQUENCE_NAME, CURRENT_VALUE, CHUNK_SIZE) VALUES('Hazard.Id', 0, 1)</sql>
        <sql>INSERT INTO SEQUENCE_VALUE (SEQUENCE_NAME, CURRENT_VALUE, CHUNK_SIZE) VALUES('HazardType.Id', 0, 1)</sql>
        <sql>INSERT INTO SEQUENCE_VALUE (SEQUENCE_NAME, CURRENT_VALUE, CHUNK_SIZE) VALUES('IncidentReport.Id', 0, 1)</sql>
        <sql>INSERT INTO SEQUENCE_VALUE (SEQUENCE_NAME, CURRENT_VALUE, CHUNK_SIZE) VALUES('InversionGoal.Id', 0, 1)</sql>
        <sql>INSERT INTO SEQUENCE_VALUE (SEQUENCE_NAME, CURRENT_VALUE, CHUNK_SIZE) VALUES('JobCode.Id', 0, 1)</sql>
        <sql>INSERT INTO SEQUENCE_VALUE (SEQUENCE_NAME, CURRENT_VALUE, CHUNK_SIZE) VALUES('Lane.Id', 0, 10)</sql>
        <sql>INSERT INTO SEQUENCE_VALUE (SEQUENCE_NAME, CURRENT_VALUE, CHUNK_SIZE) VALUES('LoadGoal.Id', 0, 1)</sql>
        <sql>INSERT INTO SEQUENCE_VALUE (SEQUENCE_NAME, CURRENT_VALUE, CHUNK_SIZE) VALUES('Machine.Id', 0, 1)</sql>
        <sql>INSERT INTO SEQUENCE_VALUE (SEQUENCE_NAME, CURRENT_VALUE, CHUNK_SIZE) VALUES('MachineClassIcon.Id', 0, 1)</sql>
        <sql>INSERT INTO SEQUENCE_VALUE (SEQUENCE_NAME, CURRENT_VALUE, CHUNK_SIZE) VALUES('MachineType.Id', 0, 1)</sql>
        <sql>INSERT INTO SEQUENCE_VALUE (SEQUENCE_NAME, CURRENT_VALUE, CHUNK_SIZE) VALUES('OperatingStatus.Id', 0, 1)</sql>
        <sql>INSERT INTO SEQUENCE_VALUE (SEQUENCE_NAME, CURRENT_VALUE, CHUNK_SIZE) VALUES('OrePass.Id', 0, 1)</sql>
        <sql>INSERT INTO SEQUENCE_VALUE (SEQUENCE_NAME, CURRENT_VALUE, CHUNK_SIZE) VALUES('SafetyCheckItem.Id', 0, 1)</sql>
        <sql>INSERT INTO SEQUENCE_VALUE (SEQUENCE_NAME, CURRENT_VALUE, CHUNK_SIZE) VALUES('Script.Id', 256, 1)</sql>
        <sql>INSERT INTO SEQUENCE_VALUE (SEQUENCE_NAME, CURRENT_VALUE, CHUNK_SIZE) VALUES('StandardMessage.Id', 0, 1)</sql>
        <sql>INSERT INTO SEQUENCE_VALUE (SEQUENCE_NAME, CURRENT_VALUE, CHUNK_SIZE) VALUES('Waypoint.Id', 0, 1)</sql>
        <sql>INSERT INTO SEQUENCE_VALUE (SEQUENCE_NAME, CURRENT_VALUE, CHUNK_SIZE) VALUES('Zone.Id', 0, 1)</sql>
        <sql>INSERT INTO SEQUENCE_VALUE (SEQUENCE_NAME, CURRENT_VALUE, CHUNK_SIZE) VALUES('Mission.Id', 0, 1)</sql>
        <sql>INSERT INTO SEQUENCE_VALUE (SEQUENCE_NAME, CURRENT_VALUE, CHUNK_SIZE) VALUES('Pass.Id', 0, 1)</sql>
        <sql>INSERT INTO SEQUENCE_VALUE (SEQUENCE_NAME, CURRENT_VALUE, CHUNK_SIZE) VALUES('CrestPosition.Id', 0, 1)</sql>
        <rollback>
            <dropTable tableName="SEQUENCE_VALUE"/>
        </rollback>
        <modifySql dbms="mssql,h2,postgresql">
            <regExpReplace replace="( USING INDEX)? (ON|TABLESPACE) MW_[A-Z]+" with=""/>
        </modifySql>
    </changeSet>

    <changeSet id="bd9f2b46-9f54-45f4-bcb6-b78f8ba42be0" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored DropTable for SYSTEM_INFO as table does not exist." onFail="MARK_RAN">
            <tableExists tableName="SYSTEM_INFO"/>
        </preConditions>
        <comment>AHS-8356: DropTable SYSTEM_INFO</comment>
        <sql>UPDATE SEQUENCE_VALUE SET CURRENT_VALUE = (SELECT MAX(NEXT_OID) * 10000 FROM SYSTEM_INFO) WHERE SEQUENCE_NAME = 'OID'</sql>
        <dropTable tableName="SYSTEM_INFO"/>
        <rollback>
            <createTable tablespace="MW_ECF" tableName="SYSTEM_INFO">
                <column name="NEXT_OID" type="VARCHAR(80)">
                    <constraints nullable="false"/>
                </column>
                <column name="DB_VERSION" type="VARCHAR(254)"/>
                <column name="COMPAT_LEVEL" type="FLOAT"/>
                <column name="STOP_LOGIN" type="SMALLINT"/>
                <column name="MOD_LEVEL" type="BIGINT"/>
                <column name="COMPANY_NAME" type="VARCHAR(80)"/>
                <column name="FED_PREFIX" type="VARCHAR(2)"/>
                <column name="PROPERTY1" type="VARCHAR(254)"/>
                <column name="PROPERTY2" type="VARCHAR(254)"/>
                <column name="PROPERTY3" type="VARCHAR(254)"/>
                <column name="PROPERTY4" type="VARCHAR(254)"/>
            </createTable>
            <addPrimaryKey columnNames="NEXT_OID" constraintName="SYSTEM_INFO_PK" tablespace="MW_IDXECF" tableName="SYSTEM_INFO"/>
            <sql>INSERT INTO SYSTEM_INFO (NEXT_OID) SELECT (CURRENT_VALUE / 10000)+1 FROM SEQUENCE_VALUE WHERE SEQUENCE_NAME = 'OID'</sql>
        </rollback>
        <modifySql dbms="mssql,h2,postgresql">
            <regExpReplace replace="( USING INDEX)? (ON|TABLESPACE) MW_[A-Z]+" with=""/>
        </modifySql>
    </changeSet>

    <changeSet id="67ef7e05-77f6-4444-9fa6-88aa24c74d30" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored DropTable for ENTITY_ID_GEN as table does not exist." onFail="MARK_RAN">
            <tableExists tableName="ENTITY_ID_GEN"/>
        </preConditions>
        <comment>AHS-8356: DropTable ENTITY_ID_GEN</comment>

        <sql>UPDATE SEQUENCE_VALUE SET CURRENT_VALUE = (SELECT COALESCE(MAX(NEXT_VAL-1), 0) FROM ENTITY_ID_GEN WHERE TYPE_ID = 'activityId') WHERE SEQUENCE_NAME = 'Activity.Id'</sql>
        <sql>UPDATE SEQUENCE_VALUE SET CURRENT_VALUE = (SELECT COALESCE(MAX(NEXT_VAL-1), 0) FROM ENTITY_ID_GEN WHERE TYPE_ID = 'delayClassId') WHERE SEQUENCE_NAME = 'DelayClass.Id'</sql>
        <sql>UPDATE SEQUENCE_VALUE SET CURRENT_VALUE = (SELECT COALESCE(MAX(NEXT_VAL-1), 0) FROM ENTITY_ID_GEN WHERE TYPE_ID = 'drawPointID') WHERE SEQUENCE_NAME = 'DrawPoint.Id'</sql>
        <sql>UPDATE SEQUENCE_VALUE SET CURRENT_VALUE = (SELECT COALESCE(MAX(NEXT_VAL-1), 0) FROM ENTITY_ID_GEN WHERE TYPE_ID = 'drawPointStatusID') WHERE SEQUENCE_NAME = 'DrawPointStatus.Id'</sql>
        <sql>UPDATE SEQUENCE_VALUE SET CURRENT_VALUE = (SELECT COALESCE(MAX(NEXT_VAL-1), 0) FROM ENTITY_ID_GEN WHERE TYPE_ID = 'dumpGoalID') WHERE SEQUENCE_NAME = 'DumpGoal.Id'</sql>
        <sql>UPDATE SEQUENCE_VALUE SET CURRENT_VALUE = (SELECT COALESCE(MAX(NEXT_VAL-1), 0) FROM ENTITY_ID_GEN WHERE TYPE_ID = 'fuelId') WHERE SEQUENCE_NAME = 'FuelAndLubeType.Id'</sql>
        <sql>UPDATE SEQUENCE_VALUE SET CURRENT_VALUE = (SELECT COALESCE(MAX(NEXT_VAL-1), 0) FROM ENTITY_ID_GEN WHERE TYPE_ID = 'gradeBlockId') WHERE SEQUENCE_NAME = 'GradeBlock.Id'</sql>
        <sql>UPDATE SEQUENCE_VALUE SET CURRENT_VALUE = (SELECT COALESCE(MAX(NEXT_VAL-1), 0) FROM ENTITY_ID_GEN WHERE TYPE_ID = 'gradeBlockGroupId') WHERE SEQUENCE_NAME = 'GradeBlockGroup.Id'</sql>
        <sql>UPDATE SEQUENCE_VALUE SET CURRENT_VALUE = (SELECT COALESCE(MAX(NEXT_VAL-1), 0) FROM ENTITY_ID_GEN WHERE TYPE_ID = 'hazardId') WHERE SEQUENCE_NAME = 'Hazard.Id'</sql>
        <sql>UPDATE SEQUENCE_VALUE SET CURRENT_VALUE = (SELECT COALESCE(MAX(NEXT_VAL-1), 0) FROM ENTITY_ID_GEN WHERE TYPE_ID = 'hazardTypeId') WHERE SEQUENCE_NAME = 'HazardType.Id'</sql>
        <sql>UPDATE SEQUENCE_VALUE SET CURRENT_VALUE = (SELECT COALESCE(MAX(NEXT_VAL-1), 0) FROM ENTITY_ID_GEN WHERE TYPE_ID = 'inversionGoalID') WHERE SEQUENCE_NAME = 'InversionGoal.Id'</sql>
        <sql>UPDATE SEQUENCE_VALUE SET CURRENT_VALUE = (SELECT COALESCE(MAX(NEXT_VAL-1), 0) FROM ENTITY_ID_GEN WHERE TYPE_ID = 'jobCodeId') WHERE SEQUENCE_NAME = 'JobCode.Id'</sql>
        <sql>UPDATE SEQUENCE_VALUE SET CURRENT_VALUE = (SELECT COALESCE(MAX(NEXT_VAL-1), 0) FROM ENTITY_ID_GEN WHERE TYPE_ID = 'laneId') WHERE SEQUENCE_NAME = 'Lane.Id'</sql>
        <sql>UPDATE SEQUENCE_VALUE SET CURRENT_VALUE = (SELECT COALESCE(MAX(NEXT_VAL-1), 0) FROM ENTITY_ID_GEN WHERE TYPE_ID = 'loadGoalID') WHERE SEQUENCE_NAME = 'LoadGoal.Id'</sql>
        <sql>UPDATE SEQUENCE_VALUE SET CURRENT_VALUE = (SELECT COALESCE(MAX(NEXT_VAL-1), 0) FROM ENTITY_ID_GEN WHERE TYPE_ID = 'machineId') WHERE SEQUENCE_NAME = 'Machine.Id'</sql>
        <sql>UPDATE SEQUENCE_VALUE SET CURRENT_VALUE = (SELECT COALESCE(MAX(NEXT_VAL-1), 0) FROM ENTITY_ID_GEN WHERE TYPE_ID = 'machineIconId') WHERE SEQUENCE_NAME = 'MachineClassIcon.Id'</sql>
        <sql>UPDATE SEQUENCE_VALUE SET CURRENT_VALUE = (SELECT COALESCE(MAX(NEXT_VAL-1), 0) FROM ENTITY_ID_GEN WHERE TYPE_ID = 'machineTypeId') WHERE SEQUENCE_NAME = 'MachineType.Id'</sql>
        <sql>UPDATE SEQUENCE_VALUE SET CURRENT_VALUE = (SELECT COALESCE(MAX(NEXT_VAL-1), 0) FROM ENTITY_ID_GEN WHERE TYPE_ID = 'operatingStatusID') WHERE SEQUENCE_NAME = 'OperatingStatus.Id'</sql>
        <sql>UPDATE SEQUENCE_VALUE SET CURRENT_VALUE = (SELECT COALESCE(MAX(NEXT_VAL-1), 0) FROM ENTITY_ID_GEN WHERE TYPE_ID = 'orePassID') WHERE SEQUENCE_NAME = 'OrePass.Id'</sql>
        <sql>UPDATE SEQUENCE_VALUE SET CURRENT_VALUE = (SELECT COALESCE(MAX(NEXT_VAL-1), 0) FROM ENTITY_ID_GEN WHERE TYPE_ID = 'safetyItemId') WHERE SEQUENCE_NAME = 'SafetyCheckItem.Id'</sql>
        <sql>UPDATE SEQUENCE_VALUE SET CURRENT_VALUE = (SELECT COALESCE(MAX(NEXT_VAL-1), 0) FROM ENTITY_ID_GEN WHERE TYPE_ID = 'scriptId') WHERE SEQUENCE_NAME = 'Script.Id'</sql>
        <sql>UPDATE SEQUENCE_VALUE SET CURRENT_VALUE = (SELECT COALESCE(MAX(NEXT_VAL-1), 0) FROM ENTITY_ID_GEN WHERE TYPE_ID = 'messageId') WHERE SEQUENCE_NAME = 'StandardMessage.Id'</sql>
        <sql>UPDATE SEQUENCE_VALUE SET CURRENT_VALUE = (SELECT COALESCE(MAX(NEXT_VAL-1), 0) FROM ENTITY_ID_GEN WHERE TYPE_ID = 'beaconId') WHERE SEQUENCE_NAME = 'Waypoint.Id'</sql>
        <sql>UPDATE SEQUENCE_VALUE SET CURRENT_VALUE = (SELECT COALESCE(MAX(NEXT_VAL-1), 0) FROM ENTITY_ID_GEN WHERE TYPE_ID = 'zoneId') WHERE SEQUENCE_NAME = 'Zone.Id'</sql>
        <sql>UPDATE SEQUENCE_VALUE SET CURRENT_VALUE = (SELECT COALESCE(MAX(NEXT_VAL-1), 0) FROM ENTITY_ID_GEN WHERE TYPE_ID = 'missionId') WHERE SEQUENCE_NAME = 'Mission.Id'</sql>
        <sql>UPDATE SEQUENCE_VALUE SET CURRENT_VALUE = (SELECT COALESCE(MAX(NEXT_VAL-1), 0) FROM ENTITY_ID_GEN WHERE TYPE_ID = 'passId') WHERE SEQUENCE_NAME = 'Pass.Id'</sql>
        <sql>UPDATE SEQUENCE_VALUE SET CURRENT_VALUE = (SELECT COALESCE(MAX(NEXT_VAL-1), 0) FROM ENTITY_ID_GEN WHERE TYPE_ID = 'crestPositionId') WHERE SEQUENCE_NAME = 'CrestPosition.Id'</sql>

        <dropTable tableName="ENTITY_ID_GEN"/>
        <rollback>
            <createTable tablespace="MW_ECF" tableName="ENTITY_ID_GEN">
                <column name="ENTITY_ID_GEN_PK" type="BIGINT">
                    <constraints nullable="false"/>
                </column>
                <column name="TYPE_ID" type="VARCHAR(255)"/>
                <column name="DISCRIMINATOR_ID" type="VARCHAR(255)"/>
                <column name="NEXT_VAL" type="BIGINT"/>
                <column name="LOCKING_VERSION" type="BIGINT"/>
            </createTable>
            <addPrimaryKey columnNames="ENTITY_ID_GEN_PK" constraintName="ENTITY_ID_GEN_PK" tablespace="MW_IDXECF" tableName="ENTITY_ID_GEN"/>

            <sql>INSERT INTO ENTITY_ID_GEN (ENTITY_ID_GEN_PK, TYPE_ID, DISCRIMINATOR_ID, NEXT_VAL-1) LOCKING_VERSION) SELECT 1, 'activityId', 'none', COALESCE(MAX(CURRENT_VALUE+1), 0), 0 FROM SEQUENCE_VALUE WHERE SEQUENCE_NAME = 'Activity.Id'</sql>
            <sql>INSERT INTO ENTITY_ID_GEN (ENTITY_ID_GEN_PK, TYPE_ID, DISCRIMINATOR_ID, NEXT_VAL-1) LOCKING_VERSION) SELECT 1, 'beaconId', 'none', COALESCE(MAX(CURRENT_VALUE+1), 0), 0 FROM SEQUENCE_VALUE WHERE SEQUENCE_NAME = 'Waypoint.Id'</sql>
            <sql>INSERT INTO ENTITY_ID_GEN (ENTITY_ID_GEN_PK, TYPE_ID, DISCRIMINATOR_ID, NEXT_VAL-1) LOCKING_VERSION) SELECT 1, 'delayClassId', 'none', COALESCE(MAX(CURRENT_VALUE+1), 0), 0 FROM SEQUENCE_VALUE WHERE SEQUENCE_NAME = 'DelayClass.Id'</sql>
            <sql>INSERT INTO ENTITY_ID_GEN (ENTITY_ID_GEN_PK, TYPE_ID, DISCRIMINATOR_ID, NEXT_VAL-1) LOCKING_VERSION) SELECT 1, 'drawPointID', 'none', COALESCE(MAX(CURRENT_VALUE+1), 0), 0 FROM SEQUENCE_VALUE WHERE SEQUENCE_NAME = 'DrawPoint.Id'</sql>
            <sql>INSERT INTO ENTITY_ID_GEN (ENTITY_ID_GEN_PK, TYPE_ID, DISCRIMINATOR_ID, NEXT_VAL-1) LOCKING_VERSION) SELECT 1, 'drawPointStatusID', 'none', COALESCE(MAX(CURRENT_VALUE+1), 0), 0 FROM SEQUENCE_VALUE WHERE SEQUENCE_NAME = 'DrawPointStatus.Id'</sql>
            <sql>INSERT INTO ENTITY_ID_GEN (ENTITY_ID_GEN_PK, TYPE_ID, DISCRIMINATOR_ID, NEXT_VAL-1) LOCKING_VERSION) SELECT 1, 'dumpGoalID', 'none', COALESCE(MAX(CURRENT_VALUE+1), 0), 0 FROM SEQUENCE_VALUE WHERE SEQUENCE_NAME = 'DumpGoal.Id'</sql>
            <sql>INSERT INTO ENTITY_ID_GEN (ENTITY_ID_GEN_PK, TYPE_ID, DISCRIMINATOR_ID, NEXT_VAL-1) LOCKING_VERSION) SELECT 1, 'fuelId', 'none', COALESCE(MAX(CURRENT_VALUE+1), 0), 0 FROM SEQUENCE_VALUE WHERE SEQUENCE_NAME = 'FuelAndLubeType.Id'</sql>
            <sql>INSERT INTO ENTITY_ID_GEN (ENTITY_ID_GEN_PK, TYPE_ID, DISCRIMINATOR_ID, NEXT_VAL-1) LOCKING_VERSION) SELECT 1, 'gradeBlockGroupId', 'none', COALESCE(MAX(CURRENT_VALUE+1), 0), 0 FROM SEQUENCE_VALUE WHERE SEQUENCE_NAME = 'GradeBlockGroup.Id'</sql>
            <sql>INSERT INTO ENTITY_ID_GEN (ENTITY_ID_GEN_PK, TYPE_ID, DISCRIMINATOR_ID, NEXT_VAL-1) LOCKING_VERSION) SELECT 1, 'gradeBlockId', 'none', COALESCE(MAX(CURRENT_VALUE+1), 0), 0 FROM SEQUENCE_VALUE WHERE SEQUENCE_NAME = 'GradeBlock.Id'</sql>
            <sql>INSERT INTO ENTITY_ID_GEN (ENTITY_ID_GEN_PK, TYPE_ID, DISCRIMINATOR_ID, NEXT_VAL-1) LOCKING_VERSION) SELECT 1, 'hazardId', 'none', COALESCE(MAX(CURRENT_VALUE+1), 0), 0 FROM SEQUENCE_VALUE WHERE SEQUENCE_NAME = 'Hazard.Id'</sql>
            <sql>INSERT INTO ENTITY_ID_GEN (ENTITY_ID_GEN_PK, TYPE_ID, DISCRIMINATOR_ID, NEXT_VAL-1) LOCKING_VERSION) SELECT 1, 'hazardTypeId', 'none', COALESCE(MAX(CURRENT_VALUE+1), 0), 0 FROM SEQUENCE_VALUE WHERE SEQUENCE_NAME = 'HazardType.Id'</sql>
            <sql>INSERT INTO ENTITY_ID_GEN (ENTITY_ID_GEN_PK, TYPE_ID, DISCRIMINATOR_ID, NEXT_VAL-1) LOCKING_VERSION) SELECT 1, 'inversionGoalID', 'none', COALESCE(MAX(CURRENT_VALUE+1), 0), 0 FROM SEQUENCE_VALUE WHERE SEQUENCE_NAME = 'InversionGoal.Id'</sql>
            <sql>INSERT INTO ENTITY_ID_GEN (ENTITY_ID_GEN_PK, TYPE_ID, DISCRIMINATOR_ID, NEXT_VAL-1) LOCKING_VERSION) SELECT 1, 'jobCodeId', 'none', COALESCE(MAX(CURRENT_VALUE+1), 0), 0 FROM SEQUENCE_VALUE WHERE SEQUENCE_NAME = 'JobCode.Id'</sql>
            <sql>INSERT INTO ENTITY_ID_GEN (ENTITY_ID_GEN_PK, TYPE_ID, DISCRIMINATOR_ID, NEXT_VAL-1) LOCKING_VERSION) SELECT 1, 'laneId', 'none', COALESCE(MAX(CURRENT_VALUE+1), 0), 0 FROM SEQUENCE_VALUE WHERE SEQUENCE_NAME = 'Lane.Id'</sql>
            <sql>INSERT INTO ENTITY_ID_GEN (ENTITY_ID_GEN_PK, TYPE_ID, DISCRIMINATOR_ID, NEXT_VAL-1) LOCKING_VERSION) SELECT 1, 'loadGoalID', 'none', COALESCE(MAX(CURRENT_VALUE+1), 0), 0 FROM SEQUENCE_VALUE WHERE SEQUENCE_NAME = 'LoadGoal.Id'</sql>
            <sql>INSERT INTO ENTITY_ID_GEN (ENTITY_ID_GEN_PK, TYPE_ID, DISCRIMINATOR_ID, NEXT_VAL-1) LOCKING_VERSION) SELECT 1, 'machineId', 'none', COALESCE(MAX(CURRENT_VALUE+1), 0), 0 FROM SEQUENCE_VALUE WHERE SEQUENCE_NAME = 'Machine.Id'</sql>
            <sql>INSERT INTO ENTITY_ID_GEN (ENTITY_ID_GEN_PK, TYPE_ID, DISCRIMINATOR_ID, NEXT_VAL-1) LOCKING_VERSION) SELECT 1, 'machineIconId', 'none', COALESCE(MAX(CURRENT_VALUE+1), 0), 0 FROM SEQUENCE_VALUE WHERE SEQUENCE_NAME = 'MachineClassIcon.Id'</sql>
            <sql>INSERT INTO ENTITY_ID_GEN (ENTITY_ID_GEN_PK, TYPE_ID, DISCRIMINATOR_ID, NEXT_VAL-1) LOCKING_VERSION) SELECT 1, 'machineTypeId', 'none', COALESCE(MAX(CURRENT_VALUE+1), 0), 0 FROM SEQUENCE_VALUE WHERE SEQUENCE_NAME = 'MachineType.Id'</sql>
            <sql>INSERT INTO ENTITY_ID_GEN (ENTITY_ID_GEN_PK, TYPE_ID, DISCRIMINATOR_ID, NEXT_VAL-1) LOCKING_VERSION) SELECT 1, 'messageId', 'none', COALESCE(MAX(CURRENT_VALUE+1), 0), 0 FROM SEQUENCE_VALUE WHERE SEQUENCE_NAME = 'StandardMessage.Id'</sql>
            <sql>INSERT INTO ENTITY_ID_GEN (ENTITY_ID_GEN_PK, TYPE_ID, DISCRIMINATOR_ID, NEXT_VAL-1) LOCKING_VERSION) SELECT 1, 'operatingStatusID', 'none', COALESCE(MAX(CURRENT_VALUE+1), 0), 0 FROM SEQUENCE_VALUE WHERE SEQUENCE_NAME = 'OperatingStatus.Id'</sql>
            <sql>INSERT INTO ENTITY_ID_GEN (ENTITY_ID_GEN_PK, TYPE_ID, DISCRIMINATOR_ID, NEXT_VAL-1) LOCKING_VERSION) SELECT 1, 'orePassID', 'none', COALESCE(MAX(CURRENT_VALUE+1), 0), 0 FROM SEQUENCE_VALUE WHERE SEQUENCE_NAME = 'OrePass.Id'</sql>
            <sql>INSERT INTO ENTITY_ID_GEN (ENTITY_ID_GEN_PK, TYPE_ID, DISCRIMINATOR_ID, NEXT_VAL-1) LOCKING_VERSION) SELECT 1, 'safetyItemId', 'none', COALESCE(MAX(CURRENT_VALUE+1), 0), 0 FROM SEQUENCE_VALUE WHERE SEQUENCE_NAME = 'SafetyCheckItem.Id'</sql>
            <sql>INSERT INTO ENTITY_ID_GEN (ENTITY_ID_GEN_PK, TYPE_ID, DISCRIMINATOR_ID, NEXT_VAL-1) LOCKING_VERSION) SELECT 1, 'scriptId', 'none', COALESCE(MAX(CURRENT_VALUE+1), 0), 0 FROM SEQUENCE_VALUE WHERE SEQUENCE_NAME = 'Script.Id'</sql>
            <sql>INSERT INTO ENTITY_ID_GEN (ENTITY_ID_GEN_PK, TYPE_ID, DISCRIMINATOR_ID, NEXT_VAL-1) LOCKING_VERSION) SELECT 1, 'zoneId', 'none', COALESCE(MAX(CURRENT_VALUE+1), 0), 0 FROM SEQUENCE_VALUE WHERE SEQUENCE_NAME = 'Zone.Id'</sql>
            <sql>INSERT INTO ENTITY_ID_GEN (ENTITY_ID_GEN_PK, TYPE_ID, DISCRIMINATOR_ID, NEXT_VAL-1) LOCKING_VERSION) SELECT 1, 'missionId', 'none', COALESCE(MAX(CURRENT_VALUE+1), 0), 0 FROM SEQUENCE_VALUE WHERE SEQUENCE_NAME = 'Mission.Id'</sql>
            <sql>INSERT INTO ENTITY_ID_GEN (ENTITY_ID_GEN_PK, TYPE_ID, DISCRIMINATOR_ID, NEXT_VAL-1) LOCKING_VERSION) SELECT 1, 'passId', 'none', COALESCE(MAX(CURRENT_VALUE+1), 0), 0 FROM SEQUENCE_VALUE WHERE SEQUENCE_NAME = 'Pass.Id'</sql>
            <sql>INSERT INTO ENTITY_ID_GEN (ENTITY_ID_GEN_PK, TYPE_ID, DISCRIMINATOR_ID, NEXT_VAL-1) LOCKING_VERSION) SELECT 1, 'crestPositionId', 'none', COALESCE(MAX(CURRENT_VALUE+1), 0), 0 FROM SEQUENCE_VALUE WHERE SEQUENCE_NAME = 'CrestPosition.Id'</sql>
        </rollback>
        <modifySql dbms="mssql,h2,postgresql">
            <regExpReplace replace="( USING INDEX)? (ON|TABLESPACE) MW_[A-Z]+" with=""/>
        </modifySql>
    </changeSet>


</databaseChangeLog>
