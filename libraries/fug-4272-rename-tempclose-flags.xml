<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd">
    <changeSet id="b3e4fc11-e2ef-4593-aca7-4385852ff901" author="MineStar" context="Underground/Underground_Management"
               failOnError="false">
        <preConditions
                onFailMessage="Ignored RenameColumn for CLOSED to table OPERATING_STATUS as table does not exist or column already exists."
                onFail="MARK_RAN">
            <tableExists tableName="OPERATING_STATUS"/>
            <not>
                <columnExists tableName="OPERATING_STATUS" columnName="CLOSED"/>
            </not>
        </preConditions>
        <comment>FUG-4272: RenameColumn from OPERATING_STATUS.TEMPCLOSE to OPERATING_STATUS.CLOSED</comment>
        <renameColumn tableName="OPERATING_STATUS" oldColumnName="TEMPCLOSE" newColumnName="CLOSED"/>
    </changeSet>
    <changeSet id="edae129c-25bb-4ce1-a372-3941b7044ecd" author="MineStar" context="Underground/Underground_Management"
               failOnError="false">
        <preConditions
                onFailMessage="Ignored RenameColumn for CLOSED to table DP_STATUS as table does not exist or column already exists."
                onFail="MARK_RAN">
            <tableExists tableName="DP_STATUS"/>
            <not>
                <columnExists tableName="DP_STATUS" columnName="CLOSED"/>
            </not>
        </preConditions>
        <comment>FUG-4272: RenameColumn from DP_STATUS.TEMPCLOSE to DP_STATUS.CLOSED</comment>
        <renameColumn tableName="DP_STATUS" oldColumnName="TEMPCLOSE" newColumnName="CLOSED"/>
    </changeSet>
</databaseChangeLog>
