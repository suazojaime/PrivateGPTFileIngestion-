<?xml version="1.0" encoding="UTF-8"?>
<ehcache updateCheck="false">

    <!-- Sets the path to the directory where cache .data files are created.

         If the path is a Java System Property it is replaced by
         its value in the running VM.

         The following properties are translated:
         user.home - User's home directory
         user.dir - User's current working directory
         java.io.tmpdir - Default temp file path -->
    <diskStore path="java.io.tmpdir"/>


    <!--Default Cache configuration. These will applied to caches programmatically created through
        the CacheManager.

        The following attributes are required for defaultCache:

        maxElementsInMemory - Sets the maximum number of objects that will be created in memory
        eternal           - Sets whether elements are eternal. If eternal,  timeouts are ignored and the element
                            is never expired.
        timeToIdleSeconds - Sets the time to idle for an element before it expires. Is only used
                            if the element is not eternal. Idle time is now - last accessed time
        timeToLiveSeconds - Sets the time to live for an element before it expires. Is only used
                            if the element is not eternal. TTL is now - creation time
        overflowToDisk="false" - in-memory only - do not persist
        -->
    <defaultCache
        maxElementsInMemory="10000"
        eternal="false"
        timeToIdleSeconds="120"
        timeToLiveSeconds="120"
        overflowToDisk="false"
        statistics="true">

    </defaultCache>

    <!--Predefined caches.  Add your cache configuration settings here.
        If you do not have a configuration for your cache a WARNING will be issued when the
        CacheManager starts

        The following attributes are required for defaultCache:

        name              - Sets the name of the cache. This is used to identify the cache. It must be unique.
        maxElementsInMemory - Sets the maximum number of objects that will be created in memory
        eternal           - Sets whether elements are eternal. If eternal,  timeouts are ignored and the element
                            is never expired.
        timeToIdleSeconds - Sets the time to idle for an element before it expires. Is only used
                            if the element is not eternal. Idle time is now - last accessed time
        timeToLiveSeconds - Sets the time to live for an element before it expires. Is only used
                            if the element is not eternal. TTL is now - creation time
        overflowToDisk="false" - in-memory only - do not persist
        -->

    <!-- Place configuration for your caches following -->

    <!-- Used to cache the hibernate domain classes
         in the model schema. -->
    <cache name="model"
        maxElementsInMemory="150000"
        eternal="false"
        timeToIdleSeconds="300"
        timeToLiveSeconds="600"
        overflowToDisk="false"
        statistics="true">
    </cache>

    <!-- Used to cache the hibernate domain classes that have a VERSION column
         in the model schema. -->
    <cache name="model-versioned"
        maxElementsInMemory="100000"
        eternal="false"
        timeToIdleSeconds="300"
        timeToLiveSeconds="600"
        overflowToDisk="false"
        statistics="true">
    </cache>

    <!-- Used to cache the hibernate domain classes
         in the model schema, specifically the
         grade block domain classes. -->
    <cache name="modelGradeBlockCache"
        maxElementsInMemory="30000"
        eternal="false"
        timeToIdleSeconds="300"
        timeToLiveSeconds="600"
        overflowToDisk="false"
        statistics="true">
    </cache>

    <!-- Used to cache the hibernate domain classes
         in the historical schema. -->
    <cache name="historical"
        maxElementsInMemory="21000"
        eternal="false"
        timeToIdleSeconds="300"
        timeToLiveSeconds="600"
        overflowToDisk="false"
        statistics="true">
    </cache>

    <!-- As used in the env class,
         minestar.platform.persistence.QueryContext.
         May want to review and remove later.
         Do we really need query caching? -->
    <cache name="defaultQueryCache"
        maxElementsInMemory="20000"
        eternal="false"
        timeToIdleSeconds="100"
        timeToLiveSeconds="300"
        overflowToDisk="false"
        statistics="true">
    </cache>

    <!-- Debatable that we would want to overload a
         hibernate class with a default cache configuration?
         May want to review and remove later. -->
    <cache name="org.hibernate.cache.internal.StandardQueryCache"
        maxElementsInMemory="20000"
        eternal="false"
        timeToIdleSeconds="100"
        timeToLiveSeconds="300"
        overflowToDisk="false"
        statistics="true">
    </cache>

    <!-- Debatable that we would want to overload a
         hibernate class with a default cache configuration?
         May want to review and remove later. -->
    <cache name="org.hibernate.cache.spi.UpdateTimestampsCache"
        maxElementsInMemory="10000"
        eternal="true"
        overflowToDisk="false"
        statistics="true">
    </cache>

    <!-- cache non-historical delays -->
    <cache name="delays"
           maxElementsInMemory="5000"
           eternal="true"
           overflowToDisk="false"
           statistics="true"
            />

    <!-- MineStar Health - Second level cache definitions -->

    <cache name="measureDef"
           maxElementsInMemory="50000"
           eternal="true"
           overflowToDisk="false"
           statistics="true">
    </cache>

    <cache name="measureAssociation"
           maxElementsInMemory="5000"
           eternal="false"
           timeToIdleSeconds="1800"
           timeToLiveSeconds="1800"
           overflowToDisk="false"
           statistics="true">
    </cache>

    <cache name="machineMeasureConfig"
           maxElementsInMemory="10000"
           eternal="false"
           timeToIdleSeconds="600"
           timeToLiveSeconds="600"
           overflowToDisk="false"
           statistics="true">
    </cache>

    <cache name="machineClassMeasureConfig"
           maxElementsInMemory="2000"
           eternal="false"
           timeToIdleSeconds="600"
           timeToLiveSeconds="600"
           overflowToDisk="false"
           statistics="true">
    </cache>

    <cache name="moduleDef"
           maxElementsInMemory="300"
           eternal="false"
           timeToIdleSeconds="3600"
           timeToLiveSeconds="3600"
           overflowToDisk="false"
           statistics="true">
    </cache>

    <cache name="fmiDef"
           maxElementsInMemory="300"
           eternal="false"
           timeToIdleSeconds="3600"
           timeToLiveSeconds="3600"
           overflowToDisk="false"
           statistics="true">
    </cache>

    <cache name="cidDef"
           maxElementsInMemory="300"
           eternal="false"
           timeToIdleSeconds="3600"
           timeToLiveSeconds="3600"
           overflowToDisk="false"
           statistics="true">
    </cache>

    <cache name="conditionDef"
           maxElementsInMemory="300"
           eternal="false"
           timeToIdleSeconds="3600"
           timeToLiveSeconds="3600"
           overflowToDisk="false"
           statistics="true">
    </cache>

    <cache name="healthLog"
           maxElementsInMemory="10000"
           eternal="false"
           timeToIdleSeconds="600"
           timeToLiveSeconds="600"
           overflowToDisk="false"
           statistics="true">
    </cache>

    <cache name="eventDefs"
           maxElementsInMemory="40000"
           eternal="false"
           timeToIdleSeconds="3600"
           timeToLiveSeconds="3600"
           overflowToDisk="false"
           statistics="true">
    </cache>

    <cache name="eventInstances"
           maxElementsInMemory="40000"
           eternal="false"
           timeToIdleSeconds="120"
           overflowToDisk="false"
           statistics="true">
    </cache>

    <cache name="measure.trends"
           maxElementsInMemory="300"
           eternal="false"
           timeToIdleSeconds="600"
           timeToLiveSeconds="600"
           overflowToDisk="false"
           statistics="true">
    </cache>


    <!-- End - MineStar Health -->

    <!-- As used by the domain classes
         in the Health_Management configuration.
         See DataTypeMapping.hbm.xml as an example. -->
    <cache name="healthHistorical"
        maxElementsInMemory="60000"
        eternal="false"
        timeToIdleSeconds="1800"
        timeToLiveSeconds="1800"
        overflowToDisk="false"
        statistics="true">
    </cache>

    <!-- As used in
         minestar.health.definition.ParameterBuilder -->
    <cache name="dataTypeDefs"
        maxElementsInMemory="3000"
        eternal="true"
        overflowToDisk="false"
        statistics="true">
    </cache>

    <!-- Cache lasts forever.
         As used in
         minestar.autonomy.service.mode.impl.ModeStatusDaoImpl --> 
    <cache name="modeStatusCache"
        maxElementsInMemory="1000"
        eternal="true"
        overflowToDisk="false"
        statistics="true">
    </cache>

    <!-- Cache will last 24 hours.
         As used in
         minestar.autonomy.service.mode.impl.ModeEventHistoryDaoImpl -->
    <cache name="modeEventHistory"
        maxElementsInMemory="1000"
        eternal="false"
        timeToIdleSeconds="86400"
        timeToLiveSeconds="86400"
        overflowToDisk="false"
        statistics="true">
    </cache>

</ehcache>
