<?xml version="1.0"?>
<!-- Copyright (c) 2021 Caterpillar -->

<!DOCTYPE hibernate-mapping PUBLIC
        "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
        "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">
<hibernate-mapping schema="historical" default-access="field" default-lazy="false">

    <class name="minestar.production.domain.watertruck.WaterTruckRefillEvent" table="WATERTRUCK_REFILL_EVENT">
        <meta attribute="table">
            tablespace=MW_ENT
        </meta>
        <meta attribute="primary-key">
            tablespace=MW_IDXENT
        </meta>

        <meta attribute="index" inherit="false">
            name=TIMESTAMP_UTC_IDX
            columns=TIMESTAMP_UTC
            tablespace=MW_IDXENT
        </meta>
        <meta attribute="index" inherit="false">
            name=WATERTRUCK_OID_IDX
            columns=WATERTRUCK_OID
            tablespace=MW_IDXENT
        </meta>

        <meta attribute="description">WaterTruck refill event</meta>

        <id name="OID" type="long" column="OID">
            <generator class="com.mincom.env.base.persistence.IDGenerator"/>
        </id>

        <property name="timestamp" type="TimestampType">
            <meta attribute="timestamp">true</meta>
            <meta attribute="utc-description">The utc time at which the refill operation/activity completed.</meta>
            <meta attribute="description">The utc time at which the refill operation/activity completed.</meta>
            <meta attribute="view-localtime">true</meta>
            <column name="TIMESTAMP_UTC"/>
        </property>

        <property name="duration" type="long" column="DURATION">
            <meta attribute="description">The duration of the refill activity roughly from arrival at the refill station to departure.</meta>
        </property>

        <property name="waterTruckOid" type="long" column="WATERTRUCK_OID">
            <meta attribute="alias">waterTruck</meta>
            <meta attribute="description">The OID of the Water Truck that was refilled.</meta>
<!--            <meta attribute="manyToOne">minestar.pitlink.domain.machine.MachineImpl</meta>-->
        </property>

        <property name="waterTruckName" type="string" column="WATERTRUCK_NAME" >
            <meta attribute="description">The name of the Water Truck that was refilled.</meta>
        </property>

        <property name="waterTruckMode" type="string" column="WATERTRUCK_MODE">
            <meta attribute="description">The mode of the Water Truck</meta>
        </property>

        <property name="refillAmount" column="REFILL_AMOUNT">
            <meta attribute="description">The amount of water used to refill the Water Truck during this refill event.</meta>
            <meta attribute="alias">refillAmount</meta>
            <meta attribute="unitType">liquid volume</meta>
            <type name="quantity">
                <param name="unitType">liquid volume</param>
            </type>
        </property>
    </class>

</hibernate-mapping>
