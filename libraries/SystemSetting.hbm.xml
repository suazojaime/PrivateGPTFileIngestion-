<?xml version="1.0"?>
<!-- Copyright (c) 2021 Caterpillar -->

<!DOCTYPE hibernate-mapping PUBLIC
        "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
        "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">

<hibernate-mapping default-access="field" default-lazy="false" schema="model">

    <class name="minestar.platform.service.settings.SystemSetting"
           table="SYSTEM_SETTING"
           dynamic-update="true">

        <meta attribute="view-master">true</meta>

        <meta attribute="table">
            tablespace=MW_ENT
            storage.initial=64K
            storage.next=64K
            storage.pctincrease=0
        </meta>
        <meta attribute="primary-key">
            tablespace=MW_IDXENT
            storage.initial=64k
            storage.next=64k
            storage.pctincrease=0
        </meta>

        <meta attribute="description">The definition of a system setting</meta>

        <cache usage="read-write" region="model"/>

        <composite-id name="key" class="minestar.platform.service.settings.SystemSettingKey">
            <key-property
                    name="collectionName"
                    type="java.lang.String"
                    column="COLLECTION_NAME">
                <meta attribute="description">The name of the collection of system settings</meta>
            </key-property>
            <key-property
                    name="name"
                    type="java.lang.String"
                    column="SETTING_NAME">
                <meta attribute="description">The name of this setting</meta>
            </key-property>
        </composite-id>

        <property name="value"
                  type="java.lang.String"
                  column="SETTING_VALUE"
                  not-null="false"
                  length="2000">
            <meta attribute="description">The value defined for this setting</meta>
        </property>

    </class>

</hibernate-mapping>
