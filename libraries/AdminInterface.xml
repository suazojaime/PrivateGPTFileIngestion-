<!-- Copyright (c) 2022 Caterpillar -->

<!--
    Beans for the server-side of the publish and subscribe service.
-->
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">

    <bean id="adminInterface" class="com.mincom.env.service.admin.ContainerAdminInterfaceBean" init-method="init"
          lazy-init="true">
    </bean>

    <!-- The depends-on attribute here lists the things which are the standard statistics offering for an object server.
         The web server will fill in the admin's name and do the initialisation.
    -->
    <bean id="objectServerAdmin" class="com.mincom.env.service.admin.ContainerAdminBean"
          lazy-init="true"
          depends-on="adminInterface, speedoNotification, speedoLogging, deadlockDetection, busyThreadDetection">
        <property name="admin" ref="adminInterface"/>
    </bean>

    <!-- The depends-on attribute here lists the things which are the standard statistics offering for MineStar
         running in a web container.
    -->
    <bean id="webServerAdmin" class="com.mincom.env.service.admin.ContainerAdminBean" init-method="init"
          lazy-init="true"
          depends-on="adminInterface, speedoLogging, deadlockDetection, busyThreadDetection">
        <property name="name" value="jetty"/>
        <property name="admin" ref="adminInterface"/>
    </bean>
</beans>
