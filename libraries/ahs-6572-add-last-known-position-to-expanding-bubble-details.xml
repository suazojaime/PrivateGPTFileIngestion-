<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd http://www.liquibase.org/xml/ns/dbchangelog-ext /dbchangelog-ext-3.1.xsd">
    <changeSet id="704150f2-2d5c-48e9-82b5-154a4b0ef1c2"
               context="Machine_Tracking/Machine_Tracking_Management"
               author="MineStar"
               failOnError="false">
        <preConditions onFailMessage="Ignored AddColumn for HEADING to table EXPANDING_BUBBLE as table does not exist or column already exists." onFail="MARK_RAN">
            <tableExists tableName="EXPANDING_BUBBLE"/>
            <not>
                <columnExists tableName="EXPANDING_BUBBLE" columnName="HEADING"/>
            </not>
        </preConditions>
        <comment>AHS-6572: AddColumn EXPANDING_BUBBLE.HEADING</comment>
        <addColumn tableName="EXPANDING_BUBBLE">
            <column name="HEADING" type="DOUBLE" remarks="The heading at the time of the last good position."/>
        </addColumn>
    </changeSet>
    <changeSet id="e6d6b0ab-b0e3-49ea-976b-52c39a9f2d78" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored AddColumn for LAST_POSITION_REPORT_DATE_UTC to table EXPANDING_BUBBLE as table does not exist or column already exists." onFail="MARK_RAN">
            <tableExists tableName="EXPANDING_BUBBLE"/>
            <not>
                <columnExists tableName="EXPANDING_BUBBLE" columnName="LAST_POSITION_REPORT_DATE_UTC"/>
            </not>
        </preConditions>
        <comment>AHS-6572: AddColumn EXPANDING_BUBBLE.LAST_POSITION_REPORT_DATE_UTC</comment>
        <addColumn tableName="EXPANDING_BUBBLE">
            <column name="LAST_POSITION_REPORT_DATE_UTC" type="DATETIME2" remarks="The time when the position report was last updated."/>
        </addColumn>
    </changeSet>
    <changeSet id="a2b1f691-e17e-4cd3-83cc-ff45b8226091" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored AddColumn for X to table EXPANDING_BUBBLE as table does not exist or column already exists." onFail="MARK_RAN">
            <tableExists tableName="EXPANDING_BUBBLE"/>
            <not>
                <columnExists tableName="EXPANDING_BUBBLE" columnName="X"/>
            </not>
        </preConditions>
        <comment>AHS-6572: AddColumn EXPANDING_BUBBLE.X</comment>
        <addColumn tableName="EXPANDING_BUBBLE">
            <column name="X" type="DOUBLE" remarks="The last known location of the machine."/>
        </addColumn>
    </changeSet>
    <changeSet id="856f064e-504e-4a66-8274-caadea42b022" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored AddColumn for Y to table EXPANDING_BUBBLE as table does not exist or column already exists." onFail="MARK_RAN">
            <tableExists tableName="EXPANDING_BUBBLE"/>
            <not>
                <columnExists tableName="EXPANDING_BUBBLE" columnName="Y"/>
            </not>
        </preConditions>
        <comment>AHS-6572: AddColumn EXPANDING_BUBBLE.Y</comment>
        <addColumn tableName="EXPANDING_BUBBLE">
            <column name="Y" type="DOUBLE" remarks="The last known location of the machine."/>
        </addColumn>
    </changeSet>
    <changeSet id="53f22538-24cd-44c3-be53-9075e31f7ffa" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored AddColumn for Z to table EXPANDING_BUBBLE as table does not exist or column already exists." onFail="MARK_RAN">
            <tableExists tableName="EXPANDING_BUBBLE"/>
            <not>
                <columnExists tableName="EXPANDING_BUBBLE" columnName="Z"/>
            </not>
        </preConditions>
        <comment>AHS-6572: AddColumn EXPANDING_BUBBLE.Z</comment>
        <addColumn tableName="EXPANDING_BUBBLE">
            <column name="Z" type="DOUBLE" remarks="The last known location of the machine."/>
        </addColumn>
    </changeSet>
    <changeSet id="892d315b-74df-43cc-80d7-514c8a1844d8" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored AddColumn for POSITION_ACCURACY to table EXPANDING_BUBBLE as table does not exist or column already exists." onFail="MARK_RAN">
            <tableExists tableName="EXPANDING_BUBBLE"/>
            <not>
                <columnExists tableName="EXPANDING_BUBBLE" columnName="POSITION_ACCURACY"/>
            </not>
        </preConditions>
        <comment>AHS-6572: AddColumn EXPANDING_BUBBLE.POSITION_ACCURACY</comment>
        <addColumn tableName="EXPANDING_BUBBLE">
            <column name="POSITION_ACCURACY" type="DOUBLE" remarks="The reported accuracy of the position."/>
        </addColumn>
    </changeSet>
</databaseChangeLog>
