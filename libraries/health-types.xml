<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd">

    <changeSet id="eb5143c9-034e-4f6e-b67d-c0c80aab2b6b" author="MineStar" dbms="oracle">
        <preConditions onFailMessage="Ignored CreateType for SAMPLE_TYPE as the type already exists." onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                <![CDATA[
SELECT COUNT(1) FROM USER_TYPES WHERE TYPE_NAME = 'SAMPLES_TYPE'
                ]]>
            </sqlCheck>
        </preConditions>
        <comment>Base 4.1 CreateType SAMPLE_TYPE</comment>
        <sql>
            <![CDATA[
CREATE OR REPLACE TYPE SAMPLE_TYPE IS OBJECT
(
    measureOid         NUMBER,
    sampleTime         TIMESTAMP,
    sampleSMH          NUMBER,
    sampleValue        FLOAT,
    fmiValue           NUMBER
);
            ]]>
        </sql>
        <rollback/>
    </changeSet>

    <changeSet id="f0942acf-31cf-45f7-bb88-27c679573885" author="MineStar" dbms="oracle">
        <preConditions onFailMessage="Ignored CreateType for SAMPLES_TYPE as the type already exists." onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                <![CDATA[
SELECT COUNT(1) FROM USER_TYPES WHERE TYPE_NAME = 'SAMPLES_TYPE'
                ]]>
            </sqlCheck>
        </preConditions>
        <comment>Base 4.1 CreateType SAMPLES_TYPE</comment>
        <sql>
            <![CDATA[
CREATE OR REPLACE TYPE SAMPLES_TYPE IS TABLE OF SAMPLE_TYPE;
            ]]>
        </sql>
        <rollback/>
    </changeSet>

    <changeSet id="c86a48f8-b20c-4c48-9f5f-170bdec211be" author="MineStar" dbms="oracle">
        <preConditions onFailMessage="Ignored CreateType for MEASURE_IDS_TYPE as the type already exists." onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                <![CDATA[
SELECT COUNT(1) FROM USER_TYPES WHERE TYPE_NAME = 'MEASURE_IDS_TYPE'
                ]]>
            </sqlCheck>
        </preConditions>
        <comment>Base 4.1 CreateType MEASURE_IDS_TYPE</comment>
        <sql>
            <![CDATA[
CREATE OR REPLACE TYPE MEASURE_IDS_TYPE IS TABLE OF NUMBER(19,0);
            ]]>
        </sql>
        <rollback/>
    </changeSet>

</databaseChangeLog>
