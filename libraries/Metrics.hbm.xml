<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC
        "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
        "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">
<hibernate-mapping default-access="field" schema="historical">

    <class name="minestar.platform.metrics.MetricDTO"
           table="PERFORMANCE_STATS">

        <meta attribute="table">
            tablespace=MW_ENT
        </meta>
        <meta attribute="primary-key">
            tablespace=MW_IDXENT
        </meta>

        <meta attribute="description">Performance Statistics</meta>

        <composite-id>
            <key-property name="process" type="string" length="30" column="PROCESS">
                <meta attribute="description">The process that generated the metrics</meta>
            </key-property>
            <key-property name="operation" type="string" length="1000" column="OPERATION">
                <meta attribute="description">The name of the operation</meta>
            </key-property>
            <key-property name="startTime" type="timestamp" column="START_TIME">
                <meta attribute="description">The start-time of the metric period</meta>
            </key-property>
        </composite-id>

        <property name="endTime" type="timestamp" column="END_TIME" not-null="true">
            <meta attribute="description">The end-time of the metric period</meta>
        </property>
        <property name="count" type="long" column="COUNTER" not-null="true">
            <meta attribute="description">The count of operations within the period</meta>
        </property>
        <property name="maxMillis" type="long" column="MAX_MILLIS" not-null="true">
            <meta attribute="description">The maximum invocation time (in milliseconds) within the period</meta>
        </property>
        <property name="totalMillis" type="long" column="TOTAL_MILLIS" not-null="true">
            <meta attribute="description">The total invocation time (in milliseconds) within the period</meta>
        </property>
    </class>
</hibernate-mapping>
