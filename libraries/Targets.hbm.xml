<?xml version="1.0"?>
<!-- Copyright (c) 2019 Caterpillar -->

<!DOCTYPE hibernate-mapping PUBLIC
        "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
        "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">
<hibernate-mapping package="minestar.health.domain.metadata" schema="model">

    <class name="HistogramTarget" table="HIST_TARGETS">
        <meta attribute="noDatabaseMetadata" inherit="true">true</meta>

        <!--
            Default order is 10
                enter a number either side of 10 to change
                the order the view is created
        -->
        <meta attribute="view-create-order">15</meta>


        <meta attribute="table">
            tablespace=MW_OBJ
        </meta>
        <meta attribute="primary-key">
            tablespace=MW_IDXOBJ
        </meta>
        
        <meta attribute="foreign-key">
            on-delete=CASCADE
        </meta>

        <id name="oid" type="java.lang.String" column="OID">
            <generator class="assigned"/>
        </id>

        <property name="family" type="string" column="FAMILY" length="32" not-null="true"/>
        <property name="category" type="string" column="CATEGORY" length="32" not-null="true"/>
        <property name="id" type="int" column="ID" not-null="true"/>
        <many-to-one name="histogram" class="HistogramDef" column="HISTOGRAM" not-null="true"/>

        <property name="name" type="string" column="NAME" length="32"/>
        <property name="description" type="string" column="DESCRIPTION" length="128"/>
        <property name="type" type="string" column="TYPE" length="32"/>
        <property name="fleet" type="string" column="FLEET" length="32"/>

        <property name="model" type="long" column="MODEL" not-null="true">
            <meta attribute="manyToOne" inherit="false">minestar.pitlink.domain.machine.MachineClassImpl</meta>
        </property>

        <property name="modelNumber" type="string" column="MODELNUMBER" length="32" not-null="true"/>
        <property name="modelName" type="string" column="MODELNAME" length="32" not-null="true"/>

        <property name="unitType" type="string" column="UNIT_TYPE" length="64"/>

        <property name="target" type="double" column="TARGET">
            <meta attribute="quantity">unitType</meta>
        </property>

    </class>

    <class name="TkphLimit" table="TKPH_LIMITS">

        <!--
            Default order is 10
                enter a number either side of 10 to change
                the order the view is created
        -->
        <meta attribute="view-create-order">15</meta>

        <meta attribute="noDatabaseMetadata" inherit="true">true</meta>
        <meta attribute="table">
            tablespace=MW_OBJ
        </meta>
        <meta attribute="primary-key">
            tablespace=MW_IDXOBJ
        </meta>
       <!--meta attribute="index">
            name=MID_DEF_ID
            columns=ID ASC
            unique=false
            tablespace=MW_IDXOBJ
        </meta-->

        <id name="oid" type="java.lang.String" column="OID">
            <generator class="assigned"/>
        </id>

        <property name="name" type="string" column="NAME" length="32"/>
        <property name="description" type="string" column="DESCRIPTION" length="128"/>
        <property name="type" type="string" column="TYPE" length="32"/>

        <property name="model" type="long" column="MODEL" not-null="true">
            <meta attribute="manyToOne" inherit="false">minestar.pitlink.domain.machine.MachineClassImpl</meta>
        </property>

        <property name="modelNumber" type="string" column="MODELNUMBER" length="32" not-null="true"/>
        <property name="modelName" type="string" column="MODELNAME" length="32" not-null="true"/>

        <property name="unitType" type="string" column="UNIT_TYPE" length="64"/>

        <property name="limit" type="double" column="LIMIT_VALUE">
            <meta attribute="quantity">unitType</meta>
        </property>

    </class>

</hibernate-mapping>
