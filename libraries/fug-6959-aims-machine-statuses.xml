<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd">
    <changeSet id="5e8a2caf-a7be-4a29-a9d5-57b25dd6fd3b" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored AddColumn for AIMS_STATUS to table MACHINE_IN_PIT as table does not exist or column already exists." onFail="MARK_RAN">
            <tableExists tableName="MACHINE_IN_PIT"/>
            <not>
                <columnExists tableName="MACHINE_IN_PIT" columnName="AIMS_STATUS"/>
            </not>
        </preConditions>
        <comment>FUG-6959: AddColumn MACHINE_IN_PIT.AIMS_STATUS</comment>
        <addColumn tableName="MACHINE_IN_PIT">
            <column name="AIMS_STATUS" type="INT"/>
        </addColumn>
    </changeSet>
    <changeSet id="13835432-2d80-483b-ba84-0c0bf071d740" author="MineStar" failOnError="false">
        <preConditions onFailMessage="Ignored AddColumn for AIMS_MACHINE_FAULT to table MACHINE_IN_PIT as table does not exist or column already exists." onFail="MARK_RAN">
            <tableExists tableName="MACHINE_IN_PIT"/>
            <not>
                <columnExists tableName="MACHINE_IN_PIT" columnName="AIMS_MACHINE_FAULT"/>
            </not>
        </preConditions>
        <comment>FUG-6959: AddColumn MACHINE.AIMS_MACHINE_FAULT</comment>
        <addColumn tableName="MACHINE_IN_PIT">
            <column name="AIMS_MACHINE_FAULT" type="VARCHAR(254)" remarks="The AIMS machine fault status."/>
        </addColumn>
    </changeSet>
    <changeSet id="4b7f49e4-f2c1-4c7e-abb8-67bea94d0881" author="MineStar" failOnError="false">
        <preConditions
                onFailMessage="Ignored AddColumn for AIMS_LAST_MESSAGE_UTC to table MACHINE_IN_PIT as table does not exist or column already exists."
                onFail="MARK_RAN">
            <tableExists tableName="MACHINE_IN_PIT"/>
            <not>
                <columnExists tableName="MACHINE_IN_PIT" columnName="AIMS_LAST_MESSAGE_UTC"/>
            </not>
        </preConditions>
        <comment>FUG-6959: AddColumn MACHINE.AIMS_LAST_MESSAGE_UTC</comment>
        <addColumn tableName="MACHINE_IN_PIT">
            <column name="AIMS_LAST_MESSAGE_UTC" type="DATETIME2"
                    remarks="The time at which we received the latest AIMS message."/>
        </addColumn>
    </changeSet>

</databaseChangeLog>


